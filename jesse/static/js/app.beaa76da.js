(()=>{var e={62866:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var s=i(74353),a=i.n(s),r=i(83826),n=i.n(r),o=i(2543),l=i.n(o);a().extend(n());const c={timestampToTime(e){return a()(parseInt(e)).utc().format("YYYY-MM-DD HH:mm:ss")},timestampToTimeOnly(e){return a()(parseInt(e)).utc().format("HH:mm:ss")},timestampToDate(e){return a()(parseInt(e)).utc().format("YYYY-MM-DD")},currentTime(){return a()().utc().format("HH:mm:ss")},localStorageSet(e,t){localStorage.setItem(e,JSON.stringify(t))},localStorageGet(e){return JSON.parse(localStorage.getItem(e))},getDefaultFromLocalStorage(e,t){return l().merge(t,c.localStorageGet(e))},secondsToHumanReadable(e){const t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),s=l().round(e-3600*t-60*i,2);return`${t}h ${i}m ${s}s`},remainingTimeText(e){if(0===Math.round(e))return"Please wait...";if(e>60){const t=this.secondsToHumanReadable(e);return`${t} remaining...`}return`${Math.round(e)} seconds remaining...`},roundPrice(e){return e>1?l().round(e,2):e},colorBasedOnSide(e){return"buy"===e?"text-green-600 dark:text-green-400":"sell"===e?"text-red-500 dark:text-red-400":"text-gray-900 dark:text-gray-200"},colorBasedOnType(e){return"long"===e?"text-green-600 dark:text-green-400":"short"===e?"text-red-500 dark:text-red-400":"text-gray-900 dark:text-gray-200"},colorBasedOnNumber(e){return e>0?"text-green-600 dark:text-green-400":e<0?"text-red-500 dark:text-red-400":"text-gray-900 dark:text-gray-200"},currentTheme(){return"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}},d=c},58031:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var s=i(72505),a=i.n(s);a().defaults.baseURL="http://127.0.0.1:9000";const r=a()},86875:(e,t,i)=>{"use strict";var s=i(53751),a=i(50953),r=i(20641);function n(e,t,i,s,a,n){const o=(0,r.g2)("Nav"),l=(0,r.g2)("router-view"),c=(0,r.g2)("Login");return(0,r.uX)(),(0,r.CE)(r.FK,null,[e.isAuthenticated?((0,r.uX)(),(0,r.Wv)(o,{key:0})):(0,r.Q3)("",!0),e.isAuthenticated?((0,r.uX)(),(0,r.Wv)(l,{key:1})):((0,r.uX)(),(0,r.Wv)(c,{key:2}))],64)}var o=i(99073),l=i(38839),c=i(87829),d=i(77159),h=i(521);const u={key:0,class:"absolute top-o l-0 w-full h-screen bg-white dark:bg-backdrop-dark z-40 select-none flex items-center justify-center"},p={class:"text-center"},m=(0,r.Fv)('<div class="w-full text-center"><img class="animate-bounce h-32 w-auto mx-auto dark:hidden" src="'+d+'" alt="Jesse Logo"><img class="animate-bounce h-32 w-auto mx-auto hidden dark:block" src="'+h+'" alt="Jesse Logo"></div><br><br><h1 class="text-gray-700 dark:text-gray-300">Welcome Back!</h1><br><p class="opacity-70 text-gray-700 dark:text-gray-300">Enter your password to continue:</p><br>',7),g={class:"mt-1 flex"},f={class:"relative flex items-stretch flex-grow focus-within:z-10"},b={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},_={type:"submit",class:"relative inline-flex items-center px-4 py-4 rounded bg-indigo-600 dark:bg-indigo-400 hover:bg-indigo-700 dark:hover:bg-indigo-300 focus:outline-none text-white dark:text-black text-base tracking-wide ml-2"};function v(e,t,i,a,n,o){const l=(0,r.g2)("LockClosedIcon"),c=(0,r.g2)("ArrowNarrowRightIcon");return n.open?((0,r.uX)(),(0,r.CE)("section",u,[(0,r.Lk)("div",p,[m,(0,r.Lk)("div",null,[(0,r.Lk)("form",{action:"/login",onSubmit:t[1]||(t[1]=(0,s.D$)(((...e)=>o.login&&o.login(...e)),["prevent"]))},[(0,r.Lk)("div",g,[(0,r.Lk)("div",f,[(0,r.Lk)("div",b,[(0,r.bF)(l,{class:"h-5 w-5 text-gray-600 dark:text-gray-400","aria-hidden":"true"})]),(0,r.bo)((0,r.Lk)("input",{id:"password","onUpdate:modelValue":t[0]||(t[0]=e=>n.password=e),type:"password",name:"password",autofocus:"",class:"dark:bg-gray-800 dark:border-gray-900 text-black dark:text-white focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 block w-full rounded pl-10 sm:text-sm border-gray-300",placeholder:"Password..."},null,512),[[s.Jo,n.password]])]),(0,r.Lk)("button",_,[(0,r.bF)(c,{class:"h-5 w-5 text-white","aria-hidden":"true"})])])],32)])])])):(0,r.Q3)("",!0)}var y=i(32984),x=i(54347),w=i(58031),k=i(96685);const C={name:"Login",components:{LockClosedIcon:y.A,ArrowNarrowRightIcon:x.A},data(){return{open:!0,password:""}},computed:{...(0,l.Us)(c.s,["isAuthenticated"])},created(){null!==sessionStorage.getItem("auth_key")&&(window.Cypress||this.setAuth())},methods:{...(0,l.i0)(c.s,["initiate"]),setAuth(){w.A.defaults.headers.common.Authorization=sessionStorage.auth_key,this.isAuthenticated=!0,this.initiate(),this.open=!1},login(){w.A.post("/auth",{password:this.password}).then((e=>{sessionStorage.auth_key=e.data.auth_token,this.setAuth(),k.A.success("Logged in successfully")})).catch((e=>{e.response?401===e.response.status?k.A.error("Incorrect password"):k.A.error(`[${e.response.status}]: ${e.response.statusText}`):k.A.error(`${e}`)}))}}};var S=i(66262);const T=(0,S.A)(C,[["render",v]]),A=T,M={name:"App",components:{Nav:o["default"],Login:A},computed:{...(0,l.aH)(c.s,["routes","settings"]),...(0,l.Us)(c.s,["isAuthenticated"])},watch:{isAuthenticated(e,t){!0===e&&this.initiate()},settings:{handler:function(e,t){this.updateConfig()},deep:!0}},created(){null!==sessionStorage.getItem("auth_key")&&(window.Cypress||this.setAuth())},methods:{setAuth(){w.A.defaults.headers.common.Authorization=sessionStorage.auth_key,this.isAuthenticated=!0},...(0,l.i0)(c.s,["initiate","updateConfig"])}},L=(0,S.A)(M,[["render",n]]),R=L;var E=i(75220);function I(e,t,i,s,a,n){const o=(0,r.g2)("Tabs"),l=(0,r.g2)("CandlesTab");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(o,{"page-id":n.pageId,tabs:e.tabs},null,8,["page-id","tabs"]),e.tabs[n.pageId]?((0,r.uX)(),(0,r.Wv)(l,{key:0,form:e.tabs[n.pageId].form,results:e.tabs[n.pageId].results},null,8,["form","results"])):(0,r.Q3)("",!0)],64)}var P=i(31676),F=i(90033);const D={key:0,class:"flex flex-col items-center justify-center select-none mt-[10%]"},B=["textContent"],z={class:"mt-8"},V={key:1,class:"mx-auto container mt-8"},O={key:0},W={key:1,"data-cy":"candles-page-content",class:"pb-4"},q={key:0,"data-cy":"symbol-error-section",class:"text-sm text-red-400 p-2 rounded-lg mb-4 mt-2"},j=["data-cy","innerHTML"],U={class:"flex items-center select-none flex-1"},N={key:0},H={key:0},X={key:1};function $(e,t,i,a,n,o){const l=(0,r.g2)("CircleProgressbar"),c=(0,r.g2)("BanIcon"),d=(0,r.g2)("Exception"),h=(0,r.g2)("Alert"),u=(0,r.g2)("Divider"),p=(0,r.g2)("ExclamationIcon"),m=(0,r.g2)("LightningBoltIcon"),g=(0,r.g2)("PlusSmIcon"),f=(0,r.g2)("LayoutWithSidebar");return i.form.debug_mode||!i.results.executing||i.results.showResults?((0,r.uX)(),(0,r.Wv)(f,{key:1},{left:(0,r.k6)((()=>[i.results.alert.message?((0,r.uX)(),(0,r.CE)("div",O,[(0,r.bF)(h,{data:i.results.alert},null,8,["data"])])):(0,r.Q3)("",!0),i.results.executing||i.results.showResults?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",W,[(0,r.bF)(u,{title:"Exchange"}),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.form.exchange=e),"data-cy":"candles-exchange",class:"dark:bg-backdrop-dark hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer w-full px-6 py-6 border border-gray-200 dark:border-gray-900 focus:outline-none focus:ring-0 dark:focus:border-indigo-400 focus:border-indigo-500 rounded-md"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.backtestingExchangeNames,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e},(0,F.v_)(e),1)))),128))],512),[[s.u1,i.form.exchange]]),(0,r.bF)(u,{class:"mt-16",title:"Symbol"}),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.form.symbol=e),"data-cy":"candles-symbol",placeholder:"ex: BTC-USDT",class:"dark:bg-backdrop-dark hover:bg-gray-50 dark:hover:bg-gray-800 w-full px-6 py-6 border border-gray-200 focus:outline-none focus:ring-0 dark:focus:border-indigo-400 focus:border-indigo-500 dark:border-gray-900 rounded-md"},null,512),[[s.Jo,i.form.symbol]]),n.totalSymbolError.length|0?((0,r.uX)(),(0,r.CE)("div",q,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.totalSymbolError,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"flex justify-start items-center mb-2"},[(0,r.bF)(p,{class:"-ml-1.5 mr-1 h-5 w-5"}),(0,r.Lk)("div",{"data-cy":"error"+t,innerHTML:e},null,8,j)])))),128))])):(0,r.Q3)("",!0),(0,r.bF)(u,{class:"mt-16",title:"Start Date"}),(0,r.Lk)("div",U,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.form.start_date=e),"data-cy":"candles-start-date",type:"date",name:"start_date",class:"dark:hover:bg-gray-800 hover:bg-gray-50 cursor-pointer dark:bg-backdrop-dark flex-1 focus:outline-none focus:ring-0 dark:focus:border-indigo-400 focus:border-indigo-500 flex justify-center items-center py-6 text-center sm:text-sm border border-gray-200 dark:border-gray-900 rounded-md"},null,512),[[s.Jo,i.form.start_date]])])]))])),right:(0,r.k6)((()=>[i.results.executing?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",N,[i.results.showResults?((0,r.uX)(),(0,r.CE)("div",H,[(0,r.Lk)("button",{class:"btn-primary text-center block w-full mb-4",onClick:t[4]||(t[4]=t=>e.rerun(e.$route.params.id))}," Rerun "),(0,r.Lk)("button",{class:"btn-secondary text-center block w-full mb-4",onClick:t[5]||(t[5]=t=>e.newBacktest(e.$route.params.id))}," New backtest ")])):((0,r.uX)(),(0,r.CE)("div",X,[(0,r.Lk)("button",{"data-cy":"start-button",class:"flex items-center justify-center btn-primary text-center w-full mb-4",onClick:t[6]||(t[6]=t=>e.start(e.$route.params.id))},[(0,r.bF)(m,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Start ")]),(0,r.Lk)("button",{"data-cy":"start-new-tab-button",class:"flex items-center justify-center btn-secondary text-center w-full mb-4",onClick:t[7]||(t[7]=t=>e.startInNewTab(e.$route.params.id))},[(0,r.bF)(g,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Start in a new tab ")])]))]))])),_:1})):((0,r.uX)(),(0,r.CE)("div",D,[(0,r.Lk)("div",null,[(0,r.bF)(l,{progress:i.results.progressbar.current},null,8,["progress"])]),i.results.exception.error?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("h3",{key:0,class:"mt-8 animate-pulse",textContent:(0,F.v_)(o.remainingTimeText)},null,8,B)),(0,r.Lk)("div",z,[(0,r.Lk)("button",{"data-cy":"import-candles-cancel-button",class:"flex items-center justify-center btn-secondary w-64",onClick:t[0]||(t[0]=t=>e.cancel(e.$route.params.id))},[(0,r.bF)(c,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Cancel ")])]),i.results.exception.error&&i.results.executing?((0,r.uX)(),(0,r.CE)("div",V,[(0,r.bF)(d,{title:i.results.exception.error,content:i.results.exception.traceback,mode:"candles"},null,8,["title","content"])])):(0,r.Q3)("",!0)]))}i(74423),i(44114);var Q=i(17376),K=i(98487),G=i(63184);const J={class:"grid grid-cols-1 gap-4 items-start lg:grid-cols-3 p-6"},Y={class:"grid grid-cols-1 gap-4 lg:col-span-2"},Z={"aria-labelledby":"section-1-title"},ee={class:"rounded-lg overflow-hidden"},te={class:"grid grid-cols-1 gap-4"},ie={"aria-labelledby":"section-2-title"};function se(e,t,i,s,a,n){return(0,r.uX)(),(0,r.CE)("div",J,[(0,r.Lk)("div",Y,[(0,r.Lk)("section",Z,[(0,r.Lk)("div",ee,[(0,r.RG)(e.$slots,"left")])])]),(0,r.Lk)("div",te,[(0,r.Lk)("section",ie,[(0,r.RG)(e.$slots,"right")])])])}const ae={name:"LayoutWithSidebar"},re=(0,S.A)(ae,[["render",se]]),ne=re;var oe=i(7437),le=i(62866);const ce={name:"CandlesTab",components:{LayoutWithSidebar:ne,ExclamationIcon:oe.A,LightningBoltIcon:Q.A,PlusSmIcon:K.A,BanIcon:G.A},props:{form:{type:Object,required:!0},results:{type:Object,required:!0}},data(){return{totalSymbolError:[],copiedForm:{symbol:this.form}}},computed:{...(0,l.aH)(c.s,["isInitiated","backtestingExchangeNames"]),remainingTimeText(){return le.A.remainingTimeText(this.results.progressbar.estimated_remaining_seconds)}},watch:{form:{handler(){this.initiate(),!0===this.isInitiated&&""!==this.form.exchange&&le.A.localStorageSet("candlesForm",this.form)},deep:!0},isInitiated(e,t){this.initiate()},copiedForm:{handler(){this.checkSymbol()},deep:!0}},created(){this.initiate(),this.checkSymbol()},methods:{...(0,l.i0)(P.B,["addTab","startInNewTab","start","cancel","rerun","newBacktest"]),initiate(){!0===this.isInitiated&&""===this.form.exchange&&(this.form.exchange=this.backtestingExchangeNames[0])},checkSymbol(){this.totalSymbolError=[];const e=[],t={maxSymbolLengthErrorMessage:"Maximum symbol length is exceeded!",mustContainDashErrorMessage:'Symbol parameter must contain "-" character!',emptySymbolErrorMessage:"Symbol parameter cannot be empty"};if(0===this.form.symbol.length&&e.push(t.emptySymbolErrorMessage),!e.includes(t.maxSymbolLengthErrorMessage)&&this.form.symbol.length>19&&e.push(t.maxSymbolLengthErrorMessage),this.form.symbol.length>=5){let i=!1;for(const e of this.form.symbol.substring(3,5))"-"===e&&(i=!0);i||e.push(t.mustContainDashErrorMessage)}for(const i of e)this.totalSymbolError.push(i)}}},de=(0,S.A)(ce,[["render",$]]),he=de;var ue=i(90093);const pe={name:"Candles",components:{Tabs:ue["default"],CandlesTab:he},computed:{...(0,l.Us)(P.B,["tabs"]),pageId(){return parseInt(this.$route.params.id)}}},me=(0,S.A)(pe,[["render",I]]),ge=me;function fe(e,t,i,s,a,n){const o=(0,r.g2)("Tabs"),l=(0,r.g2)("BacktestTab");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(o,{"page-id":n.pageId,tabs:e.tabs},null,8,["page-id","tabs"]),e.tabs[n.pageId]?((0,r.uX)(),(0,r.Wv)(l,{key:0,form:e.tabs[n.pageId].form,results:e.tabs[n.pageId].results},null,8,["form","results"])):(0,r.Q3)("",!0)],64)}var be=i(76639);const _e=e=>((0,r.Qi)("data-v-539de050"),e=e(),(0,r.jt)(),e),ve=["value"],ye={key:1,class:"flex flex-col items-center justify-center select-none mt-[10%]"},xe=["textContent"],we={class:"mt-8"},ke=["href"],Ce={key:1,class:"mx-auto container mt-8"},Se={key:0},Te={key:1,"data-cy":"backtest-content-section"},Ae={key:1,class:"hyperparameters-section"},Me=_e((()=>(0,r.Lk)("h3",{style:{"text-align":"center","font-size":"19px","margin-top":"10px","margin-bottom":"20px"}},"Strategy Parameters",-1))),Le={style:{padding:"0"}},Re=["for"],Ee=["id","onUpdate:modelValue","type"],Ie=["id","onUpdate:modelValue"],Pe=["value"],Fe=["id","onUpdate:modelValue","onChange"],De=_e((()=>(0,r.Lk)("option",{value:"true"},"True",-1))),Be=_e((()=>(0,r.Lk)("option",{value:"false"},"False",-1))),ze=[De,Be],Ve={class:"flex justify-center"},Oe={key:3,class:"text-center"},We={key:4,class:"status-text",style:{"margin-top":"10px","font-size":"1.25rem","font-weight":"bold"}},qe={key:5},je={key:6,class:"images-container my-4"},Ue=["src"],Ne={"data-cy":"backtest-option-section",class:"grid grid-cols-1 gap-6"},He={class:"flex items-center select-none flex-1 mb-4"},Xe={key:2,class:"w-full mx-auto"},$e={key:6,class:"text-yellow-500 border-yellow-400 bg-yellow-50 dark:bg-gray-700 dark:text-yellow-400 mt-16 text-center text-2xl rounded border-2 border-dashed dark:border-gray-800 py-16 select-none"},Qe={key:0},Ke={key:0},Ge=["href"],Je=["href"],Ye=["href"],Ze=["href"],et=["href"],tt=["href"],it=["href"],st=["href"],at=_e((()=>(0,r.Lk)("hr",{class:"my-8 border-2 dark:border-gray-600 rounded-full"},null,-1))),rt={key:1};function nt(e,t,i,a,n,o){const l=(0,r.g2)("Logs"),c=(0,r.g2)("CheckIcon"),d=(0,r.g2)("ClipboardIcon"),h=(0,r.g2)("SlideOver"),u=(0,r.g2)("CircleProgressbar"),p=(0,r.g2)("BanIcon"),m=(0,r.g2)("DocumentDownloadIcon"),g=(0,r.g2)("Exception"),f=(0,r.g2)("Alert"),b=(0,r.g2)("Routes"),_=(0,r.g2)("PencilAltIcon"),v=(0,r.g2)("Divider"),y=(0,r.g2)("LightningBoltIcon"),x=(0,r.g2)("ReplyIcon"),w=(0,r.g2)("ToggleButton"),k=(0,r.g2)("MultipleValuesTable"),C=(0,r.g2)("KeyValueTable"),S=(0,r.g2)("EquityCurve"),T=(0,r.g2)("RefreshIcon"),A=(0,r.g2)("KeyValueTableSimple"),M=(0,r.g2)("PlusSmIcon"),L=(0,r.g2)("LayoutWithSidebar"),R=(0,r.gN)("tooltip");return(0,r.uX)(),(0,r.CE)(r.FK,null,[i.form.debug_mode?((0,r.uX)(),(0,r.Wv)(h,{key:0,name:"logsModal",object:i.results,title:"Logs"},{default:(0,r.k6)((()=>[(0,r.bF)(l,{logs:i.results.infoLogs},null,8,["logs"])])),buttons:(0,r.k6)((()=>[(0,r.Lk)("button",{class:"btn-nav",onClick:t[0]||(t[0]=(...e)=>o.copyInfoLogs&&o.copyInfoLogs(...e))},[n.copiedLogsInfo?((0,r.uX)(),(0,r.Wv)(c,{key:0,class:"h-6 w-6","aria-hidden":"true"})):(0,r.Q3)("",!0),n.copiedLogsInfo||0==i.results.infoLogs.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(d,{key:1,class:"h-6 w-6","aria-hidden":"true"}))]),(0,r.Lk)("input",{id:"copy-info-logs",type:"hidden",value:i.results.infoLogs},null,8,ve)])),_:1},8,["object"])):(0,r.Q3)("",!0),i.results.executing&&!i.results.showResults?((0,r.uX)(),(0,r.CE)("div",ye,[(0,r.Lk)("div",null,[(0,r.bF)(u,{progress:i.results.progressbar.current},null,8,["progress"])]),i.results.exception.error?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("h3",{key:0,class:"mt-8 animate-pulse",textContent:(0,F.v_)(o.remainingTimeText)},null,8,xe)),(0,r.Lk)("div",we,[(0,r.Lk)("button",{"data-cy":"backtest-cancel-button",class:"flex justify-center items-center btn-cancel mb-4 w-64",onClick:t[1]||(t[1]=t=>e.cancel(e.$route.params.id))},[(0,r.bF)(p,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Cancel ")]),i.form.debug_mode&&i.results.exception.error&&0!==i.results.progressbar.current?((0,r.uX)(),(0,r.CE)("a",{key:0,href:o.logsUrl,class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[(0,r.bF)(m,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Debugging Logs ")],8,ke)):(0,r.Q3)("",!0)]),i.results.exception.error&&i.results.executing?((0,r.uX)(),(0,r.CE)("div",Ce,[(0,r.bF)(g,{title:i.results.exception.error,content:i.results.exception.traceback,mode:"backtest","debug-mode":i.form.debug_mode,"session-id":i.results.generalInfo.session_id},null,8,["title","content","debug-mode","session-id"])])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.bF)(L,{else:""},{left:(0,r.k6)((()=>[i.results.showResults&&i.results.alert.message?((0,r.uX)(),(0,r.CE)("div",Se,[(0,r.bF)(f,{data:i.results.alert},null,8,["data"])])):(0,r.Q3)("",!0),i.results.executing||i.results.showResults?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Te,[e.isInitiated?((0,r.uX)(),(0,r.Wv)(b,{key:0,form:i.form,results:i.results,onUpdateStrategyName:o.handleStrategyNameUpdate},null,8,["form","results","onUpdateStrategyName"])):(0,r.Q3)("",!0),i.results.shownHyperparameters&&i.results.shownHyperparameters.length?((0,r.uX)(),(0,r.CE)("div",Ae,[Me,(0,r.Lk)("ul",Le,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.results.shownHyperparameters,((e,i)=>((0,r.uX)(),(0,r.CE)("li",{key:i,style:{display:"flex","align-items":"center","margin-bottom":"10px"}},[(0,r.Lk)("label",{for:"param-"+i,style:{"font-weight":"700","margin-right":"10px"}},(0,F.v_)(e.name)+":",9,Re),"int"===e.type||"float"===e.type?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:0,id:"param-"+i,"onUpdate:modelValue":t=>e.default=t,class:(0,F.C4)(o.inputClass),type:o.getParamInputType(e.type),style:{"flex-grow":"0",width:"20%"},onInput:t[2]||(t[2]=(...e)=>o.onParameterChange&&o.onParameterChange(...e))},null,42,Ee)),[[s.hp,e.default]]):"str"===e.type?(0,r.bo)(((0,r.uX)(),(0,r.CE)("select",{key:1,id:"param-"+i,"onUpdate:modelValue":t=>e.default=t,class:(0,F.C4)(o.inputClass),style:{"flex-grow":"0",width:"20%"},onChange:t[3]||(t[3]=(...e)=>o.onParameterChange&&o.onParameterChange(...e))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.list,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,F.v_)(e),9,Pe)))),128))],42,Ie)),[[s.u1,e.default]]):"bool"===e.type?(0,r.bo)(((0,r.uX)(),(0,r.CE)("select",{key:2,id:"param-"+i,"onUpdate:modelValue":t=>e.default=t,class:(0,F.C4)(o.inputClass),style:{"flex-grow":"0",width:"20%"},onChange:t=>o.onBooleanChange(e,t)},ze,42,Fe)),[[s.u1,e.default]]):(0,r.Q3)("",!0)])))),128))]),(0,r.Lk)("div",Ve,[n.isParametersModified?(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{key:0,class:"flex items-center bg-green-500 text-white text-md py-2 px-4 rounded mt-4 hover:bg-green-600",onClick:t[4]||(t[4]=(...e)=>o.updateStrategy&&o.updateStrategy(...e))},[(0,r.bF)(_,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Update Strategy ")])),[[R,{content:"Warning: Hashtag python commments are not preserved",class:"red-tooltip"}]]):(0,r.Q3)("",!0)])])):(0,r.Q3)("",!0),i.results.shownHyperparameters&&2===i.results.shownHyperparameters.length?((0,r.uX)(),(0,r.Wv)(v,{key:2,class:"mt-16",title:"Parameter Evaluation"})):(0,r.Q3)("",!0),i.results.shownHyperparameters&&2===i.results.shownHyperparameters.length?((0,r.uX)(),(0,r.CE)("div",Oe,[i.results.image_status?(0,r.Q3)("",!0):(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{key:0,class:"flex items-center justify-center btn-purple text-center mb-4 w-full",onClick:t[5]||(t[5]=t=>e.eval_param_start(e.$route.params.id))},[(0,r.bF)(y,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Start ")])),[[R,"Conduct backtests over all possible parameter combinations for the hyperparameter ranges to generate plots showing profitable parameter combinations."]]),i.results.images&&"finished"===i.results.image_status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{key:1,class:"flex items-center justify-center btn-success text-center mb-4 w-full",onClick:t[6]||(t[6]=t=>e.eval_param_start(e.$route.params.id))},[(0,r.bF)(x,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Start again ")])),[[R,"Conduct backtests over all possible parameter combinations for the hyperparameter ranges to generate plots showing profitable parameter combinations."]]):(0,r.Q3)("",!0),i.results.image_status&&"finished"!==i.results.image_status?((0,r.uX)(),(0,r.CE)("button",{key:2,"data-cy":"backtest-cancel-button",class:"flex justify-center items-center btn-cancel text-center mb-4 w-full",onClick:t[7]||(t[7]=t=>e.cancel(e.$route.params.id))},[(0,r.bF)(p,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Cancel ")])):(0,r.Q3)("",!0),i.results.image_status&&"finished"!==i.results.image_status?((0,r.uX)(),(0,r.CE)("div",{key:3,class:(0,F.C4)([{"red-text":"Exception occurred"===i.results.image_status},"status-text"]),style:{"margin-top":"10px","font-size":"1.25rem","font-weight":"bold"}},(0,F.v_)(i.results.image_status),3)):(0,r.Q3)("",!0),"finished"===i.results.image_status?((0,r.uX)(),(0,r.CE)("div",We,(0,F.v_)(o.formatRoute(i.results.route_copy[0])),1)):(0,r.Q3)("",!0),i.results.images&&i.results.images.length?((0,r.uX)(),(0,r.CE)("div",qe,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>n.imageWidth=e),type:"range",min:"100",max:"1800"},null,512),[[s.Jo,n.imageWidth]]),(0,r.Lk)("span",null,(0,F.v_)(n.imageWidth)+"px",1)])):(0,r.Q3)("",!0),i.results.images&&i.results.images.length?((0,r.uX)(),(0,r.CE)("div",je,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.results.images,((e,t)=>((0,r.uX)(),(0,r.CE)("img",{key:t,src:e.src,class:"resizable-images my-2",style:(0,F.Tr)({width:n.imageWidth+"px"})},null,12,Ue)))),128))])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.bF)(v,{class:"mt-16",title:"Options"}),(0,r.Lk)("div",Ne,[(0,r.bF)(w,{object:i.form,name:"debug_mode",title:"Debug Mode",description:"Logs every step of the execution. Very helpful for debugging your strategy but takes a lot longer to execute"},null,8,["object"]),(0,r.bF)(w,{object:i.form,name:"export_chart",title:"Export Charts",description:"Exports charts for your portfolio's daily balance."},null,8,["object"]),(0,r.bF)(w,{object:i.form,name:"export_tradingview",title:"Export Tradingview",description:"Exports the executed trades in a format accepted by TradingView's Pine Editor. Useful to look at the executed orders on their chart."},null,8,["object"]),(0,r.bF)(w,{object:i.form,name:"export_full_reports",title:"Export QuantStats reports",description:"Exports a HTML file generated by QuantStats library."},null,8,["object"]),(0,r.bF)(w,{object:i.form,name:"export_backtesting_chart",title:"Export Backtesting Chart",description:"Exports a chart with candlesticks and plotted indicators."},null,8,["object"]),(0,r.bF)(w,{object:i.form,name:"export_correlation_table",title:"Export Correlation Table",description:"Exports a table with correlation between assets."},null,8,["object"]),(0,r.bF)(w,{object:i.form,name:"export_csv",title:"Export CSV",description:"Exports executed trades in a CSV format"},null,8,["object"]),(0,r.bF)(w,{object:i.form,name:"export_json",title:"Export JSON",description:"Exports executed trades in a JSON format"},null,8,["object"])]),(0,r.bF)(v,{class:"mt-16",title:"Duration"}),(0,r.Lk)("div",He,[(0,r.bo)((0,r.Lk)("input",{id:"start_date","onUpdate:modelValue":t[9]||(t[9]=e=>i.form.start_date=e),"data-cy":"backtest-start-date",type:"date",name:"start_date",class:"dark:bg-backdrop-dark dark:border-gray-900 dark:hover:bg-gray-700 hover:bg-gray-50 flex-1 cursor-pointer focus:ring-indigo-500 focus:border-indigo-500 dark:focus:border-indigo-400 flex justify-center items-center w-48 py-4 text-center sm:text-sm border-gray-300 rounded-l-md border-r-0"},null,512),[[s.Jo,i.form.start_date]]),(0,r.bo)((0,r.Lk)("input",{id:"finish_date","onUpdate:modelValue":t[10]||(t[10]=e=>i.form.finish_date=e),"data-cy":"backtest-finish-date",type:"date",name:"finish_date",class:"dark:border-gray-900 dark:hover:bg-gray-700 hover:bg-gray-50 dark:bg-backdrop-dark flex-1 cursor-pointer focus:ring-indigo-500 focus:border-indigo-500 dark:focus:border-indigo-400 flex justify-center items-center w-48 py-4 text-center sm:text-sm border-gray-300 rounded-r-md"},null,512),[[s.Jo,i.form.finish_date]])])])),i.results.showResults?((0,r.uX)(),(0,r.CE)("div",Xe,[(0,r.Lk)("div",null,[(0,r.bF)(v,{title:"Routes"}),(0,r.bF)(k,{data:i.results.routes_info,header:""},null,8,["data"]),i.results.hyperparameters.length?((0,r.uX)(),(0,r.Wv)(v,{key:0,class:"mt-16",title:"Hyperparameters"})):(0,r.Q3)("",!0),i.results.hyperparameters.length?((0,r.uX)(),(0,r.Wv)(C,{key:1,data:i.results.hyperparameters},null,8,["data"])):(0,r.Q3)("",!0),o.hasExecutedTrades?((0,r.uX)(),(0,r.Wv)(v,{key:2,class:"mt-16",title:"Equity Curve"})):(0,r.Q3)("",!0),o.hasExecutedTrades?((0,r.uX)(),(0,r.Wv)(S,{key:3,"equity-curve":i.results.charts.equity_curve},null,8,["equity-curve"])):(0,r.Q3)("",!0),o.hasExecutedTrades?((0,r.uX)(),(0,r.Wv)(v,{key:4,class:"mt-16",title:"Performance"})):(0,r.Q3)("",!0),o.hasExecutedTrades?((0,r.uX)(),(0,r.Wv)(C,{key:5,data:i.results.metrics},null,8,["data"])):(0,r.Q3)("",!0),o.hasExecutedTrades?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",$e," No trades were executed via this strategy! "))])])):(0,r.Q3)("",!0)])),right:(0,r.k6)((()=>[i.results.executing?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Qe,[i.results.showResults?((0,r.uX)(),(0,r.CE)("div",Ke,[(0,r.Lk)("button",{class:"flex justify-center items-center btn-primary text-center mb-4 w-full",onClick:t[11]||(t[11]=t=>e.rerun(e.$route.params.id))},[(0,r.bF)(T,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Rerun ")]),(0,r.Lk)("button",{class:"flex justify-center items-center btn-success text-center mb-4 w-full",onClick:t[12]||(t[12]=t=>e.newBacktest(e.$route.params.id))},[(0,r.bF)(x,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" New session ")]),i.form.debug_mode?((0,r.uX)(),(0,r.CE)("a",{key:0,href:o.logsUrl,target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[(0,r.bF)(m,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Debugging Logs ")],8,Ge)):(0,r.Q3)("",!0),i.form.export_chart&&o.hasExecutedTrades?((0,r.uX)(),(0,r.CE)("a",{key:1,href:o.legacyChartUrl,target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[(0,r.bF)(m,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Legacy Chart ")],8,Je)):(0,r.Q3)("",!0),i.form.export_full_reports&&o.hasExecutedTrades?((0,r.uX)(),(0,r.CE)("a",{key:2,href:o.fullReportsUrl,target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[(0,r.bF)(m,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" QuantStats Report ")],8,Ye)):(0,r.Q3)("",!0),i.form.export_backtesting_chart&&o.hasExecutedTrades?((0,r.uX)(),(0,r.CE)("a",{key:3,href:o.backtestingChartUrl,target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[(0,r.bF)(m,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Backtesting Chart ")],8,Ze)):(0,r.Q3)("",!0),i.form.export_correlation_table&&o.hasExecutedTrades?((0,r.uX)(),(0,r.CE)("a",{key:4,href:o.correlationTableUrl,target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[(0,r.bF)(m,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Correlation Table ")],8,et)):(0,r.Q3)("",!0),i.form.export_csv&&o.hasExecutedTrades?((0,r.uX)(),(0,r.CE)("a",{key:5,href:o.csvUrl,target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[(0,r.bF)(m,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" CSV ")],8,tt)):(0,r.Q3)("",!0),i.form.export_json&&o.hasExecutedTrades?((0,r.uX)(),(0,r.CE)("a",{key:6,href:o.jsonUrl,target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[(0,r.bF)(m,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" JSON ")],8,it)):(0,r.Q3)("",!0),i.form.export_tradingview&&o.hasExecutedTrades?((0,r.uX)(),(0,r.CE)("a",{key:7,href:o.tradingviewUrl,target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[(0,r.bF)(m,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" TradingView Pine Editor ")],8,st)):(0,r.Q3)("",!0),at,(0,r.bF)(A,{data:i.results.info},null,8,["data"])])):((0,r.uX)(),(0,r.CE)("div",rt,[(0,r.Lk)("button",{"data-cy":"start-button",class:"flex items-center justify-center btn-primary text-center mb-4 w-full",onClick:t[13]||(t[13]=t=>e.start(e.$route.params.id))},[(0,r.bF)(y,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Start ")]),(0,r.Lk)("button",{"data-cy":"start-new-tab-button",class:"flex items-center justify-center btn-secondary text-center mb-4 w-full",onClick:t[14]||(t[14]=t=>e.startInNewTab(e.$route.params.id))},[(0,r.bF)(M,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Start in a new tab ")])]))]))])),_:1})],64)}var ot=i(99241),lt=i(77207),ct=i(41890),dt=i(43126),ht=i(81204),ut=i(78110),pt=i(36289),mt=i(80598),gt=i(54377),ft=i(31652),bt=i(20546),_t=i(82237);const vt={name:"BacktestTab",components:{LayoutWithSidebar:ne,Logs:lt["default"],ToggleButton:bt["default"],MultipleValuesTable:ct["default"],ClipboardIcon:dt.A,CheckIcon:ht.A,SlideOver:ft["default"],LightningBoltIcon:Q.A,PlusSmIcon:K.A,RefreshIcon:ut.A,ReplyIcon:pt.A,DocumentDownloadIcon:mt.A,BanIcon:G.A,Divider:_t["default"],PencilAltIcon:gt.A},directives:{tooltip:ot.yw},props:{form:{type:Object,required:!0},results:{type:Object,required:!0}},data(){return{imageWidth:800,strategyName:"",showNestedButtons:!1,originalHyperparameters:[],copiedLogsInfo:!1,svgObject:{display:!1},isParametersModified:!1}},computed:{...(0,l.Us)(c.s,["theme"]),inputClass(){return"dark"===this.theme?"input-dark":"input-light"},legacyChartUrl(){let e=`/download/backtest/chart/${this.results.generalInfo.session_id}?token=${this.auth_key}`;return"/"!==this.baseURL&&(e=this.baseURL+e),e},logsUrl(){let e=`/download/backtest/log/${this.results.generalInfo.session_id}?token=${this.auth_key}`;return"/"!==this.baseURL&&(e=this.baseURL+e),e},tradingviewUrl(){let e=`/download/backtest/tradingview/${this.results.generalInfo.session_id}?token=${this.auth_key}`;return"/"!==this.baseURL&&(e=this.baseURL+e),e},fullReportsUrl(){let e=`/download/backtest/full-reports/${this.results.generalInfo.session_id}?token=${this.auth_key}`;return"/"!==this.baseURL&&(e=this.baseURL+e),e},backtestingChartUrl(){let e=`/download/backtest/backtesting-chart/${this.results.generalInfo.session_id}?token=${this.auth_key}`;return"/"!==this.baseURL&&(e=this.baseURL+e),e},correlationTableUrl(){let e=`/download/backtest/correlation-table/${this.results.generalInfo.session_id}?token=${this.auth_key}`;return"/"!==this.baseURL&&(e=this.baseURL+e),e},csvUrl(){let e=`/download/backtest/csv/${this.results.generalInfo.session_id}?token=${this.auth_key}`;return"/"!==this.baseURL&&(e=this.baseURL+e),e},jsonUrl(){let e=`/download/backtest/json/${this.results.generalInfo.session_id}?token=${this.auth_key}`;return"/"!==this.baseURL&&(e=this.baseURL+e),e},hasExecutedTrades(){return this.results.metrics.length>0},...(0,l.aH)(c.s,["isInitiated","baseURL"]),auth_key(){return sessionStorage.auth_key},remainingTimeText(){return le.A.remainingTimeText(this.results.progressbar.estimated_remaining_seconds)}},watch:{form:{handler(){le.A.localStorageSet("backtestForm",this.form)},deep:!0},"results.shownHyperparameters":{immediate:!0,handler(e){this.originalHyperparameters=JSON.parse(JSON.stringify(e))}}},methods:{formatRoute(e){return`${e.exchange}, ${e.symbol}, ${e.timeframe}, ${e.strategy}`},currentTheme(){return"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},toggleNestedButtons(){this.showNestedButtons=!this.showNestedButtons},onBooleanChange(e,t){e.default="true"===t.target.value,this.onParameterChange()},handleStrategyNameUpdate(e){this.strategyName=e},onParameterChange(){this.isParametersModified=!this.areParametersUnchanged()},areParametersUnchanged(){return this.results.shownHyperparameters.every(((e,t)=>{const i=this.originalHyperparameters[t];return"object"===typeof e.default?JSON.stringify(e.default)===JSON.stringify(i.default):e.default===i.default}))},updateStrategy(){const e=this.getCurrentPathSegment(),t=this.results.shownHyperparameters.reduce(((e,t)=>("float"===t.type?e[t.name]=t.default.toString():e[t.name]=t.default,e)),{});w.A.put("/strategy-hyperparameters",{id:e.segment,current_page:e.number,strategy_name:this.strategyName,hyperparameters:t}).then((e=>{this.isParametersModified=!1})).catch((e=>{console.error(e.response.data)})),this.isParametersModified=!1,this.originalHyperparameters=JSON.parse(JSON.stringify(this.results.shownHyperparameters))},getCurrentPathSegment(){const e=this.$route.path.split("/").filter(Boolean);return e.length>=2?{segment:e[0],number:e[1]}:1===e.length?{segment:e[0],number:String(1)}:void 0},getParamInputType(e){return"int"===e?"number":"text"},...(0,l.i0)(be._,["addTab","startInNewTab","start","eval_param_start","cancel","rerun","newBacktest"]),copyInfoLogs(){const e=document.querySelector("#copy-info-logs");e.setAttribute("type","text"),e.select(),document.execCommand("copy"),this.copiedLogsInfo=!0,e.setAttribute("type","hidden"),window.getSelection().removeAllRanges(),setTimeout((()=>{this.copiedLogsInfo=!1}),3e3)}}},yt=(0,S.A)(vt,[["render",nt],["__scopeId","data-v-539de050"]]),xt=yt,wt={name:"Backtest",components:{Tabs:ue["default"],BacktestTab:xt},computed:{...(0,l.Us)(be._,["tabs"]),pageId(){return parseInt(this.$route.params.id)}}},kt=(0,S.A)(wt,[["render",fe]]),Ct=kt,St={class:"max-w-6xl w-full mx-auto px-4 py-5"},Tt=(0,r.Lk)("div",{class:"bg-pink-500"},null,-1),At=(0,r.Lk)("div",null,null,-1),Mt=(0,r.Lk)("div",null,null,-1),Lt=(0,r.Lk)("div",null,null,-1),Rt=(0,r.Lk)("h1",{class:"mb-1 font-bold"},"Charts",-1),Et=(0,r.Lk)("h2",{class:"mb-4"}," Equity curve ",-1);function It(e,t,i,s,a,n){const o=(0,r.g2)("EquityCurve");return(0,r.uX)(),(0,r.CE)("div",St,[Tt,At,Mt,Lt,Rt,Et,(0,r.bF)(o,{class:"mb-8","equity-curve":a.equityCurve},null,8,["equity-curve"]),(0,r.Lk)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>n.getRandomData&&n.getRandomData(...e))}," Get random data ")])}const Pt=[{value:1e4,time:1612410540},{value:11240.231560725342,time:1612420320},{value:254369.4912485959,time:1612602780},{value:-489028.803655967,time:1612663320},{value:-484197.7802230198,time:1612685580},{value:-244547.05983960393,time:1612788420},{value:-206530.29565983053,time:1612817340},{value:1451947.0971254236,time:1613433600}],Ft=[{time:16225056e5,value:1e4},{time:1622592e6,value:9684.452381828},{time:16226784e5,value:10106.481005982003},{time:16227648e5,value:10068.463634272},{time:16228512e5,value:9917.305238247001},{time:16229376e5,value:10371.068634044},{time:1623024e6,value:10711.963949255003}],Dt=[{time:16225056e5,value:11e3},{time:1622592e6,value:19684.452381828},{time:16226784e5,value:12106.481005982003},{time:16227648e5,value:13068.463634272},{time:16228512e5,value:14917.305238247001},{time:16229376e5,value:11371.068634044},{time:1623024e6,value:11711.963949255003}],Bt=[{closed_at:161242032e4,PNL_percentage:67.34726608477291,holding_period:9780,type:"long",symbol:"BTC-USDT",strategy_name:"ScalperLong08mV1",exchange:"Binance",ordersLength:2},{closed_at:161260278e4,PNL_percentage:411.84403683655006,holding_period:173760,type:"long",symbol:"BTC-USDT",strategy_name:"ScalperLong08mV1",exchange:"Binance",ordersLength:12},{closed_at:161266332e4,PNL_percentage:-119.00510807164196,holding_period:29040,type:"long",symbol:"BTC-USDT",strategy_name:"ScalperLong08mV1",exchange:"Binance",ordersLength:7},{closed_at:161268558e4,PNL_percentage:131.8049098640655,holding_period:20880,type:"long",symbol:"BTC-USDT",strategy_name:"ScalperLong08mV1",exchange:"Binance",ordersLength:4},{closed_at:161278842e4,PNL_percentage:356.68583922713884,holding_period:91440,type:"long",symbol:"BTC-USDT",strategy_name:"ScalperLong08mV1",exchange:"Binance",ordersLength:12},{closed_at:161281734e4,PNL_percentage:133.3518678930272,holding_period:9060,type:"long",symbol:"BTC-USDT",strategy_name:"ScalperLong08mV1",exchange:"Binance",ordersLength:2},{closed_at:16134336e5,PNL_percentage:361.6758449717392,holding_period:573900,type:"long",symbol:"BTC-USDT",strategy_name:"ScalperLong08mV1",exchange:"Binance",ordersLength:11}],zt=[{time:1612410540,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612420320,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612429020,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612429140,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612429200,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612429920,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612451460,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612452120,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612569660,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612571820,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612574100,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612574700,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612581480,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612602780,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612634280,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612640340,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612642620,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612653060,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612653960,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612656060,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612663320,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612664700,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612673220,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612684140,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612685580,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612696980,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612700700,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612706700,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612710720,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612711140,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612714500,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612782060,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612788300,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612788300,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612788300,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612788360,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612788420,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612808280,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612817340,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1612859700,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612863300,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612868220,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612875540,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612960800,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1612971720,position:"inBar",color:"#28bd14",shape:"circle",text:""},{time:1613049540,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1613049720,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1613088720,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1613282520,position:"inBar",color:"#d43939",shape:"circle",text:""},{time:1613433600,position:"inBar",color:"#d43939",shape:"circle",text:""}],Vt=[{time:1612396800,open:38085.27,high:38288,low:37505.51,close:37896.36,volume:4575.3601739999995},{time:1612407600,open:37896.36,high:38015.5,low:37326.83,close:37578.23,volume:7987.953783999994},{time:1612418400,open:37577.31,high:38708.27,low:37015,close:37338.19,volume:16283.993044999992},{time:1612429200,open:37339.11,high:37922.78,low:36662.45,close:37321.75,volume:14145.931777999987},{time:161244e4,open:37319.43,high:37763.57,low:36626.86,close:36795.15,volume:11015.717127999997},{time:1612450800,open:36795.15,high:37070,low:36161.95,close:36884.34,volume:12896.781704000003},{time:1612461600,open:36884.34,high:37783.83,low:36761.89,close:37613.31,volume:9095.971158999997},{time:1612472400,open:37613.32,high:37729.82,low:36841.77,close:36936.66,volume:7619.473993999996},{time:1612483200,open:36936.65,high:37300,low:36570,close:36958.28,volume:8018.692338999998},{time:1612494e3,open:36958.33,high:37499,low:36909.71,close:37065.97,volume:6247.534039000004},{time:1612504800,open:37065.98,high:37800,low:37021.8,close:37705.27,volume:9092.729166},{time:1612515600,open:37705.27,high:37769.85,low:37200,close:37691.32,volume:7006.510337000003},{time:1612526400,open:37691.32,high:38310.12,low:37527.14,close:38095.02,volume:12273.787349999995},{time:1612537200,open:38095.14,high:38288.19,low:37655.17,close:37894.61,volume:10333.85052},{time:1612548e3,open:37894.61,high:37922.44,low:37230,close:37740.39,volume:8181.450186000005},{time:1612558800,open:37740.4,high:38309,low:37652.79,close:38290.24,volume:5526.780336999998},{time:1612569600,open:38289.32,high:39535.36,low:38215.94,close:39382.1,volume:21313.304470000006},{time:1612580400,open:39383.26,high:39666,low:38600,close:39014.73,volume:9691.425624000001},{time:1612591200,open:39015.08,high:39699.69,low:38989.9,close:39425.02,volume:8423.735182999999},{time:1612602e3,open:39427,high:40479.86,low:39400,close:40199.99,volume:15148.28918499999},{time:1612612800,open:40199.52,high:40574.85,low:39836.72,close:40268.44,volume:10721.810113000003},{time:1612623600,open:40268.44,high:40955.51,low:40134.8,close:40197.01,volume:12784.859879000009},{time:1612634400,open:40197.01,high:40444.44,low:39572.74,close:40087.4,volume:10511.726708999999},{time:1612645200,open:40087.4,high:40469.19,low:39035.33,close:39186.94,volume:10162.160033999997},{time:1612656e3,open:39181.01,high:39611.04,low:38344,close:38747.31,volume:13707.28734499999},{time:1612666800,open:38747.31,high:38926.58,low:37923,close:38511,volume:9812.728970000004},{time:1612677600,open:38511.01,high:39529,low:38282.44,close:39496.96,volume:9350.554096999998},{time:1612688400,open:39496.96,high:39700,low:38762.16,close:39046.6,volume:8992.942919999998},{time:1612699200,open:39044.37,high:39272.69,low:38162.87,close:38214.98,volume:11106.280856000003},{time:161271e4,open:38215.01,high:38395.26,low:37351,close:37870.62,volume:15738.598312999995},{time:1612720800,open:37870.63,high:38492.82,low:37660.97,close:38471.95,volume:8048.343649999998},{time:1612731600,open:38471.96,high:39080,low:38285.1,close:38795.69,volume:7606.943556},{time:1612742400,open:38795.69,high:39130,low:38149,close:38249,volume:7743.556228000002},{time:1612753200,open:38249,high:38872,low:37988.89,close:38677.47,volume:7821.605630000001},{time:1612764e3,open:38677.84,high:39391.78,low:38620,close:39175.38,volume:7502.539377000001},{time:1612774800,open:39175.38,high:39498.99,low:38844.75,close:39423.08,volume:8638.200727000005},{time:1612785600,open:39423.08,high:44918,low:39094.01,close:43558.73,volume:47869.57505800001},{time:1612796400,open:43560.93,high:44280,low:42521.62,close:43079.07,volume:22273.528672999997},{time:1612807200,open:43079.08,high:44350,low:42554.71,close:44151.07,volume:12970.861185000002},{time:1612818e3,open:44151.08,high:46794.45,low:43898.01,close:46374.87,volume:23769.822051000006},{time:1612828800,open:46374.86,high:47498,low:45567,close:45707.38,volume:22809.518822000005},{time:1612839600,open:45707.39,high:47219.13,low:45500,close:46850.12,volume:11770.070168999993},{time:1612850400,open:46852.68,high:48142.19,low:46563.31,close:47109.51,volume:19047.00542399999},{time:1612861200,open:47106.59,high:47160,low:45560.97,close:46380.92,volume:13653.448644999995},{time:1612872e3,open:46390.95,high:46806.41,low:44961.09,close:46624.44,volume:15771.822876000004},{time:1612882800,open:46624.33,high:47110.72,low:46011,close:46483.67,volume:13524.73249300001},{time:1612893600,open:46484.23,high:47499.43,low:46254.02,close:47084.17,volume:10653.707161000002},{time:1612904400,open:47084.16,high:47461.06,low:46201.37,close:46420.42,volume:8269.556040000005},{time:1612915200,open:46420.42,high:46900,low:45979.58,close:46276.51,volume:9942.923362},{time:1612926e3,open:46276.52,high:46743.87,low:45589.98,close:46131.99,volume:10244.634512999995},{time:1612936800,open:46132,high:46944.07,low:46106.04,close:46668.89,volume:9990.731432999995},{time:1612947600,open:46668.89,high:47310,low:46277.31,close:46586.56,volume:10442.731286999999},{time:1612958400,open:46586.55,high:46593.34,low:44500,close:44954.12,volume:20625.967513},{time:1612969200,open:44954.13,high:45227.27,low:43727,close:44963.31,volume:18960.178376999997},{time:161298e4,open:44963.32,high:45240.7,low:44400,close:44555.59,volume:9904.701317000001},{time:1612990800,open:44555.59,high:45322.09,low:44355,close:44807.58,volume:7042.314421999995},{time:1613001600,open:44807.58,high:45051.27,low:43994.02,close:44582.07,volume:7762.676823},{time:1613012400,open:44582.07,high:44999,low:44507,close:44641.72,volume:2359.4098530000006},{time:1613023200,open:44641.71,high:45129.59,low:44397.62,close:45017.02,volume:7826.256129},{time:1613034e3,open:45017.01,high:46546.47,low:44789.11,close:46061.49,volume:12199.760736000002},{time:1613044800,open:46061.48,high:48399,low:46060.03,close:47864.81,volume:22278.318602},{time:1613055600,open:47864.81,high:48298,low:46900,close:47366.42,volume:13416.649687},{time:1613066400,open:47366.43,high:48678.9,low:47e3,close:47027.49,volume:12780.558052999997},{time:1613077200,open:47027.49,high:48125.58,low:46542.29,close:47969.51,volume:10937.451589999997},{time:1613088e3,open:47968.66,high:48985.8,low:47721,close:47935.66,volume:12949.844946999987},{time:1613098800,open:47935.66,high:47988.49,low:46888,close:47257.09,volume:10593.739988000003},{time:1613109600,open:47257.09,high:47700,low:46789,close:47117.86,volume:9811.544634000002},{time:1613120400,open:47117.86,high:47999,low:47027.03,close:47562.42,volume:8343.943457},{time:1613131200,open:47560.06,high:48140,low:46125,close:46547.5,volume:14904.863322},{time:1613142e3,open:46542.6,high:47980,low:46525.25,close:47713.82,volume:12799.143487000005},{time:1613152800,open:47713.83,high:47800,low:46915.32,close:47577.49,volume:8802.413042000004},{time:1613163600,open:47577.49,high:48150,low:47155,close:47287.6,volume:7664.542871999995},{time:1613174400,open:47298.15,high:47944.84,low:47200,close:47839.77,volume:7196.922627999996},{time:1613185200,open:47839.77,high:48150,low:47397.71,close:47888,volume:7035.967839999999},{time:1613196e3,open:47887.99,high:47922.22,low:46618,close:47429.93,volume:8892.624694000006},{time:1613206800,open:47429.92,high:47569.03,low:46251,close:46589.2,volume:12450.285925},{time:1613217600,open:46586.23,high:47209.25,low:46202.53,close:46946.9,volume:9755.21924},{time:1613228400,open:46946.67,high:47400.14,low:46735.83,close:46855.24,volume:7970.953213},{time:1613239200,open:46855.23,high:47086.92,low:46653.58,close:46934.06,volume:5274.300494000004},{time:161325e4,open:46934.07,high:47397.36,low:46700.38,close:47153.69,volume:5191.823385000001},{time:1613260800,open:47156.78,high:47730,low:47014.17,close:47378.87,volume:8311.619846000005},{time:1613271600,open:47378.87,high:48948,low:47204.98,close:48929.18,volume:10315.533145},{time:1613282400,open:48929.18,high:49404.94,low:48389.55,close:48710.17,volume:13167.243362},{time:1613293200,open:48710.17,high:49349.76,low:48610.86,close:49055.16,volume:8534.28841},{time:1613304e3,open:49055.17,high:49707.43,low:48449.76,close:48757.38,volume:12569.785477000005},{time:1613314800,open:48757.39,high:49100,low:48101.38,close:48619.19,volume:9046.312633000001},{time:1613325600,open:48619.2,high:49e3,low:48400.31,close:48929.5,volume:5454.569773},{time:1613336400,open:48929.5,high:49300,low:48505.79,close:48577.79,volume:6336.122980999998},{time:1613347200,open:48580.47,high:49010.92,low:45570.79,close:46874.02,volume:18123.595116999997},{time:1613358e3,open:46874.01,high:47269.09,low:46174.78,close:46722.49,volume:12091.616886999996},{time:1613368800,open:46722.48,high:47772,low:46683.02,close:47599.99,volume:8306.090349999997},{time:1613379600,open:47600,high:47999,low:47201.27,close:47802.66,volume:7989.113143000002},{time:1613390400,open:47802.67,high:48219.23,low:47423.99,close:47564.16,volume:9366.911330000004},{time:1613401200,open:47563.58,high:48800,low:47536.15,close:48562.31,volume:8763.713202},{time:1613412e3,open:48562.31,high:48801,low:48342.22,close:48580.99,volume:7049.480193},{time:1613422800,open:48581,high:48750,low:47643,close:47911.1,volume:7707.636473999998}];var Ot=i(2543),Wt=i.n(Ot);const qt={name:"Test",data(){return{equityCurve:Ft,trades:Bt,orders:zt,candles:Vt}},methods:{getRandomData(){const e=[Pt,Ft,Dt];this.equityCurve=e[(0,Ot.random)(0,2)]}}},jt=(0,S.A)(qt,[["render",It]]),Ut=jt;function Nt(e,t,i,s,a,n){(0,r.g2)("Tabs");const o=(0,r.g2)("LiveTab");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Q3)("",!0),e.tabs[n.pageId]?((0,r.uX)(),(0,r.Wv)(o,{key:1,form:e.tabs[n.pageId].form,results:e.tabs[n.pageId].results,modals:e.tabs[n.pageId].modals},null,8,["form","results","modals"])):(0,r.Q3)("",!0)],64)}var Ht=i(47682);const Xt=["value"],$t=["value"],Qt={key:0,class:"flex flex-col items-center justify-center select-none mt-[10%]"},Kt=["textContent"],Gt={class:"mt-8"},Jt={key:1,class:"mx-auto container mt-8"},Yt={key:0,"data-cy":"live-page-content"},Zt={class:"grid grid-cols-1 gap-6"},ei={key:1},ti={key:0,class:"mb-8"},ii=(0,r.Lk)("span",null,"More",-1),si={key:0},ai={key:0},ri=["disabled"],ni={key:1,"data-cy":"live-action-button"},oi={key:1,class:"my-8 border-2 dark:border-gray-600 rounded-full"},li={key:2,class:"grid grid-cols-1 gap-6 border dark:border-gray-600 rounded py-4 px-6 select-none"},ci={class:"flex justify-between items-center"},di=(0,r.Lk)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Current Time:",-1),hi={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},ui={class:"flex justify-between items-center"},pi=(0,r.Lk)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Started:",-1),mi={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},gi={class:"flex justify-between items-center"},fi=(0,r.Lk)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Started/Current Balance:",-1),bi={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},_i={class:"flex justify-between items-center"},vi=(0,r.Lk)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Debug Mode:",-1),yi={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},xi={class:"flex justify-between items-center"},wi=(0,r.Lk)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Paper Trade:",-1),ki={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Ci={class:"flex justify-between items-center"},Si=(0,r.Lk)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"PNL:",-1),Ti={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Ai={class:"flex justify-between items-center"},Mi=(0,r.Lk)("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},"Trades:",-1),Li={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Ri={class:"flex justify-between items-center"},Ei={class:"flex justify-start items-center"},Ii=(0,r.Lk)("span",null,"Info Logs:",-1),Pi={class:"focus:outline-none flex justify-start items-center"},Fi={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Di={class:"flex justify-between items-center"},Bi={class:"flex justify-start items-center"},zi=(0,r.Lk)("span",null,"Error Logs:",-1),Vi={class:"focus:outline-none flex justify-start items-center"},Oi={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},Wi={key:3};function qi(e,t,i,s,a,n){const o=(0,r.g2)("LiveOrders"),l=(0,r.g2)("SlideOver"),c=(0,r.g2)("ReportLiveSession"),d=(0,r.g2)("Logs"),h=(0,r.g2)("CheckIcon"),u=(0,r.g2)("ClipboardIcon"),p=(0,r.g2)("ConfirmModal"),m=(0,r.g2)("CircleProgressbar"),g=(0,r.g2)("ClipboardListIcon"),f=(0,r.g2)("BanIcon"),b=(0,r.g2)("Exception"),_=(0,r.g2)("Routes"),v=(0,r.g2)("Divider"),y=(0,r.g2)("ToggleButton"),x=(0,r.g2)("CandlesChart"),w=(0,r.g2)("MultipleValuesTable"),k=(0,r.g2)("CollectionIcon"),C=(0,r.g2)("DividerWithButtons"),S=(0,r.g2)("PlusSmIcon"),T=(0,r.g2)("FlagIcon"),A=(0,r.g2)("LightningBoltIcon"),M=(0,r.g2)("KeyValueTableSimple"),L=(0,r.g2)("LayoutWithSidebar");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(l,{name:"orders",object:i.modals,width:"max-w-5xl",title:"Orders"},{default:(0,r.k6)((()=>[(0,r.bF)(o,{orders:i.results.orders},null,8,["orders"])])),_:1},8,["object"]),(0,r.bF)(l,{name:"reportWithoutException",object:i.modals,width:"max-w-3xl",title:"Report"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{"session-id":i.results.generalInfo.session_id,onClose:t[0]||(t[0]=e=>i.modals.reportWithoutException=!1)},null,8,["session-id"])])),_:1},8,["object"]),(0,r.bF)(l,{name:"infoLogs",object:i.modals,title:"Info Logs"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{logs:i.results.infoLogs},null,8,["logs"])])),buttons:(0,r.k6)((()=>[(0,r.Lk)("button",{class:"btn-nav",onClick:t[1]||(t[1]=(...e)=>n.copyInfoLogs&&n.copyInfoLogs(...e))},[a.copiedLogsInfo?((0,r.uX)(),(0,r.Wv)(h,{key:0,class:"h-6 w-6","aria-hidden":"true"})):(0,r.Q3)("",!0),a.copiedLogsInfo||0==i.results.infoLogs.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(u,{key:1,class:"h-6 w-6","aria-hidden":"true"}))]),a.displayInfo?((0,r.uX)(),(0,r.CE)("textarea",{key:0,id:"copy-info-logs",class:"fixed left-0 opacity-0",value:i.results.infoLogs},null,8,Xt)):(0,r.Q3)("",!0)])),_:1},8,["object"]),(0,r.bF)(l,{name:"errorLogs",object:i.modals,title:"Error Logs"},{default:(0,r.k6)((()=>[(0,r.bF)(d,{logs:i.results.errorLogs},null,8,["logs"])])),buttons:(0,r.k6)((()=>[(0,r.Lk)("button",{class:"btn-nav",onClick:t[2]||(t[2]=(...e)=>n.copyErrorLogs&&n.copyErrorLogs(...e))},[a.copiedErrorLogs?((0,r.uX)(),(0,r.Wv)(h,{key:0,class:"h-6 w-6","aria-hidden":"true"})):(0,r.Q3)("",!0),a.copiedErrorLogs||0==i.results.errorLogs.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(u,{key:1,class:"h-6 w-6","aria-hidden":"true"}))]),a.displayErrors?((0,r.uX)(),(0,r.CE)("textarea",{key:0,id:"copy-error-logs",type:"hidden",value:i.results.errorLogs,class:"fixed left-0 opacity-0"},null,8,$t)):(0,r.Q3)("",!0)])),_:1},8,["object"]),(0,r.bF)(p,{title:"Termination Confirm",description:"Are you sure you want to terminate this session?",type:"info",object:i.modals,name:"terminationConfirm"},{default:(0,r.k6)((()=>[(0,r.Lk)("button",{class:"btn-danger ml-2",onClick:t[3]||(t[3]=t=>e.stop(e.$route.params.id))},"Terminate")])),_:1},8,["object"]),i.results.booting?((0,r.uX)(),(0,r.CE)("div",Qt,[(0,r.Lk)("div",null,[(0,r.bF)(m,{progress:i.results.progressbar.current},null,8,["progress"])]),i.results.exception.error?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("h3",{key:0,class:"mt-8 animate-pulse",textContent:(0,F.v_)(n.remainingTimeText)},null,8,Kt)),(0,r.Lk)("div",Gt,[i.form.debug_mode?((0,r.uX)(),(0,r.CE)("button",{key:0,class:"flex justify-center items-center btn-primary mb-4 w-64",onClick:t[4]||(t[4]=e=>i.modals.infoLogs=!0)},[(0,r.bF)(g,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" View Logs ")])):(0,r.Q3)("",!0),(0,r.Lk)("button",{"data-cy":"live-cancel-button",class:"flex justify-center items-center btn-secondary w-64",onClick:t[5]||(t[5]=t=>e.cancel(e.$route.params.id))},[(0,r.bF)(f,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Cancel ")])]),i.results.exception.error?((0,r.uX)(),(0,r.CE)("div",Jt,[(0,r.bF)(b,{title:i.results.exception.error,content:i.results.exception.traceback,mode:"live","debug-mode":i.form.debug_mode,"session-id":i.results.generalInfo.session_id},null,8,["title","content","debug-mode","session-id"])])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.Wv)(L,{key:1},{left:(0,r.k6)((()=>[i.results.booting||i.results.monitoring||i.results.showResults?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Yt,[e.isInitiated?((0,r.uX)(),(0,r.Wv)(_,{key:0,form:i.form,results:i.results},null,8,["form","results"])):(0,r.Q3)("",!0),(0,r.bF)(v,{class:"mt-16",title:"Options"}),(0,r.Lk)("div",Zt,[(0,r.bF)(y,{object:i.form,name:"debug_mode",title:"Debug Mode",description:"Logs more details, helpful for debugging. Not recommended for beginners."},null,8,["object"]),(0,r.bF)(y,{object:i.form,name:"paper_mode",title:"Paper Trade",disabled:"premium"!==e.planInfo.plan,"disabled-guide":"premium"!==e.planInfo.plan?"Premium plan required":"",description:"Trade in real-time using actual exchange data with PAPER money."},null,8,["object","disabled","disabled-guide"])])])),i.results.monitoring?((0,r.uX)(),(0,r.CE)("div",ei,[i.results.exception.error?((0,r.uX)(),(0,r.CE)("div",ti,[(0,r.bF)(b,{title:i.results.exception.error,content:i.results.exception.traceback,mode:"live","debug-mode":i.form.debug_mode,"session-id":i.results.generalInfo.session_id},null,8,["title","content","debug-mode","session-id"])])):(0,r.Q3)("",!0),(0,r.Lk)("div",null,[i.results.candles.length?((0,r.uX)(),(0,r.Wv)(x,{key:0,candles:i.results.candles,results:i.results,form:i.form},null,8,["candles","results","form"])):(0,r.Q3)("",!0)]),(0,r.bF)(v,{class:"mt-12",title:"Routes"}),(0,r.bF)(w,{data:i.results.routes,header:""},null,8,["data"]),(0,r.bF)(v,{class:"mt-12",title:"Positions"}),(0,r.bF)(w,{data:i.results.positions,header:""},null,8,["data"]),(0,r.bF)(C,{class:"mt-12",title:"Orders"},{default:(0,r.k6)((()=>[(0,r.Lk)("button",{type:"button",class:"inline-flex items-center shadow-sm px-4 py-1.5 border border-gray-300 dark:border-gray-900 text-sm leading-5 font-medium rounded-full text-gray-700 dark:text-gray-100 bg-white dark:bg-backdrop-dark hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none",onClick:t[6]||(t[6]=e=>i.modals.orders=!0)},[(0,r.bF)(k,{class:"-ml-1.5 mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"}),ii])])),_:1}),(0,r.bF)(w,{data:n.orders,header:""},null,8,["data"])])):(0,r.Q3)("",!0)])),right:(0,r.k6)((()=>[i.results.booting?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",si,[i.results.monitoring?((0,r.uX)(),(0,r.CE)("div",ai,[i.results.finished?((0,r.uX)(),(0,r.CE)("button",{key:0,class:"flex justify-center items-center btn-primary text-center mb-4 w-full",onClick:t[7]||(t[7]=t=>e.newLive(e.$route.params.id))},[(0,r.bF)(S,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" New session ")])):((0,r.uX)(),(0,r.CE)("button",{key:1,disabled:i.results.terminating,class:"flex items-center justify-center btn-cancel text-center mr-2 w-full mb-4",onClick:t[8]||(t[8]=e=>i.modals.terminationConfirm=!0)},[(0,r.bF)(f,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" "+(0,F.v_)(i.results.terminating?"Terminating...":"Terminate"),1)],8,ri)),i.results.monitoring||i.results.finished?((0,r.uX)(),(0,r.CE)("button",{key:2,class:"flex items-center justify-center btn-secondary text-center mr-2 w-full mb-4",onClick:t[9]||(t[9]=e=>i.modals.reportWithoutException=!0)},[(0,r.bF)(T,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Report ")])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",ni,[(0,r.Lk)("button",{"data-cy":"live-start-button",class:"flex justify-center items-center btn-primary text-center mr-2 w-full mb-4",onClick:t[10]||(t[10]=t=>e.start(e.$route.params.id))},[(0,r.bF)(A,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Start ")])]))])),i.results.monitoring?((0,r.uX)(),(0,r.CE)("hr",oi)):(0,r.Q3)("",!0),i.results.monitoring?((0,r.uX)(),(0,r.CE)("dl",li,[(0,r.Lk)("div",ci,[di,(0,r.Lk)("div",hi,(0,F.v_)(s.timestampToTime(i.results.generalInfo.current_time)),1)]),(0,r.Lk)("div",ui,[pi,(0,r.Lk)("div",mi,(0,F.v_)(s.timestampToTime(i.results.generalInfo.started_at)),1)]),(0,r.Lk)("div",gi,[fi,(0,r.Lk)("div",bi,(0,F.v_)(`${i.results.generalInfo.started_balance}/${i.results.generalInfo.current_balance}`),1)]),(0,r.Lk)("div",_i,[vi,(0,r.Lk)("div",yi,(0,F.v_)(i.results.generalInfo.debug_mode),1)]),(0,r.Lk)("div",xi,[wi,(0,r.Lk)("div",ki,(0,F.v_)(i.results.generalInfo.paper_mode),1)]),(0,r.Lk)("div",Ci,[Si,(0,r.Lk)("div",Ti,(0,F.v_)(`${i.results.generalInfo.pnl} (${i.results.generalInfo.pnl_perc}%)`),1)]),(0,r.Lk)("div",Ai,[Mi,(0,r.Lk)("div",Li,(0,F.v_)(i.results.generalInfo.count_trades),1)]),(0,r.Lk)("div",Ri,[(0,r.Lk)("div",Ei,[(0,r.Lk)("button",{class:"text-sm font-medium text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300 truncate flex items-center hover:underline cursor-pointer focus:outline-none",onClick:t[11]||(t[11]=e=>i.modals.infoLogs=!0)},[Ii,(0,r.Lk)("span",Pi,[(0,r.bF)(g,{class:"w-6 h-6 ml-2"})])])]),(0,r.Lk)("div",Fi,(0,F.v_)(i.results.generalInfo.count_info_logs),1)]),(0,r.Lk)("div",Di,[(0,r.Lk)("div",Bi,[(0,r.Lk)("button",{class:"text-sm font-medium text-gray-500 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300 truncate flex items-center hover:underline cursor-pointer focus:outline-none",onClick:t[12]||(t[12]=e=>i.modals.errorLogs=!0)},[zi,(0,r.Lk)("span",Vi,[(0,r.bF)(g,{class:"w-6 h-6 ml-2 cursor-pointer"})])])]),(0,r.Lk)("div",Oi,(0,F.v_)(i.results.generalInfo.count_error_logs),1)])])):(0,r.Q3)("",!0),i.results.monitoring&&i.results.watchlist.length?((0,r.uX)(),(0,r.CE)("div",Wi,[(0,r.bF)(v,{class:"mt-8",title:"Watch List"}),(0,r.bF)(M,{data:i.results.watchlist},null,8,["data"])])):(0,r.Q3)("",!0)])),_:1}))],64)}function ji(e,t,i,s,a,n){const o=(0,r.g2)("MultipleValuesTable"),l=(0,r.g2)("EmptyBox");return n.ordersTable.length?((0,r.uX)(),(0,r.Wv)(o,{key:0,data:n.ordersTable,header:""},null,8,["data"])):((0,r.uX)(),(0,r.Wv)(l,{key:1}))}var Ui=i(12686);const Ni={name:"LiveOrders",components:{EmptyBox:Ui["default"],MultipleValuesTable:ct["default"]},props:{orders:{type:Array,required:!0}},computed:{ordersTable(){if(!this.orders.length)return[];const e=[["ID","Created","Symbol","Type","Side","Price","QTY","Status"]];for(let t=this.orders.length-1;t>=0;t--){const i=this.orders[t];e.push([{value:i.id.slice(-12),style:"text-xs",tooltip:i.id,tag:"code"},{value:le.A.timestampToTimeOnly(i.created_at),style:"text-xs",tooltip:le.A.timestampToTime(i.created_at)},{value:i.symbol,style:"text-xs"},{value:i.type,style:"text-xs"},{value:i.side,style:le.A.colorBasedOnSide(i.side)},{value:i.price,style:"text-xs"},{value:i.qty,style:le.A.colorBasedOnSide(i.side)},{value:i.status,style:"text-xs"}])}return e}}},Hi=(0,S.A)(Ni,[["render",ji]]),Xi=Hi;var $i=i(9743),Qi=i(70075),Ki=i(92881),Gi=i(37417),Ji=i(67107),Yi=i(30191),Zi=i(85484),es=i(19941),ts=i(26122),is=i(51988);const ss=(0,r.Lk)("p",null," If you think something is wrong with your running live session, you can submit a report. By submitting this form, the logs of this session will be sent to Jesse's developers so we can see what's going on. ",-1),as=(0,r.Lk)("br",null,null,-1),rs=(0,r.Lk)("p",null,[(0,r.eW)("Your exchange API keys and strategies are safe and "),(0,r.Lk)("b",null,"are never sent to us.")],-1),ns=(0,r.Lk)("br",null,null,-1),os=(0,r.Lk)("br",null,null,-1),ls=(0,r.Lk)("br",null,null,-1),cs={class:"flex justify-end item-center"};function ds(e,t,i,s,a,n){const o=(0,r.g2)("FormInput"),l=(0,r.g2)("FormTextarea");return(0,r.uX)(),(0,r.CE)(r.FK,null,[ss,as,rs,ns,(0,r.bF)(o,{title:"Email (optional)",description:"Enter your email address for us to know who sent the email and possibly reply back to you.","input-type":"email",placeholder:"Email address...",name:"email",object:a.form},null,8,["object"]),os,(0,r.bF)(l,{title:"Description (optional):",placeholder:"Describe what you think is wrong in this session...",name:"description",object:a.form,rows:10},null,8,["object"]),ls,(0,r.Lk)("div",cs,[(0,r.Lk)("button",{class:"btn-link text-indigo-600 dark:text-indigo-400 mr-4",onClick:t[0]||(t[0]=(...e)=>n.close&&n.close(...e))},"Cancel"),(0,r.Lk)("button",{class:"btn-primary",onClick:t[1]||(t[1]=(...e)=>n.report&&n.report(...e))},"Submit")])],64)}var hs=i(40849),us=i(63356),ps=i(72505),ms=i.n(ps);const gs={name:"ReportLiveSession",components:{FormInput:hs["default"],FormTextarea:us["default"]},props:{sessionId:{type:String,required:!0}},emits:["close"],data(){return{form:{description:"",email:""}}},methods:{close(){this.$emit("close")},report(){ms().post("/report-exception",{description:this.form.description,email:this.form.email,traceback:"manual report",mode:"live",attach_logs:!0,session_id:this.sessionId}).then((e=>{"success"===e.data.status?(this.form.description="",this.form.email="",k.A.success(e.data.message),this.close()):"error"===e.data.status&&k.A.error(e.data.message)})).catch((e=>{k.A.error(`[${e.response.status}]: ${e.response.statusText}`)}))}}},fs=(0,S.A)(gs,[["render",ds]]),bs=fs,_s={name:"LiveTab",components:{ReportLiveSession:bs,KeyValueTableSimple:ts["default"],Divider:_t["default"],DividerWithButtons:is["default"],ToggleButton:bt["default"],LayoutWithSidebar:ne,Logs:lt["default"],LiveOrders:Xi,ClipboardListIcon:$i.A,ConfirmModal:Yi["default"],SlideOver:ft["default"],CircleProgressbar:Zi["default"],Exception:es["default"],MultipleValuesTable:ct["default"],ClipboardIcon:Qi.A,FlagIcon:Ki.A,CheckIcon:Gi.A,LightningBoltIcon:Q.A,PlusSmIcon:K.A,CollectionIcon:Ji.A,BanIcon:G.A},props:{form:{type:Object,required:!0},results:{type:Object,required:!0},modals:{type:Object,required:!0}},setup(){return{timestampToTime:le.A.timestampToTime}},data(){return{displayInfo:!1,displayErrors:!1,copiedLogsInfo:!1,copiedErrorLogs:!1}},computed:{...(0,l.aH)(c.s,["isInitiated","planInfo"]),...(0,l.aH)(c.s,{navModals:"modals"}),remainingTimeText(){return 0===Math.round(this.results.progressbar.estimated_remaining_seconds)?"Please wait...":`${Math.round(this.results.progressbar.estimated_remaining_seconds)} seconds remaining...`},orders(){if(!this.results.orders)return[];const e=[["Created","Symbol","Type","Side","Price","QTY","Status"]],t=5,i=this.results.orders.length,s=i-t>=0?i-t:0;for(let a=i-1;a>=s;a--){const t=this.results.orders[a],i="PARTIALLY FILLED"===t.status?`${t.filled_qty}/${t.qty}`:t.qty;e.push([{value:le.A.timestampToTimeOnly(t.created_at),style:"text-xs",tooltip:le.A.timestampToTime(t.created_at)},{value:t.symbol,style:"text-xs"},{value:t.type,style:"text-xs"},{value:t.side,style:le.A.colorBasedOnSide(t.side)},{value:t.price,style:"text-xs"},{value:i,style:le.A.colorBasedOnSide(t.side)},{value:t.status,style:"text-xs"}])}return e}},watch:{form:{handler(){le.A.localStorageSet("liveForm",this.form)},deep:!0}},methods:{...(0,l.i0)(Ht.h,["addTab","startInNewTab","start","cancel","stop","newLive"]),copyInfoLogs(){this.displayInfo=!0,setTimeout((()=>{const e=document.querySelector("#copy-info-logs");e.setAttribute("type","text"),e.select(),document.execCommand("copy"),this.copiedLogsInfo=!0,e.setAttribute("type","hidden"),window.getSelection().removeAllRanges(),this.displayInfo=!1}),10),setTimeout((()=>{this.copiedLogsInfo=!1}),3e3)},copyErrorLogs(){this.displayErrors=!0,setTimeout((()=>{const e=document.querySelector("#copy-error-logs");e.setAttribute("type","text"),e.select(),document.execCommand("copy"),this.copiedErrorLogs=!0,e.setAttribute("type","hidden"),window.getSelection().removeAllRanges(),this.displayErrors=!1}),10),setTimeout((()=>{this.copiedErrorLogs=!1}),3e3)}}},vs=(0,S.A)(_s,[["render",qi]]),ys=vs,xs={name:"Live",components:{Tabs:ue["default"],LiveTab:ys},computed:{...(0,l.Us)(Ht.h,["tabs"]),pageId(){return parseInt(this.$route.params.id)}}},ws=(0,S.A)(xs,[["render",Nt]]),ks=ws;function Cs(e,t,i,s,a,n){(0,r.g2)("Tabs");const o=(0,r.g2)("OptimizationTab");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Q3)("",!0),e.tabs[n.pageId]?((0,r.uX)(),(0,r.Wv)(o,{key:1,form:e.tabs[n.pageId].form,results:e.tabs[n.pageId].results,modals:e.tabs[n.pageId].modals},null,8,["form","results","modals"])):(0,r.Q3)("",!0)],64)}const Ss=["value"],Ts={key:0},As={key:1,class:"mb-8"},Ms={key:2},Ls={key:2,class:"mt-16"},Rs={key:3},Es={class:"grid grid-cols-1 gap-6"},Is={class:"select-none"},Ps=(0,r.Lk)("p",{class:"text-sm text-gray-500 dark:text-gray-400"},[(0,r.eW)(" The number that tells Jesse how many trades you would find optimal for your strategy in the targeted time period so that it can filter out those DNAs that cause too few trades. "),(0,r.Lk)("a",{href:"https://docs.jesse.trade/docs/optimize/executing-the-optimize-mode.html",target:"_blank",class:"font-semibold hover:underline italic"},"More Details...")],-1),Fs=(0,r.Lk)("br",null,null,-1),Ds={class:"flex items-center select-none flex-1 mb-4"},Bs={key:0},zs={key:1,class:"flex flex-col items-center justify-center select-none"},Vs={class:"mb-8 w-full"},Os=["href"],Ws=["textContent"],qs={key:2},js={class:"mb-8 w-full"},Us=["href"];function Ns(e,t,i,a,n,o){const l=(0,r.g2)("Logs"),c=(0,r.g2)("CheckIcon"),d=(0,r.g2)("ClipboardIcon"),h=(0,r.g2)("SlideOver"),u=(0,r.g2)("Alert"),p=(0,r.g2)("Exception"),m=(0,r.g2)("Divider"),g=(0,r.g2)("KeyValueTable"),f=(0,r.g2)("TablePlaceholder"),b=(0,r.g2)("MultipleValuesTable"),_=(0,r.g2)("Routes"),v=(0,r.g2)("ToggleButton"),y=(0,r.g2)("NumberInput"),x=(0,r.g2)("LightningBoltIcon"),w=(0,r.g2)("DocumentDownloadIcon"),k=(0,r.g2)("CircleProgressbar"),C=(0,r.g2)("ReplyIcon"),S=(0,r.g2)("LayoutWithSidebar");return(0,r.uX)(),(0,r.CE)(r.FK,null,[i.form.debug_mode?((0,r.uX)(),(0,r.Wv)(h,{key:0,name:"logsModal",object:i.results,title:"Logs"},{default:(0,r.k6)((()=>[(0,r.bF)(l,{logs:i.results.infoLogs},null,8,["logs"])])),buttons:(0,r.k6)((()=>[(0,r.Lk)("button",{class:"btn-nav",onClick:t[0]||(t[0]=(...e)=>o.copyInfoLogs&&o.copyInfoLogs(...e))},[n.copiedLogsInfo?((0,r.uX)(),(0,r.Wv)(c,{key:0,class:"h-6 w-6","aria-hidden":"true"})):(0,r.Q3)("",!0),n.copiedLogsInfo||0==i.results.infoLogs.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(d,{key:1,class:"h-6 w-6","aria-hidden":"true"}))]),(0,r.Lk)("input",{id:"copy-info-logs",type:"hidden",value:i.results.infoLogs},null,8,Ss)])),_:1},8,["object"])):(0,r.Q3)("",!0),(0,r.bF)(S,null,{left:(0,r.k6)((()=>[i.results.alert.message?((0,r.uX)(),(0,r.CE)("div",Ts,[(0,r.bF)(u,{data:i.results.alert},null,8,["data"])])):(0,r.Q3)("",!0),i.results.exception.error&&i.results.executing?((0,r.uX)(),(0,r.CE)("div",As,[(0,r.bF)(p,{title:i.results.exception.error,content:i.results.exception.traceback,mode:"optimize"},null,8,["title","content"])])):(0,r.Q3)("",!0),!i.results.executing&&!i.results.showResults||i.results.exception.error?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Ms,[(0,r.bF)(m,{title:"Info"}),i.results.generalInfo.length?((0,r.uX)(),(0,r.Wv)(g,{key:0,data:i.results.generalInfo},null,8,["data"])):((0,r.uX)(),(0,r.Wv)(f,{key:1})),i.results.best_candidates.length?((0,r.uX)(),(0,r.CE)("div",Ls,[(0,r.bF)(m,{title:"Best DNA Candidates"}),(0,r.bF)(b,{data:i.results.best_candidates,header:""},null,8,["data"])])):(0,r.Q3)("",!0)])),i.results.executing||i.results.showResults?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Rs,[e.isInitiated?((0,r.uX)(),(0,r.Wv)(_,{key:0,form:i.form,results:i.results},null,8,["form","results"])):(0,r.Q3)("",!0),(0,r.bF)(m,{class:"mt-16",title:"Options"}),(0,r.Lk)("div",Es,[(0,r.bF)(v,{object:i.form,name:"debug_mode",title:"Debug Mode",description:"Displays detailed logs about the genetics algorithm. Use it if you are interested in the genetics algorithm and are familiar with its basics."},null,8,["object"])]),(0,r.Lk)("div",Is,[(0,r.bF)(m,{class:"mt-16",title:"Optimal Trades"}),Ps,Fs,(0,r.bF)(y,{title:"Optimal number of trades:",name:"optimal_total",object:i.form},null,8,["object"])]),(0,r.bF)(m,{class:"mt-16",title:"Duration"}),(0,r.Lk)("div",Ds,[(0,r.bo)((0,r.Lk)("input",{id:"start_date","onUpdate:modelValue":t[1]||(t[1]=e=>i.form.start_date=e),type:"date",name:"start_date",class:"dark:bg-backdrop-dark dark:border-gray-900 dark:hover:bg-gray-700 hover:bg-gray-50 flex-1 cursor-pointer focus:ring-indigo-500 focus:border-indigo-500 dark:focus:border-indigo-400 flex justify-center items-center w-48 py-4 text-center sm:text-sm border-gray-300 rounded-l-md border-r-0"},null,512),[[s.Jo,i.form.start_date]]),(0,r.bo)((0,r.Lk)("input",{id:"finish_date","onUpdate:modelValue":t[2]||(t[2]=e=>i.form.finish_date=e),type:"date",name:"finish_date",class:"dark:border-gray-900 dark:hover:bg-gray-700 hover:bg-gray-50 dark:bg-backdrop-dark flex-1 cursor-pointer focus:ring-indigo-500 focus:border-indigo-500 dark:focus:border-indigo-400 flex justify-center items-center w-48 py-4 text-center sm:text-sm border-gray-300 rounded-r-md"},null,512),[[s.Jo,i.form.finish_date]])])]))])),right:(0,r.k6)((()=>[i.results.executing||i.results.showResults?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Bs,[(0,r.Lk)("div",null,[(0,r.Lk)("button",{class:"flex justify-center items-center btn-primary text-center mb-4 w-full",onClick:t[3]||(t[3]=t=>e.start(e.$route.params.id))},[(0,r.bF)(x,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Start ")])])])),i.results.executing&&!i.results.showResults?((0,r.uX)(),(0,r.CE)("div",zs,[(0,r.Lk)("div",Vs,[(0,r.Lk)("button",{class:"btn-cancel block mb-4 w-full",onClick:t[4]||(t[4]=t=>e.cancel(e.$route.params.id))}," Cancel "),i.form.debug_mode?((0,r.uX)(),(0,r.CE)("a",{key:0,href:o.logsUrl,class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[(0,r.bF)(w,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Debugging Logs ")],8,Os)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",null,[(0,r.bF)(k,{progress:i.results.progressbar.current},null,8,["progress"])]),i.results.exception.error||i.results.best_candidates.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("h3",{key:0,class:"mt-8 animate-pulse",textContent:(0,F.v_)(o.remainingTimeText)},null,8,Ws))])):(0,r.Q3)("",!0),i.results.showResults?((0,r.uX)(),(0,r.CE)("div",qs,[(0,r.Lk)("div",js,[(0,r.Lk)("button",{class:"flex justify-center items-center btn-success text-center mb-4 w-full",onClick:t[5]||(t[5]=(...e)=>o.newSession&&o.newSession(...e))},[(0,r.bF)(C,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" New session ")]),i.form.debug_mode?((0,r.uX)(),(0,r.CE)("a",{key:0,href:o.logsUrl,class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[(0,r.bF)(w,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Debugging Logs ")],8,Us)):(0,r.Q3)("",!0)])])):(0,r.Q3)("",!0)])),_:1})],64)}var Hs=i(73909),Xs=i(64431);const $s={name:"OptimizationTab",components:{LayoutWithSidebar:ne,Logs:lt["default"],ToggleButton:bt["default"],MultipleValuesTable:ct["default"],ClipboardIcon:dt.A,DocumentDownloadIcon:mt.A,CheckIcon:ht.A,SlideOver:ft["default"],Routes:Xs["default"],Divider:_t["default"],CircleProgressbar:Zi["default"],Exception:es["default"],LightningBoltIcon:Q.A,ReplyIcon:pt.A},props:{form:{type:Object,required:!0},results:{type:Object,required:!0}},data(){return{copiedLogsInfo:!1}},computed:{hasExecutedTrades(){return this.results.metrics.length>0},...(0,l.aH)(c.s,["isInitiated","baseURL"]),auth_key(){return sessionStorage.auth_key},remainingTimeText(){return le.A.remainingTimeText(this.results.progressbar.estimated_remaining_seconds)},logsUrl(){let e=`/download/optimize/log?token=${this.auth_key}`;return"/"!==this.baseURL&&(e=this.baseURL+e),e}},watch:{form:{handler(){le.A.localStorageSet("optimizationForm",this.form)},deep:!0}},methods:{...(0,l.i0)(Hs.O,["addTab","startInNewTab","start","cancel","rerun","newOptimization"]),copyInfoLogs(){const e=document.querySelector("#copy-info-logs");e.setAttribute("type","text"),e.select(),document.execCommand("copy"),this.copiedLogsInfo=!0,e.setAttribute("type","hidden"),window.getSelection().removeAllRanges(),setTimeout((()=>{this.copiedLogsInfo=!1}),3e3)},newSession(){this.results.showResults=!1,this.results.executing=!1,this.results.progressbar.current=0,this.results.progressbar.estimated_remaining_seconds=0,this.results.alert.message="",this.results.alert.type=""}}},Qs=(0,S.A)($s,[["render",Ns]]),Ks=Qs,Gs={name:"Optimization",components:{Tabs:ue["default"],OptimizationTab:Ks},computed:{...(0,l.Us)(Hs.O,["tabs"]),pageId(){return parseInt(this.$route.params.id)}}},Js=(0,S.A)(Gs,[["render",Cs]]),Ys=Js;function Zs(e,t,i,s,a,n){(0,r.g2)("Tabs");const o=(0,r.g2)("OptunaTab");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Q3)("",!0),e.tabs[n.pageId]?((0,r.uX)(),(0,r.Wv)(o,{key:1,form:e.tabs[n.pageId].form,results:e.tabs[n.pageId].results,modals:e.tabs[n.pageId].modals},null,8,["form","results","modals"])):(0,r.Q3)("",!0)],64)}var ea=i(11833);const ta={key:0},ia={key:1,class:"mb-8"},sa={key:2},aa={key:2,class:"mt-16"},ra={key:3,class:"text-center"},na=(0,r.Lk)("h2",{class:"text-red-500 font-bold mt-8"},"No optimization trials were successful. Please try again.",-1),oa=[na],la={key:3},ca={class:"flex items-center"},da=(0,r.Lk)("option",{disabled:"",value:""},"Please select a sampler",-1),ha=(0,r.Lk)("option",{value:"GridSampler"},"Grid Sampler",-1),ua=(0,r.Lk)("option",{value:"RandomSampler"},"Random Sampler",-1),pa=(0,r.Lk)("option",{value:"TPESampler"},"TPESampler",-1),ma=(0,r.Lk)("option",{value:"CmaEsSampler"},"CmaEsSampler",-1),ga=(0,r.Lk)("option",{value:"NSGAIISampler"},"NSGAIISampler",-1),fa=(0,r.Lk)("option",{value:"NSGAIIISampler"},"NSGAIIISampler",-1),ba=(0,r.Lk)("option",{value:"MOTPESampler"},"MOTPESampler",-1),_a=(0,r.Lk)("option",{value:"QMCSampler"},"QMCSampler",-1),va=(0,r.Lk)("option",{value:"BruteForceSampler"},"BruteForceSampler",-1),ya=[da,ha,ua,pa,ma,ga,fa,ba,_a,va],xa={class:"mt-4"},wa=(0,r.Lk)("label",{for:"n_trials"},"Number of Optuna Trials:",-1),ka={key:1},Ca=(0,r.Lk)("label",{for:"consider_prior"},"Consider Prior:",-1),Sa=(0,r.Lk)("label",{for:"prior_weight"},"Prior Weight:",-1),Ta=(0,r.Lk)("label",{for:"n_startup_trials"},"Number of Startup Trials:",-1),Aa=(0,r.Lk)("label",{for:"n_ei_candidates"},"Number of EI Candidates:",-1),Ma=(0,r.Lk)("label",{for:"group"},"Group:",-1),La={key:2},Ra=(0,r.Lk)("label",{for:"population_size"},"Population Size:",-1),Ea=(0,r.Lk)("label",{for:"crossover_prob"},"Crossover Probability:",-1),Ia=(0,r.Lk)("label",{for:"swapping_prob"},"Swapping Probability:",-1),Pa={key:3},Fa=(0,r.Lk)("label",{for:"sigma"},"Sigma:",-1),Da=(0,r.Lk)("label",{for:"n_startup_trials"},"Number of Startup Trials:",-1),Ba=(0,r.Lk)("label",{for:"consider_pruned_trials"},"Consider Pruned Trials:",-1),za={key:4},Va=(0,r.Lk)("label",{for:"population_size"},"Population Size:",-1),Oa=(0,r.Lk)("label",{for:"crossover_prob"},"Crossover Probability:",-1),Wa=(0,r.Lk)("label",{for:"swapping_prob"},"Swapping Probability:",-1),qa={key:5},ja=(0,r.Lk)("label",{for:"consider_prior"},"Consider Prior:",-1),Ua=(0,r.Lk)("label",{for:"prior_weight"},"Prior Weight:",-1),Na=(0,r.Lk)("label",{for:"n_startup_trials"},"Number of Startup Trials:",-1),Ha=(0,r.Lk)("label",{for:"n_ei_candidates"},"Number of EI Candidates:",-1),Xa={key:6},$a=(0,r.Lk)("label",{for:"qmc_type"},"QMC Type:",-1),Qa=(0,r.Lk)("option",{value:"sobol"},"Sobol",-1),Ka=(0,r.Lk)("option",{value:"halton"},"Halton",-1),Ga=[Qa,Ka],Ja=(0,r.Lk)("label",{for:"scramble"},"Scramble:",-1),Ya=(0,r.Lk)("label",{for:"isMultivariate"},"Multi-objective optimization",-1),Za=(0,r.Lk)("label",{for:"fitnessMetric1"},"Fitness Metric 1:",-1),er=(0,r.Lk)("option",{value:"Sharpe"},"Sharpe",-1),tr=(0,r.Lk)("option",{value:"Calmar"},"Calmar",-1),ir=(0,r.Lk)("option",{value:"Sortino"},"Sortino",-1),sr=(0,r.Lk)("option",{value:"Omega"},"Omega",-1),ar=(0,r.Lk)("option",{value:"Serenity"},"Serenity",-1),rr=(0,r.Lk)("option",{value:"SmartSharpe"},"Smart Sharpe",-1),nr=(0,r.Lk)("option",{value:"SmartSortino"},"Smart Sortino",-1),or=(0,r.Lk)("option",{value:"MaxDrawdown"},"Max Drawdown",-1),lr=(0,r.Lk)("option",{value:"GrossLoss"},"Gross Loss",-1),cr=[er,tr,ir,sr,ar,rr,nr,or,lr],dr={key:7},hr=(0,r.Lk)("label",{for:"fitnessMetric2"},"Fitness Metric 2:",-1),ur=(0,r.Lk)("option",{value:"Sharpe"},"Sharpe",-1),pr=(0,r.Lk)("option",{value:"Calmar"},"Calmar",-1),mr=(0,r.Lk)("option",{value:"Sortino"},"Sortino",-1),gr=(0,r.Lk)("option",{value:"Omega"},"Omega",-1),fr=(0,r.Lk)("option",{value:"Serenity"},"Serenity",-1),br=(0,r.Lk)("option",{value:"SmartSharpe"},"Smart Sharpe",-1),_r=(0,r.Lk)("option",{value:"SmartSortino"},"Smart Sortino",-1),vr=(0,r.Lk)("option",{value:"MaxDrawdown"},"Max Drawdown",-1),yr=(0,r.Lk)("option",{value:"GrossLoss"},"Gross Loss",-1),xr=[ur,pr,mr,gr,fr,br,_r,vr,yr],wr=(0,r.Lk)("label",{for:"secondObjectiveDirection"},"Second Objective Direction:",-1),kr=(0,r.Lk)("option",{value:"Maximize"},"Maximize",-1),Cr=(0,r.Lk)("option",{value:"Minimize"},"Minimize",-1),Sr=[kr,Cr],Tr={key:8},Ar={class:"grid grid-cols-1 gap-6"},Mr={class:"select-none"},Lr=(0,r.Lk)("p",{class:"text-sm text-gray-500 dark:text-gray-400"},[(0,r.eW)(" The number that tells Jesse how many trades you would find optimal for your strategy in the targeted time period so that it can filter out those DNAs that cause too few trades. "),(0,r.Lk)("a",{href:"https://docs.jesse.trade/docs/optimize/executing-the-optimize-mode.html",target:"_blank",class:"font-semibold hover:underline italic"},"More Details...")],-1),Rr=(0,r.Lk)("br",null,null,-1),Er={class:"flex items-center select-none flex-1 mb-4"},Ir={key:0},Pr={class:"flex w-full"},Fr={key:1,class:"flex flex-col items-center justify-center select-none"},Dr={class:"mb-8 w-full"},Br=["textContent"],zr={key:2},Vr={class:"w-full"},Or={key:0,class:"mb-4 w-full"},Wr={key:1,style:{width:"100%",display:"flex","flex-direction":"column","align-items":"center"}},qr={style:{"margin-bottom":"10px",width:"100%","max-width":"400px",display:"flex","flex-direction":"column","align-items":"center"}},jr=(0,r.Lk)("label",{for:"validationInterval"},"Backtesting Interval",-1),Ur={style:{"margin-bottom":"10px",width:"100%","max-width":"400px",display:"flex","flex-direction":"column","align-items":"center"}},Nr=(0,r.Lk)("label",{for:"robustTestIterationCount"},"Random Parameter Iterations",-1),Hr={style:{"margin-bottom":"10px",width:"100%","max-width":"400px",display:"flex","flex-direction":"column","align-items":"center"}},Xr=(0,r.Lk)("label",{for:"robustTestMax"},"Maximum Parameter Deviation",-1),$r={style:{"margin-bottom":"10px",width:"100%","max-width":"400px",display:"flex","flex-direction":"column","align-items":"center"}},Qr=(0,r.Lk)("label",{for:"robustTestMin"},"Minimum Parameter Deviation",-1),Kr={style:{"margin-bottom":"10px",width:"100%","max-width":"400px",display:"flex","flex-direction":"column","align-items":"center"}},Gr=(0,r.Lk)("label",{for:"maxFinalNumberOfValidationResults"},"Maximum Number of Final Trials",-1),Jr={style:{"margin-bottom":"10px",width:"100%","max-width":"400px",display:"flex","flex-direction":"column","align-items":"center"}},Yr=(0,r.Lk)("label",{for:"optunaVisualizations"},"Optuna Plot Visualizations",-1),Zr={key:2,class:"mb-4 w-full"},en={key:3,class:"mb-4"},tn=(0,r.Lk)("div",null,[(0,r.Lk)("h3",{class:"text-lg font-semibold mb-2"},"Analysis in progress..."),(0,r.Lk)("p",{class:"text-sm text-gray-500 dark:text-gray-450"}," This may take a while depending on the number of trials in your optimization. ")],-1),sn={key:0,class:"flex flex-col items-center justify-center mt-2"},an={style:{"font-weight":"700"}},rn={key:4,class:"mb-4"},nn=(0,r.Lk)("h1",{class:"text-lg font-semibold mb-2"},"xlsx files can be found in the './storage/optuna/validation' path.",-1),on=[nn];function ln(e,t,i,a,n,o){const l=(0,r.g2)("Alert"),c=(0,r.g2)("Exception"),d=(0,r.g2)("Divider"),h=(0,r.g2)("KeyValueTable"),u=(0,r.g2)("TablePlaceholder"),p=(0,r.g2)("MultipleValuesTable"),m=(0,r.g2)("Routes"),g=(0,r.g2)("ToggleButton"),f=(0,r.g2)("NumberInput"),b=(0,r.g2)("LightningBoltIcon"),_=(0,r.g2)("CircleProgressbar"),v=(0,r.g2)("ReplyIcon"),y=(0,r.g2)("PresentationChartBarIcon"),x=(0,r.g2)("button-confirm-modal"),w=(0,r.g2)("LayoutWithSidebar"),k=(0,r.gN)("tooltip");return(0,r.uX)(),(0,r.Wv)(w,null,{left:(0,r.k6)((()=>[i.results.alert.message?((0,r.uX)(),(0,r.CE)("div",ta,[(0,r.bF)(l,{data:i.results.alert},null,8,["data"])])):(0,r.Q3)("",!0),i.results.exception.error&&i.results.executing?((0,r.uX)(),(0,r.CE)("div",ia,[(0,r.bF)(c,{title:i.results.exception.error,content:i.results.exception.traceback,mode:"optuna"},null,8,["title","content"])])):(0,r.Q3)("",!0),!i.results.executing&&!i.results.showResults||i.results.exception.error?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",sa,[(0,r.bF)(d,{title:"Info"}),i.results.generalInfo.length?((0,r.uX)(),(0,r.Wv)(h,{key:0,data:i.results.generalInfo},null,8,["data"])):((0,r.uX)(),(0,r.Wv)(u,{key:1})),i.results.best_candidates.length?((0,r.uX)(),(0,r.CE)("div",aa,[(0,r.bF)(d,{title:"Best Candidates"}),(0,r.bF)(p,{data:i.results.best_candidates,header:""},null,8,["data"])])):(0,r.Q3)("",!0),!i.results.executing&&i.results.showResults&&0===i.results.best_candidates.length?((0,r.uX)(),(0,r.CE)("div",ra,oa)):(0,r.Q3)("",!0)])),i.results.executing||i.results.showResults?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",la,[e.isInitiated?((0,r.uX)(),(0,r.Wv)(m,{key:0,form:i.form,results:i.results},null,8,["form","results"])):(0,r.Q3)("",!0),(0,r.Lk)("div",ca,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.form.optimizer=e),class:(0,F.C4)(o.selectClass)},ya,2)),[[s.u1,i.form.optimizer],[k,o.selectedSamplerDescription]])]),(0,r.Lk)("div",xa,[wa,(0,r.bo)((0,r.Lk)("input",{id:"n_trials","onUpdate:modelValue":t[1]||(t[1]=e=>i.form.n_trials=e),type:"number",min:"1",class:(0,F.C4)([o.inputClass,"border-gray-300 rounded-md shadow-sm"])},null,2),[[s.Jo,i.form.n_trials,void 0,{number:!0}],[k,"Number of trials to run. Each trial is a set of hyperparameters to test."]])]),(0,r.bF)(d,{class:"mt-16",title:"Optimizer Settings"}),"TPESampler"===i.form.optimizer?((0,r.uX)(),(0,r.CE)("div",ka,[(0,r.Lk)("div",null,[Ca,(0,r.bo)((0,r.Lk)("input",{id:"consider_prior","onUpdate:modelValue":t[2]||(t[2]=e=>i.form.consider_prior=e),class:(0,F.C4)(o.inputClass),type:"checkbox"},null,2),[[s.lH,i.form.consider_prior],[k,"Includes the prior in Gaussian Process. True makes the algorithm exploitation-oriented."]])]),(0,r.Lk)("div",null,[Sa,(0,r.bo)((0,r.Lk)("input",{id:"prior_weight","onUpdate:modelValue":t[3]||(t[3]=e=>i.form.prior_weight=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.prior_weight],[k,"The weight of the prior. Higher values prioritize past results."]])]),(0,r.Lk)("div",null,[Ta,(0,r.bo)((0,r.Lk)("input",{id:"n_startup_trials","onUpdate:modelValue":t[4]||(t[4]=e=>i.form.n_startup_trials=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.n_startup_trials],[k,"Initial number of trials for random sampling before optimization."]])]),(0,r.Lk)("div",null,[Aa,(0,r.bo)((0,r.Lk)("input",{id:"n_ei_candidates","onUpdate:modelValue":t[5]||(t[5]=e=>i.form.n_ei_candidates=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.n_ei_candidates],[k,"Number of candidate samples for calculating Expected Improvement."]])]),(0,r.Lk)("div",null,[Ma,(0,r.bo)((0,r.Lk)("input",{id:"group","onUpdate:modelValue":t[6]||(t[6]=e=>i.form.group=e),class:(0,F.C4)(o.inputClass),type:"checkbox"},null,2),[[s.lH,i.form.group],[k,"Groups related parameters for joint sampling."]])])])):(0,r.Q3)("",!0),"NSGAIISampler"===i.form.optimizer?((0,r.uX)(),(0,r.CE)("div",La,[(0,r.Lk)("div",null,[Ra,(0,r.bo)((0,r.Lk)("input",{id:"population_size","onUpdate:modelValue":t[7]||(t[7]=e=>i.form.population_size=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.population_size],[k,"Number of individuals in each generation for genetic algorithms."]])]),(0,r.Lk)("div",null,[Ea,(0,r.bo)((0,r.Lk)("input",{id:"crossover_prob","onUpdate:modelValue":t[8]||(t[8]=e=>i.form.crossover_prob=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.crossover_prob],[k,"Probability of mixing two individuals to create a new one."]])]),(0,r.Lk)("div",null,[Ia,(0,r.bo)((0,r.Lk)("input",{id:"swapping_prob","onUpdate:modelValue":t[9]||(t[9]=e=>i.form.swapping_prob=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.swapping_prob],[k,"Probability of swapping genes during crossover."]])])])):(0,r.Q3)("",!0),"CmaEsSampler"===i.form.optimizer?((0,r.uX)(),(0,r.CE)("div",Pa,[(0,r.Lk)("div",null,[Fa,(0,r.bo)((0,r.Lk)("input",{id:"sigma","onUpdate:modelValue":t[10]||(t[10]=e=>i.form.sigma=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.sigma],[k,"Initial standard deviation of the CMA-ES distribution."]])]),(0,r.Lk)("div",null,[Da,(0,r.bo)((0,r.Lk)("input",{id:"n_startup_trials","onUpdate:modelValue":t[11]||(t[11]=e=>i.form.n_startup_trials=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.n_startup_trials],[k,"Initial number of trials for random sampling before optimization."]])]),(0,r.Lk)("div",null,[Ba,(0,r.bo)((0,r.Lk)("input",{id:"consider_pruned_trials","onUpdate:modelValue":t[12]||(t[12]=e=>i.form.consider_pruned_trials=e),class:(0,F.C4)(o.inputClass),type:"checkbox"},null,2),[[s.lH,i.form.consider_pruned_trials],[k,"Whether to include pruned trials in the estimation process."]])])])):(0,r.Q3)("",!0),"NSGAIIISampler"===i.form.optimizer?((0,r.uX)(),(0,r.CE)("div",za,[(0,r.Lk)("div",null,[Va,(0,r.bo)((0,r.Lk)("input",{id:"population_size","onUpdate:modelValue":t[13]||(t[13]=e=>i.form.population_size=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.population_size],[k,"Number of individuals in each generation for genetic algorithms."]])]),(0,r.Lk)("div",null,[Oa,(0,r.bo)((0,r.Lk)("input",{id:"crossover_prob","onUpdate:modelValue":t[14]||(t[14]=e=>i.form.crossover_prob=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.crossover_prob],[k,"Probability of mixing two individuals to create a new one."]])]),(0,r.Lk)("div",null,[Wa,(0,r.bo)((0,r.Lk)("input",{id:"swapping_prob","onUpdate:modelValue":t[15]||(t[15]=e=>i.form.swapping_prob=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.swapping_prob],[k,"Probability of swapping genes during crossover."]])])])):(0,r.Q3)("",!0),"MOTPESampler"===i.form.optimizer?((0,r.uX)(),(0,r.CE)("div",qa,[(0,r.Lk)("div",null,[ja,(0,r.bo)((0,r.Lk)("input",{id:"consider_prior","onUpdate:modelValue":t[16]||(t[16]=e=>i.form.consider_prior=e),class:(0,F.C4)(o.inputClass),type:"checkbox"},null,2),[[s.lH,i.form.consider_prior],[k,"Includes the prior in Gaussian Process. True makes the algorithm exploitation-oriented."]])]),(0,r.Lk)("div",null,[Ua,(0,r.bo)((0,r.Lk)("input",{id:"prior_weight","onUpdate:modelValue":t[17]||(t[17]=e=>i.form.prior_weight=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.prior_weight],[k,"The weight of the prior. Higher values prioritize past results."]])]),(0,r.Lk)("div",null,[Na,(0,r.bo)((0,r.Lk)("input",{id:"n_startup_trials","onUpdate:modelValue":t[18]||(t[18]=e=>i.form.n_startup_trials=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.n_startup_trials],[k,"Initial number of trials for random sampling before optimization."]])]),(0,r.Lk)("div",null,[Ha,(0,r.bo)((0,r.Lk)("input",{id:"n_ei_candidates","onUpdate:modelValue":t[19]||(t[19]=e=>i.form.n_ei_candidates=e),class:(0,F.C4)(o.inputClass),type:"number"},null,2),[[s.Jo,i.form.n_ei_candidates],[k,"Number of candidate samples for calculating Expected Improvement."]])])])):(0,r.Q3)("",!0),"QMCSampler"===i.form.optimizer?((0,r.uX)(),(0,r.CE)("div",Xa,[(0,r.Lk)("div",null,[$a,(0,r.bo)(((0,r.uX)(),(0,r.CE)("select",{id:"qmc_type","onUpdate:modelValue":t[20]||(t[20]=e=>i.form.qmc_type=e),class:(0,F.C4)(o.selectClass)},Ga,2)),[[s.u1,i.form.qmc_type],[k,o.SelectedQMCType]])]),(0,r.Lk)("div",null,[Ja,(0,r.bo)((0,r.Lk)("input",{id:"scramble","onUpdate:modelValue":t[21]||(t[21]=e=>i.form.scramble=e),class:(0,F.C4)(o.inputClass),type:"checkbox"},null,2),[[s.lH,i.form.scramble],[k,"Scramble: Adds randomness to the sequence to improve statistical independence in simulations."]])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",null,[Ya,(0,r.bo)((0,r.Lk)("input",{id:"isMultivariate","onUpdate:modelValue":t[22]||(t[22]=e=>i.form.isMultivariate=e),class:(0,F.C4)(o.inputClass),type:"checkbox"},null,2),[[s.lH,i.form.isMultivariate]])]),(0,r.Lk)("div",null,[Za,(0,r.bo)(((0,r.uX)(),(0,r.CE)("select",{id:"fitnessMetric1","onUpdate:modelValue":t[23]||(t[23]=e=>i.form.fitnessMetric1=e),class:(0,F.C4)(o.selectClass)},cr,2)),[[s.u1,i.form.fitnessMetric1],[k,o.fitnessMetricDescription]])]),i.form.isMultivariate?((0,r.uX)(),(0,r.CE)("div",dr,[hr,(0,r.bo)(((0,r.uX)(),(0,r.CE)("select",{id:"fitnessMetric2","onUpdate:modelValue":t[24]||(t[24]=e=>i.form.fitnessMetric2=e),class:(0,F.C4)(o.selectClass)},xr,2)),[[s.u1,i.form.fitnessMetric2],[k,o.fitnessMetric2Description]]),(0,r.Lk)("div",null,[wr,(0,r.bo)((0,r.Lk)("select",{id:"secondObjectiveDirection","onUpdate:modelValue":t[25]||(t[25]=e=>i.form.secondObjectiveDirection=e),class:(0,F.C4)(o.selectClass)},Sr,2),[[s.u1,i.form.secondObjectiveDirection]])])])):(0,r.Q3)("",!0),e.optimizationComplete?((0,r.uX)(),(0,r.CE)("div",Tr)):(0,r.Q3)("",!0),(0,r.bF)(d,{class:"mt-16",title:"Options"}),(0,r.Lk)("div",Ar,[(0,r.bF)(g,{object:i.form,name:"debug_mode",title:"Logging Mode",description:"Each trials's training and testing metrics are logged into a csv file inside the 'storage/jesse-optuna' folder."},null,8,["object"])]),(0,r.Lk)("div",Mr,[(0,r.bF)(d,{class:"mt-16",title:"Optimal Trades"}),Lr,Rr,(0,r.bF)(f,{title:"Optimal number of trades:",name:"optimal_total",object:i.form},null,8,["object"])]),(0,r.bF)(d,{class:"mt-16",title:"Duration"}),(0,r.Lk)("div",Er,[(0,r.bo)((0,r.Lk)("input",{id:"start_date","onUpdate:modelValue":t[26]||(t[26]=e=>i.form.start_date=e),type:"date",name:"start_date",class:"dark:bg-backdrop-dark dark:border-gray-900 dark:hover:bg-gray-700 hover:bg-gray-50 flex-1 cursor-pointer focus:ring-indigo-500 focus:border-indigo-500 dark:focus:border-indigo-400 flex justify-center items-center w-48 py-4 text-center sm:text-sm border-gray-300 rounded-l-md border-r-0"},null,512),[[s.Jo,i.form.start_date]]),(0,r.bo)((0,r.Lk)("input",{id:"finish_date","onUpdate:modelValue":t[27]||(t[27]=e=>i.form.finish_date=e),type:"date",name:"finish_date",class:"dark:border-gray-900 dark:hover:bg-gray-700 hover:bg-gray-50 dark:bg-backdrop-dark flex-1 cursor-pointer focus:ring-indigo-500 focus:border-indigo-500 dark:focus:border-indigo-400 flex justify-center items-center w-48 py-4 text-center sm:text-sm border-gray-300 rounded-r-md"},null,512),[[s.Jo,i.form.finish_date]])])]))])),right:(0,r.k6)((()=>[i.results.executing||i.results.showResults?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Ir,[(0,r.Lk)("div",null,[(0,r.Lk)("button",{class:"flex justify-center items-center btn-primary text-center mb-4 w-full",onClick:t[28]||(t[28]=t=>e.start(e.$route.params.id))},[(0,r.bF)(b,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Start ")]),(0,r.Lk)("div",Pr,[(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"flex-1 my-button",onClick:t[29]||(t[29]=e=>o.triggerModal(o.resetForm,"Reset Settings","Are you sure you want to reset all Optuna settings?"))},[(0,r.eW)("Reset Settings")])),[[k,"Resets all Optuna settings"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"flex-1 my-button",onClick:t[30]||(t[30]=e=>o.triggerModal(o.resetCache,"Clear Memory Cache","Are you sure you want to clear memory cache for all Optuna backtests?"))},[(0,r.eW)("Clear Memory Cache")])),[[k,"Resets memory cache for all Optuna backtests"]]),(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{class:"flex-1 my-button",onClick:t[31]||(t[31]=e=>o.triggerModal(o.resetDatabase,"Clear Optuna Database","Are you sure you want to clear all studies in the Optuna database?"))},[(0,r.eW)("Clear Optuna Database")])),[[k,"Clears all studies in the Optuna database"]])])])])),i.results.executing&&!i.results.showResults?((0,r.uX)(),(0,r.CE)("div",Fr,[(0,r.Lk)("div",Dr,[(0,r.Lk)("button",{class:"btn-cancel block mb-4 w-full",onClick:t[32]||(t[32]=t=>e.cancel(e.$route.params.id))}," Cancel ")]),(0,r.Lk)("div",null,[(0,r.bF)(_,{progress:i.results.progressbar.current},null,8,["progress"])]),i.results.exception.error?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("h3",{key:0,class:"mt-8",textContent:(0,F.v_)(o.remainingTimeText)},null,8,Br))])):(0,r.Q3)("",!0),i.results.showResults?((0,r.uX)(),(0,r.CE)("div",zr,[(0,r.Lk)("div",Vr,[(0,r.Lk)("button",{class:"flex justify-center items-center btn-success text-center mb-4 w-full",onClick:t[33]||(t[33]=(...e)=>o.newSession&&o.newSession(...e))},[(0,r.bF)(v,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" New session ")])]),i.results.conductingAnalysis?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Or,[(0,r.Lk)("button",{class:"flex justify-center items-center btn-primary text-center mb-4 w-full",onClick:t[34]||(t[34]=t=>e.start(e.$route.params.id,!0,!0,!0))},[(0,r.bF)(y,{class:"w-5 h-5 mr-2"}),(0,r.eW)(" Analysis of Best Trials ")])])),i.results.conductingAnalysis?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Wr,[(0,r.Lk)("div",qr,[jr,(0,r.bo)((0,r.Lk)("input",{id:"validationInterval","onUpdate:modelValue":t[35]||(t[35]=e=>i.form.validation_interval=e),class:(0,F.C4)(o.inputClass),type:"number",style:{width:"100%"}},null,2),[[s.Jo,i.form.validation_interval],[k,"Interval for segemented backtesting"]])]),(0,r.Lk)("div",Ur,[Nr,(0,r.bo)((0,r.Lk)("input",{id:"robustTestIterationCount","onUpdate:modelValue":t[36]||(t[36]=e=>i.form.robust_test_iteration_count=e),class:(0,F.C4)(o.inputClass),type:"number",style:{width:"100%"}},null,2),[[s.Jo,i.form.robust_test_iteration_count],[k,"Number of random parameter deviations to test"]])]),(0,r.Lk)("div",Hr,[Xr,(0,r.bo)((0,r.Lk)("input",{id:"robustTestMax","onUpdate:modelValue":t[37]||(t[37]=e=>i.form.robust_test_max=e),class:(0,F.C4)(o.inputClass),type:"number",style:{width:"100%"}},null,2),[[s.Jo,i.form.robust_test_max]])]),(0,r.Lk)("div",$r,[Qr,(0,r.bo)((0,r.Lk)("input",{id:"robustTestMin","onUpdate:modelValue":t[38]||(t[38]=e=>i.form.robust_test_min=e),class:(0,F.C4)(o.inputClass),type:"number",style:{width:"100%"}},null,2),[[s.Jo,i.form.robust_test_min]])]),(0,r.Lk)("div",Kr,[Gr,(0,r.bo)((0,r.Lk)("input",{id:"maxFinalNumberOfValidationResults","onUpdate:modelValue":t[39]||(t[39]=e=>i.form.max_final_number_of_validation_results=e),class:(0,F.C4)(o.inputClass),type:"number",style:{width:"100%"}},null,2),[[s.Jo,i.form.max_final_number_of_validation_results],[k,"Maximum number of trials to generate a xlsx file for"]])]),(0,r.Lk)("div",Jr,[Yr,(0,r.bo)((0,r.Lk)("input",{id:"optunaVisualizations","onUpdate:modelValue":t[40]||(t[40]=e=>i.form.optuna_visualizations=e),class:(0,F.C4)(o.inputClass),type:"checkbox"},null,2),[[s.lH,i.form.optuna_visualizations],[k,"Creates visualizations to display properties of the Optuna study"]])])])),i.results.conductingAnalysis&&!i.results.analysisFinished?((0,r.uX)(),(0,r.CE)("div",Zr,[(0,r.Lk)("button",{class:"btn-cancel block mb-4 w-full",onClick:t[41]||(t[41]=t=>e.cancel(e.$route.params.id))}," Cancel ")])):(0,r.Q3)("",!0),i.results.conductingAnalysis&&!i.results.analysisFinished?((0,r.uX)(),(0,r.CE)("div",en,[tn,""===i.results.progressString||i.results.analysisFinished?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",sn,[(0,r.Lk)("div",null,[(0,r.Lk)("p",an,(0,F.v_)(i.results.progressString),1)])]))])):(0,r.Q3)("",!0),i.results.analysisFinished?((0,r.uX)(),(0,r.CE)("div",rn,on)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.bF)(x,{"is-visible":n.isModalVisible,title:n.modalTitle,description:n.modalDescription,"on-confirm":n.pendingAction,"onUpdate:isVisible":t[42]||(t[42]=e=>n.isModalVisible=e)},null,8,["is-visible","title","description","on-confirm"])])),_:1})}var cn=i(5730),dn=i(92340);const hn={name:"OptunaTab",components:{LayoutWithSidebar:ne,Routes:Xs["default"],Divider:_t["default"],CircleProgressbar:Zi["default"],Exception:es["default"],LightningBoltIcon:Q.A,MultipleValuesTable:ct["default"],ReplyIcon:pt.A,ToggleButton:bt["default"],ButtonConfirmModal:dn["default"],PresentationChartBarIcon:cn.A},directives:{tooltip:ot.yw},props:{form:{type:Object,required:!0},results:{type:Object,required:!0}},data(){return{copiedLogsInfo:!1,isModalVisible:!1,modalTitle:"",modalDescription:"",pendingAction:null}},computed:{...(0,l.Us)(c.s,["theme"]),inputClass(){return"dark"===this.theme?"input-dark":"input-light"},inputNumClass(){return"dark"===this.theme?"input-num-dark":"input-num-light"},selectClass(){return"dark"===this.theme?"select-dark":"select-light"},SelectedQMCType(){const e={sobol:"Uses Sobol sequences for quasi-random number generation, offering better distribution properties.",halton:"Employs Halton sequences, beneficial for higher-dimensional spaces."};return e[this.form.qmc_type]||"Hover over an option to see its description."},selectedSamplerDescription(){const e={GridSampler:"Exhaustively searches a grid of parameters. Best for small, discrete spaces.",RandomSampler:"Randomly selects parameters for each trial. Ideal for large spaces.",TPESampler:"Uses probabilistic modeling for parameter selection, balancing exploration and exploitation.",CmaEsSampler:"Optimizes non-linear functions by adapting a multivariate normal distribution.",NSGAIISampler:"Evolves multi-objective solutions using genetic algorithms. Finds Pareto-optimal set.",NSGAIIISampler:"Tailored for many-objective problems, ensuring diverse, well-distributed solutions.",MOTPESampler:"Extends TPE for multi-objective optimization, balancing multiple goals.",QMCSampler:"Utilizes low-discrepancy sequences for more uniform parameter sampling.",BruteForceSampler:"Methodically evaluates every parameter combination. Guarantees global optimum."};return e[this.form.optimizer]||"Hover over an option to see its description."},fitnessMetricDescription(){const e={Sharpe:"Measures excess return per unit of deviation in an investment.",Calmar:"Compares average annual compounded rate of return and maximum drawdown risk.",Sortino:"Similar to Sharpe, but focuses only on downside deviation.",Omega:"Considers both upside and downside performance for a better risk-return profile.",Serenity:"Advanced metric incorporating drawdown, volatility, and return.",SmartSharpe:"A modified Sharpe ratio that adjusts for skewness and kurtosis.",SmartSortino:"A modified Sortino ratio considering higher moments of distribution.",MaxDrawdown:"Largest peak-to-trough decline in investment value.",GrossLoss:"Total sum of all losing trades in the backtest."},t="Maximized",i=e[this.form.fitnessMetric1]||"Select a metric to see its description.";return`${i} (${t} objective)`},fitnessMetric2Description(){const e={Sharpe:"Measures excess return per unit of deviation in an investment.",Calmar:"Compares average annual compounded rate of return and maximum drawdown risk.",Sortino:"Similar to Sharpe, but focuses only on downside deviation.",Omega:"Considers both upside and downside performance for a better risk-return profile.",Serenity:"Advanced metric incorporating drawdown, volatility, and return.",SmartSharpe:"A modified Sharpe ratio that adjusts for skewness and kurtosis.",SmartSortino:"A modified Sortino ratio considering higher moments of distribution.",MaxDrawdown:"Largest peak-to-trough decline in investment value.",GrossLoss:"Total sum of all losing trades in the backtest."},t="Maximize"===this.form.secondObjectiveDirection?"Maximized":"Minimized",i=e[this.form.fitnessMetric2]||"Select a metric to see its description.";return`${i} (${t} objective)`},hasExecutedTrades(){return this.results.metrics.length>0},...(0,l.aH)(c.s,["isInitiated","baseURL"]),auth_key(){return sessionStorage.auth_key},remainingTimeText(){return le.A.remainingTimeText(this.results.progressbar.estimated_remaining_seconds)}},watch:{form:{handler(){le.A.localStorageSet("optunaForm",this.form)},deep:!0}},methods:{triggerModal(e,t,i){this.modalTitle=t,this.modalDescription=i,this.pendingAction=e,this.isModalVisible=!0},resetCache(){ms().post("/optuna",{id:"optuna",string:"reset_cache"}).then((e=>console.log(e))).catch((e=>console.log(e)))},resetDatabase(){ms().post("/optuna",{id:"optuna",string:"reset_database"}).then((e=>console.log(e))).catch((e=>console.log(e)))},resetForm(){const e=JSON.parse(localStorage.getItem("optunaForm"))||{},t={debug_mode:!1,optimal_total:50,optimizer:"NSGAIISampler",fitnessMetric1:"Sharpe",fitnessMetric2:"MaxDrawdown",isMultivariate:!1,secondObjectiveDirection:"Minimize",consider_prior:!0,prior_weight:1,n_startup_trials:10,n_ei_candidates:24,group:!1,sigma:.5,consider_pruned_trials:!1,population_size:500,crossover_prob:.9,swapping_prob:.5,qmc_type:"sobol",scramble:!0};Object.keys(t).forEach((i=>{e[i]=t[i]})),localStorage.setItem("optunaForm",JSON.stringify(e)),location.reload()},...(0,l.i0)(ea.I,["addTab","startInNewTab","start","cancel","rerun","newOptuna"]),copyInfoLogs(){const e=document.querySelector("#copy-info-logs");e.setAttribute("type","text"),e.select(),document.execCommand("copy"),this.copiedLogsInfo=!0,e.setAttribute("type","hidden"),window.getSelection().removeAllRanges(),setTimeout((()=>{this.copiedLogsInfo=!1}),3e3)},newSession(){this.results.showResults=!1,this.results.executing=!1,this.results.progressbar.current=0,this.results.progressbar.estimated_remaining_seconds=0,this.results.alert.message="",this.results.alert.type=""}}},un=(0,S.A)(hn,[["render",ln]]),pn=un,mn={name:"Optuna",components:{Tabs:ue["default"],OptunaTab:pn},computed:{...(0,l.Us)(ea.I,["tabs"]),pageId(){return parseInt(this.$route.params.id)}}},gn=(0,S.A)(mn,[["render",Zs]]),fn=gn,bn={class:"container select-none"},_n=(0,r.Lk)("div",{class:"text-center mt-16"},[(0,r.Lk)("h3",null,[(0,r.eW)(" Need help? Check out the "),(0,r.Lk)("a",{href:"http://docs.jesse.trade",class:"text-indigo-600 dark:text-indigo-400 hover:underline",target:"_blank"}," docs "),(0,r.eW)(" or search the help center: ")])],-1),vn={role:"list",class:"border-gray-200 py-6 grid grid-cols-1 gap-6 sm:grid-cols-2"},yn={class:"relative -m-2 p-2 flex items-center space-x-4 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 focus-within:ring-2 focus-within:ring-indigo-500"},xn={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},wn=["href"],kn=(0,r.Lk)("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),Cn=(0,r.Lk)("span",{"aria-hidden":"true"}," ",-1),Sn={class:"mt-1 text-sm text-gray-600 dark:text-gray-400"};function Tn(e,t,i,s,a,n){const o=(0,r.g2)("HelpSearch");return(0,r.uX)(),(0,r.CE)("div",bn,[_n,(0,r.bF)(o),(0,r.Lk)("div",null,[(0,r.Lk)("ul",vn,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.items,((e,t)=>((0,r.uX)(),(0,r.CE)("li",{key:t,class:"flow-root"},[(0,r.Lk)("div",yn,[(0,r.Lk)("div",{class:(0,F.C4)([e.background,"flex-shrink-0 flex items-center justify-center h-16 w-16 rounded-lg"])},[((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.icon),{class:"h-6 w-6 text-white","aria-hidden":"true"}))],2),(0,r.Lk)("div",null,[(0,r.Lk)("h3",xn,[(0,r.Lk)("a",{href:e.url,target:"_blank",class:"focus:outline-none"},[kn,(0,r.eW)(" "+(0,F.v_)(e.title),1),Cn],8,wn)]),(0,r.Lk)("p",Sn,(0,F.v_)(e.description),1)])])])))),128))])])])}var An=i(97676),Mn=i(49325),Ln=i(99559),Rn=i(89878),En=i(38978),In=i(49105);const Pn=i.p+"img/search-by-algolia-light-background.47401192.svg",Fn={class:"w-full flex justify-center"},Dn={class:"mb-4 mt-8 px-2 w-full md:w-2/3"},Bn={class:"relative"},zn=(0,r.Lk)("div",{class:"absolute left-2 inset-y-0 pl-3 flex items-center"},[(0,r.Lk)("svg",{class:"fill-current h-6 w-6 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,r.Lk)("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})])],-1),Vn={key:0,class:"relative"},On={key:0,class:"w-full absolute bg-white p-2 mt-2 border border-gray-300 rounded shadow-md z-50"},Wn=(0,r.Lk)("div",{class:"py-4 px-4 text-gray-600"}," Searching ... ",-1),qn=[Wn],jn={key:1,class:"w-full absolute bg-white p-2 mt-2 border border-gray-300 rounded shadow-md"},Un=(0,r.Lk)("div",{class:"py-4 px-4 text-gray-600 flex items-center text-sm md:text-base"},[(0,r.Lk)("span",{class:"mr-4 text-red-500"},[(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),(0,r.eW)(" Something went wrong. ")],-1),Nn=[Un],Hn={key:2,class:"w-full absolute bg-white px-2 py-2 mt-2 rounded shadow-lg border border-gray-300 max-h-64 overflow-y-auto z-50"},Xn=["href"],$n={class:"px-2 py-4 rounded text-gray-600 hover:bg-indigo-500 hover:text-white"},Qn=(0,r.Lk)("div",{class:"flex justify-end p-2"},[(0,r.Lk)("img",{src:Pn,alt:"search by Algolia"})],-1),Kn={key:3,class:"w-full absolute bg-white p-2 mt-2 border border-gray-300 rounded shadow-md z-50"},Gn=(0,r.Lk)("div",{class:"py-4 px-4 text-gray-600 flex items-center text-sm md:text-base"},[(0,r.Lk)("span",{class:"mr-4 text-yellow-300"},[(0,r.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,r.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),(0,r.eW)(" No items were found for the entered phrase. ")],-1),Jn=[Gn];function Yn(e,t,i,a,n,o){return(0,r.uX)(),(0,r.CE)("div",Fn,[(0,r.Lk)("div",Dn,[(0,r.Lk)("div",Bn,[zn,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.query=e),class:"w-full pl-14 pr-4 py-4 rounded-full outline-none border-2 border-gray-200 focus:border-indigo-600 focus:ring-0 dark:bg-gray-800 dark:border-gray-900",type:"search",placeholder:"Search...",onInput:t[1]||(t[1]=e=>n.typing=!0)},null,544),[[s.Jo,n.query]])]),n.query?((0,r.uX)(),(0,r.CE)("div",Vn,[n.loading?((0,r.uX)(),(0,r.CE)("div",On,qn)):n.error&&n.showResults?((0,r.uX)(),(0,r.CE)("div",jn,Nn)):0!=n.results.length&&n.showResults?((0,r.uX)(),(0,r.CE)("div",Hn,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.results,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id},[(0,r.Lk)("a",{href:"https://jesse.trade/help/faq/"+e.slug,target:"_blank"},[(0,r.Lk)("div",$n,(0,F.v_)(e.title),1)],8,Xn)])))),128)),Qn])):0===n.results.length&&n.showResults?((0,r.uX)(),(0,r.CE)("div",Kn,Jn)):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])])}const Zn={data(){return{showResults:!1,loading:!1,error:!1,results:"",typing:!1,query:""}},watch:{query:Wt().debounce((function(){this.typing=!1}),1e3),typing:function(e){!e&&this.query?this.searchProducts(this.query):this.results&&0===this.query.length&&(this.results=[],this.showResults=!1)}},methods:{searchProducts(e){this.error=!1,this.loading=!0,ms().get("https://jesse.trade/api/help/search",{params:{item:e}}).then((e=>{this.showResults=!0,this.results=e.data,this.loading=!1})).catch((()=>{this.showResults=!0,this.loading=!1,this.error=!0}))}}},eo=(0,S.A)(Zn,[["render",Yn]]),to=eo,io={name:"Dashboard",components:{HelpSearch:to},data(){return{items:[{title:"Documentation",description:"Our friendly documentation is the best place to find information about Jesse",icon:An.A,background:"bg-pink-500",url:"https://docs.jesse.trade/"},{title:"Tutorials",description:"Learn by watching the creator of Jesse writing strategies step-by-step",icon:Mn.A,background:"bg-yellow-500",url:"https://jesse.trade/youtube/"},{title:"Discord",description:"Join our friendly Discord community filled with awesome quants",icon:Ln.A,background:"bg-green-500",url:"https://jesse.trade/discord"},{title:"Github",description:"Curios to see the source code?",icon:Rn.A,background:"bg-blue-500",url:"https://github.com/jesse-ai/jesse"},{title:"News",description:"Keep up with our latest developments",icon:En.A,background:"bg-indigo-500",url:"https://jesse.trade/blog/news"},{title:"Roadmap",description:"Wanna know whats coming next and when?",icon:In.A,background:"bg-purple-500",url:"https://docs.jesse.trade/docs/roadmap.html"}]}},computed:{}},so=(0,S.A)(io,[["render",Tn]]),ao=so,ro=(e,t,i)=>{const s=(0,c.s)();if(s.isConnected)i();else{const e=(0,r.wB)(s,(t=>{t.isConnected&&(e(),i())}),{deep:!0})}},no=[{path:"/backtest",redirect:"/backtest/1"},{path:"/candles",redirect:"/candles/1"},{path:"/live",redirect:"/live/1"},{path:"/optimization",redirect:"/optimization/1"},{path:"/optuna",redirect:"/optuna/1"},{path:"/",component:ao,name:"Home",beforeEnter:ro},{path:"/candles/:id",component:ge,name:"Candles",beforeEnter:ro},{path:"/backtest/:id",component:Ct,name:"Backtest",beforeEnter:ro},{path:"/live/:id",component:ks,name:"Live",beforeEnter:ro},{path:"/optimization/:id",component:Ys,name:"Optimization",beforeEnter:ro},{path:"/optuna/:id",component:fn,name:"Optuna",beforeEnter:ro},{path:"/test",component:Ut,name:"Test",beforeEnter:ro}],oo=(0,E.aE)({history:(0,E.Bt)("/"),mode:"hash",routes:no}),lo=oo;var co=i(22108),ho=i.n(co);function uo(){const e=(0,be._)(),t=(0,P.B)(),i=(0,Ht.h)(),s=(0,Hs.O)(),a=(0,ea.I)();return new Map([["backtest.shownHyperparameters",[e.shownHyperparametersEvent]],["backtest.candles_info",[e.candlesInfoEvent]],["backtest.routes_info",[e.routesInfoEvent]],["backtest.progressbar",[e.progressbarEvent]],["backtest.metrics",[e.metricsEvent]],["backtest.hyperparameters",[e.hyperparametersEvent]],["backtest.info_log",[e.infoLogEvent]],["backtest.equity_curve",[e.equityCurveEvent]],["backtest.exception",[e.exceptionEvent]],["backtest.general_info",[e.generalInfoEvent]],["backtest.termination",[e.terminationEvent]],["backtest.alert",[e.alertEvent]],["backtest.images",[e.imagesEvent]],["backtest.image_status",[e.image_statusEvent]],["backtest.charting_candlesticks",[e.chartingCandlesticksEvent]],["candles.progressbar",[t.progressbarEvent]],["candles.alert",[t.alertEvent]],["candles.exception",[t.exceptionEvent]],["candles.termination",[t.terminationEvent]],["papertrade.progressbar",[i.progressbarEvent]],["livetrade.progressbar",[i.progressbarEvent]],["papertrade.positions",[i.positionsEvent]],["livetrade.positions",[i.positionsEvent]],["papertrade.orders",[i.ordersEvent]],["livetrade.orders",[i.ordersEvent]],["papertrade.general_info",[i.generalInfoEvent]],["livetrade.general_info",[i.generalInfoEvent]],["papertrade.watch_list",[i.watchlistEvent]],["livetrade.watch_list",[i.watchlistEvent]],["papertrade.current_candles",[i.currentCandlesEvent]],["livetrade.current_candles",[i.currentCandlesEvent]],["papertrade.info_log",[i.infoLogEvent]],["livetrade.info_log",[i.infoLogEvent]],["papertrade.error_log",[i.errorLogEvent]],["livetrade.error_log",[i.errorLogEvent]],["papertrade.error_log",[i.errorLogEvent]],["livetrade.error_log",[i.errorLogEvent]],["papertrade.exception",[i.exceptionEvent]],["livetrade.exception",[i.exceptionEvent]],["papertrade.unexpectedTermination",[i.unexpectedTerminationEvent]],["livetrade.unexpectedTermination",[i.unexpectedTerminationEvent]],["papertrade.termination",[i.terminationEvent]],["livetrade.termination",[i.terminationEvent]],["optimize.progressbar",[s.progressbarEvent]],["optimize.general_info",[s.generalInfoEvent]],["optimize.metrics",[s.metricsEvent]],["optimize.exception",[s.exceptionEvent]],["optimize.termination",[s.terminationEvent]],["optimize.alert",[s.alertEvent]],["optimize.best_candidates",[s.bestCandidatesEvent]],["optimize.charting_candlesticks",[s.chartingCandlesticksEvent]],["optuna.progressbar",[a.progressbarEvent]],["optuna.general_info",[a.generalInfoEvent]],["optuna.metrics",[a.metricsEvent]],["optuna.exception",[a.exceptionEvent]],["optuna.termination",[a.terminationEvent]],["optuna.alert",[a.alertEvent]],["optuna.best_candidates",[a.bestCandidatesEvent]],["optuna.conductingAnalysis",[a.conductingAnalysisEvent]],["optuna.progressString",[a.progressStringEvent]],["optuna.analysisFinished",[a.analysisFinishedEvent]],["optuna.charting_candlesticks",[a.chartingCandlesticksEvent]]])}const po={install:(e,t)=>{const i=(0,c.s)(),s=setInterval((function(){if(i.isAuthenticated){let a=t.socketPath;window.Cypress&&(a="ws://127.0.0.1:8001/ws");const r=new(ho())(`${a}?token=${sessionStorage.auth_key}`,{packMessage:e=>JSON.stringify(e),unpackMessage:e=>JSON.parse(e),attachRequestId:(e,t)=>Object.assign({id:t},e),extractRequestId:e=>e&&e.id});let n=null,o=3;function l(){r.open().then((async()=>{i.isConnected=!0,n&&clearInterval(n),o<3&&e.notyf.success("WebSocket reconnected"),o=3})).catch((t=>{console.error("Socket encountered error.",t),e.notyf.error(t.message)}))}r.onClose.addListener((async()=>{console.log("Connection closed."),i.isConnected=!1,n&&clearInterval(n),o>0?n=setInterval((()=>{console.log("Trying to re-open web-socket"),o--,l()}),3e3):console.log("Socket can't re-establish connection!")})),r.onUnpackedMessage.addListener((async e=>{const t=e.event,i=e.data,s=e.id,a=uo().get(t);void 0!==a&&a.forEach((e=>{e(s,i)}))})),e.config.globalProperties.$wsp=r,e.wsp=e.config.globalProperties.$wsp,l(),clearInterval(s)}}),1e3)}},mo=(0,l.Ey)(),go=(0,s.Ef)(R);go.use(mo),go.use(lo);let fo="";fo="ws://127.0.0.1:9000/ws",go.use(po,{socketPath:fo}),mo.use((({store:e})=>{e.$router=(0,a.IG)(lo)}));const bo=i(9666);bo.keys().map((e=>go.component(e.split("/").pop().split(".")[0],bo(e).default))),go.mount("#app"),window.addEventListener("beforeunload",(e=>{e.returnValue="Are you sure you want to leave?"}))},96685:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var s=i(8549);const a=new s.zT({duration:5e3,dismissible:!0,ripple:!1,position:{x:"left",y:"bottom"},types:[{type:"info",background:"#009efa"}]}),r=a},76639:(e,t,i)=>{"use strict";i.d(t,{_:()=>u});i(44114);var s=i(38839),a=i(2543),r=i.n(a),n=i(62866),o=i(58031),l=i(87829),c=i(96685);let d=0;function h(){return r().cloneDeep({id:++d,name:"Tab 0",form:n.A.getDefaultFromLocalStorage("backtestForm",{start_date:"2021-01-01",finish_date:"2021-06-01",debug_mode:!1,export_chart:!1,export_tradingview:!1,export_full_reports:!1,export_backtesting_chart:!1,export_correlation_table:!1,export_csv:!1,export_json:!1,routes:[],extra_routes:[]}),results:{showResults:!1,executing:!1,logsModal:!1,images:[],route_copy:[],image_status:"",progressbar:{current:0,estimated_remaining_seconds:0},routes_info:[],metrics:[],hyperparameters:[],shownHyperparameters:[],generalInfo:{},infoLogs:"",exception:{error:"",traceback:""},charts:{equity_curve:[]},alert:{message:"",type:""}}})}const u=(0,s.nY)({id:"backtest",state:()=>({tabs:{1:h()}}),actions:{addTab(){const e=h();return this.tabs[e.id]=e,this.$router.push(`/backtest/${e.id}`)},shownHyperparametersEvent(e,t){e=t[1],t[0]&&(this.tabs[e].results.shownHyperparameters=t[0])},imagesEvent(e,t){const i={src:`data:image/jpeg;base64,${t}`};this.tabs[e].results.images.push(i)},startInNewTab(e){const t=h();t.form=r().cloneDeep(this.tabs[e].form),this.tabs[t.id]=t,this.start(t.id)},start(e){this.tabs[e].results.progressbar.current=0,this.tabs[e].results.executing=!0,this.tabs[e].results.infoLogs="",this.tabs[e].results.exception.traceback="",this.tabs[e].results.exception.error="",this.tabs[e].results.alert.message="";const t=(0,l.s)();this.tabs[e].form.routes=this.tabs[e].form.routes.map((e=>(e.symbol=e.symbol.toUpperCase(),e))),this.tabs[e].form.extra_routes=this.tabs[e].form.extra_routes.map((e=>(e.symbol=e.symbol.toUpperCase(),e))),o.A.post("/backtest",{id:e,routes:this.tabs[e].form.routes,extra_routes:this.tabs[e].form.extra_routes,config:t.settings.backtest,start_date:this.tabs[e].form.start_date,finish_date:this.tabs[e].form.finish_date,debug_mode:this.tabs[e].form.debug_mode,export_csv:this.tabs[e].form.export_csv,export_chart:this.tabs[e].form.export_chart,export_tradingview:this.tabs[e].form.export_tradingview,export_full_reports:this.tabs[e].form.export_full_reports,export_backtesting_chart:this.tabs[e].form.export_backtesting_chart,export_correlation_table:this.tabs[e].form.export_correlation_table,export_json:this.tabs[e].form.export_json}).catch((t=>{c.A.error(`[${t.response.status}]: ${t.response.statusText}`),this.tabs[e].results.executing=!1}))},image_statusEvent(e,t){this.tabs[e].results.image_status=t},eval_param_start(e){this.tabs[e].results.infoLogs="",this.tabs[e].results.exception.traceback="",this.tabs[e].results.exception.error="",this.tabs[e].results.image_status="Conducting backtests...",this.tabs[e].results.images=[];const t=(0,l.s)();this.tabs[e].form.routes=this.tabs[e].form.routes.map((e=>(e.symbol=e.symbol.toUpperCase(),e))),this.tabs[e].form.extra_routes=this.tabs[e].form.extra_routes.map((e=>(e.symbol=e.symbol.toUpperCase(),e))),this.tabs[e].results.route_copy=r().cloneDeep(this.tabs[e].form.routes),o.A.post("/param_eval",{id:e,routes:this.tabs[e].form.routes,extra_routes:this.tabs[e].form.extra_routes,config:t.settings.backtest,start_date:this.tabs[e].form.start_date,finish_date:this.tabs[e].form.finish_date,debug_mode:this.tabs[e].form.debug_mode}).catch((t=>{c.A.error(`[${t.response.status}]: ${t.response.statusText}`),this.tabs[e].results.executing=!1}))},cancel(e){this.tabs[e].results.exception.error?this.tabs[e].results.executing=!1:(this.tabs[e].results.image_status="",this.tabs[e].results.images=[],o.A.delete("/backtest",{headers:{},data:{id:e}}).then((()=>{window.Cypress&&(this.tabs[e].results.executing=!1)})).catch((e=>c.A.error(`[${e.response.status}]: ${e.response.statusText}`))))},rerun(e){this.tabs[e].results.showResults=!1,this.start(e)},newBacktest(e){this.tabs[e].results.showResults=!1},candlesInfoEvent(e,t){const i=[["Period",t.duration],["Starting Date",n.A.timestampToDate(t.starting_time)],["Ending Date",n.A.timestampToDate(t.finishing_time)],["Exchange Type",t.exchange_type]];"futures"===t.exchange_type&&(i.push(["Leverage",t.leverage]),i.push(["Leverage Mode",t.leverage_mode])),this.tabs[e].results.info=i},routesInfoEvent(e,t){const i=[["Exchange","Symbol","Timeframe","Strategy"]];t.forEach((e=>{i.push([{value:e.exchange,style:""},{value:e.symbol,style:""},{value:e.timeframe,style:""},{value:e.strategy_name,style:""}])})),this.tabs[e].results.routes_info=i},progressbarEvent(e,t){this.tabs[e].results.progressbar=t},infoLogEvent(e,t){this.tabs[e].results.infoLogs+=`[${n.A.timestampToTime(t.timestamp)}] ${t.message}\n`},exceptionEvent(e,t){this.tabs[e].results.exception.error=t.error,this.tabs[e].results.exception.traceback=t.traceback},generalInfoEvent(e,t){this.tabs[e].results.generalInfo=t},hyperparametersEvent(e,t){this.tabs[e].results.hyperparameters=t},metricsEvent(e,t){this.tabs[e].results.metrics=null!==t?[["Total Closed Trades",t.total],["Total Net Profit",`${r().round(t.net_profit,2)} (${r().round(t.net_profit_percentage,2)}%)`],["Starting => Finishing Balance",`${r().round(t.starting_balance,2)} => ${r().round(t.finishing_balance,2)}`],["Open Trades",t.total_open_trades],["Total Paid Fees",r().round(t.fee,2)],["Max Drawdown",`${r().round(t.max_drawdown,2)}%`],["Annual Return",`${r().round(t.annual_return,2)}%`],["Expectancy",`${r().round(t.expectancy,2)} (${r().round(t.expectancy_percentage,2)}%)`],["Avg Win | Avg Loss",`${r().round(t.average_win,2)} | ${r().round(t.average_loss,2)}`],["Ratio Avg Win / Avg Loss",r().round(t.ratio_avg_win_loss,2)],["Win-rate",`${r().round(100*t.win_rate,2)}%`],["Profit Factor",r().round(t.profit_factor,2)],["Longs | Shorts",`${r().round(t.longs_percentage,2)}% | ${r().round(t.shorts_percentage,2)}%`],["Avg Holding Time",n.A.secondsToHumanReadable(t.average_holding_period)],["Winning Trades Avg Holding Time",n.A.secondsToHumanReadable(t.average_winning_holding_period)],["Losing Trades Avg Holding Time",n.A.secondsToHumanReadable(t.average_losing_holding_period)],["Sharpe Ratio",r().round(t.sharpe_ratio,2)],["Calmar Ratio",r().round(t.calmar_ratio,2)],["Sortino Ratio",r().round(t.sortino_ratio,2)],["Omega Ratio",r().round(t.omega_ratio,2)],["Winning Streak",t.winning_streak],["Losing Streak",t.losing_streak],["Largest Winning Trade",r().round(t.largest_winning_trade,2)],["Largest Losing Trade",r().round(t.largest_losing_trade,2)],["Total Winning Trades",t.total_winning_trades],["Total Losing Trades",t.total_losing_trades],["Kelly Criterion",r().round(t.kelly_criterion,2)]]:[]},equityCurveEvent(e,t){null===t?this.tabs[e].results.charts.equity_curve=[]:(this.tabs[e].results.charts.equity_curve=[],t.forEach((t=>{this.tabs[e].results.charts.equity_curve.push({value:t.balance,time:t.timestamp})}))),this.tabs[e].results.executing=!1,this.tabs[e].results.showResults=!0},terminationEvent(e){this.tabs[e].results.executing&&(this.tabs[e].results.executing=!1,c.A.success("Session terminated successfully"))},alertEvent(e,t){this.tabs[e].results.alert=t}}})},31676:(e,t,i)=>{"use strict";i.d(t,{B:()=>h});i(44114);var s=i(38839),a=i(2543),r=i.n(a),n=i(62866),o=i(58031),l=i(96685);let c=0;function d(){return r().cloneDeep({id:++c,name:"Tab 0",form:n.A.getDefaultFromLocalStorage("candlesForm",{start_date:"2021-01-01",exchange:"",symbol:""}),results:{showResults:!1,executing:!1,progressbar:{current:0,estimated_remaining_seconds:0},metrics:[],infoLogs:"",exception:{error:"",traceback:""},alert:{message:"",type:""}}})}const h=(0,s.nY)({id:"candles",state:()=>({tabs:{1:d()}}),actions:{addTab(){const e=d();return this.tabs[e.id]=e,this.$router.push(`/candles/${e.id}`)},startInNewTab(e){const t=d();t.form=r().cloneDeep(this.tabs[e].form),this.tabs[t.id]=t,this.start(t.id)},start(e){this.tabs[e].results.progressbar.current=0,this.tabs[e].results.executing=!0,this.tabs[e].results.infoLogs="",this.tabs[e].results.exception.traceback="",this.tabs[e].results.exception.error="",this.tabs[e].results.alert.message="",o.A.post("/import-candles",{id:e,exchange:this.tabs[e].form.exchange,symbol:this.tabs[e].form.symbol,start_date:this.tabs[e].form.start_date}).catch((t=>{l.A.error(`[${t.response.status}]: ${t.response.statusText}`),this.tabs[e].results.executing=!1}))},cancel(e){this.tabs[e].results.exception.error?this.tabs[e].results.executing=!1:o.A.delete("/import-candles",{headers:{},data:{id:e}}).then((()=>{window.Cypress&&(this.tabs[e].results.executing=!1)})).catch((e=>l.A.error(`[${e.response.status}]: ${e.response.statusText}`)))},progressbarEvent(e,t){this.tabs[e].results.progressbar=t,this.tabs[e].results.progressbar.current<100&&!1===this.tabs[e].results.executing&&(this.tabs[e].results.executing=!0)},alertEvent(e,t){this.tabs[e].results.alert=t,this.tabs[e].results.progressbar.current=100,this.tabs[e].results.executing=!1,this.tabs[e].results.exception.traceback="",this.tabs[e].results.exception.error=""},infoLogEvent(e,t){this.tabs[e].results.infoLogs+=`[${n.A.timestampToTime(t.timestamp)}] ${t.message}\n`},exceptionEvent(e,t){this.tabs[e].results.exception.error=t.error,this.tabs[e].results.exception.traceback=t.traceback},terminationEvent(e){this.tabs[e].results.executing&&(this.tabs[e].results.executing=!1,l.A.success("Session terminated successfully"))}}})},47682:(e,t,i)=>{"use strict";i.d(t,{h:()=>u});i(44114);var s=i(38839),a=i(2543),r=i.n(a),n=i(62866),o=i(58031),l=i(87829),c=i(96685);let d=0;function h(){return r().cloneDeep({id:++d,session_id:"",name:"Tab 0",form:n.A.getDefaultFromLocalStorage("liveForm",{debug_mode:!0,paper_mode:!0,routes:[],extra_routes:[]}),modals:{reportWithoutException:!1,infoLogs:!1,errorLogs:!1,terminationConfirm:!1,orders:!1},results:{showResults:!1,booting:!1,monitoring:!1,finished:!1,terminating:!1,progressbar:{current:0,estimated_remaining_seconds:0},routes_info:[],routes:[],metrics:[],generalInfo:{},positions:[],orders:[],watchlist:[],candles:[],currentCandles:{},infoLogs:"",errorLogs:"",exception:{error:"",traceback:""},charts:{equity_curve:[]}}})}const u=(0,s.nY)({id:"live",state:()=>({tabs:{1:h()}}),actions:{addTab(){const e=h();return this.tabs[e.id]=e,this.$router.push(`/live/${e.id}`)},startInNewTab(e){const t=h();t.form=r().cloneDeep(this.tabs[e].form),this.tabs[t.id]=t,this.start(t.id)},reset(e){this.tabs[e].results.progressbar.current=0,this.tabs[e].results.booting=!0,this.tabs[e].results.finished=!1,this.tabs[e].results.infoLogs="",this.tabs[e].results.errorLogs="",this.tabs[e].results.exception.traceback="",this.tabs[e].results.exception.error="",this.tabs[e].results.routes_info=[],this.tabs[e].results.metrics=[],this.tabs[e].results.generalInfo={},this.tabs[e].results.positions=[],this.tabs[e].results.orders=[],this.tabs[e].results.candles=[],this.tabs[e].results.currentCandles={},this.tabs[e].results.watchlist=[]},start(e){this.reset(e);const t=(0,l.s)();this.tabs[e].form.routes=this.tabs[e].form.routes.map((e=>(e.symbol=e.symbol.toUpperCase(),e))),this.tabs[e].form.extra_routes=this.tabs[e].form.extra_routes.map((e=>(e.symbol=e.symbol.toUpperCase(),e))),o.A.post("/live",{id:e,routes:this.tabs[e].form.routes,extra_routes:this.tabs[e].form.extra_routes,config:t.settings.live,debug_mode:this.tabs[e].form.debug_mode,paper_mode:this.tabs[e].form.paper_mode}).catch((t=>{c.A.error(`[${t.response.status}]: ${t.response.statusText}`),this.tabs[e].results.booting=!1}))},cancel(e){this.tabs[e].results.booting=!1,o.A.delete("/live",{headers:{},data:{id:e,paper_mode:this.tabs[e].form.paper_mode}}).catch((e=>c.A.error(`[${e.response.status}]: ${e.response.statusText}`)))},stop(e){o.A.delete("/live",{headers:{},data:{id:e,paper_mode:this.tabs[e].form.paper_mode}}).then((t=>{this.tabs[e].modals.terminationConfirm=!1,this.tabs[e].results.terminating=!0})).catch((e=>c.A.error(`[${e.response.status}]: ${e.response.statusText}`)))},newLive(e){this.tabs[e].results.monitoring=!1,this.tabs[e].results.finished=!1},candlesInfoEvent(e,t){this.tabs[e].results.info=[["Period",t.duration],["Starting-Ending Date",`${n.A.timestampToDate(t.starting_time)} => ${n.A.timestampToDate(t.finishing_time)}`]]},routesInfoEvent(e,t){const i=[];t.forEach((e=>{i.push([e.exchange,e.symbol,e.timeframe,e.strategy_name])})),this.tabs[e].results.routes_info=i},progressbarEvent(e,t){this.tabs[e].results.progressbar=t},infoLogEvent(e,t){this.tabs[e].results.infoLogs+=`[${n.A.timestampToTime(t.timestamp)}] ${t.message}\n`},errorLogEvent(e,t){c.A.error(t.message),this.tabs[e].results.errorLogs+=`[${n.A.timestampToTime(t.timestamp)}] ${t.message}\n`},exceptionEvent(e,t){this.tabs[e].results.exception.error=t.error,this.tabs[e].results.exception.traceback=t.traceback},generalInfoEvent(e,t){this.tabs[e].results.generalInfo=t,this.tabs[e].form.routes=this.tabs[e].results.generalInfo.routes,this.tabs[e].results.routes=[["Exchange","Symbol","Timeframe","Strategy"]];for(const i of this.tabs[e].form.routes)this.tabs[e].results.routes.push([{value:i.exchange,style:""},{value:i.symbol,style:""},{value:i.timeframe,style:""},{value:i.strategy,style:""}]);this.tabs[e].results.monitoring||(this.tabs[e].results.booting=!1,this.tabs[e].results.monitoring=!0,this.fetchCandles(e),this.fetchLogs(e))},fetchCandles(e){o.A.post("/get-candles",{id:e,exchange:this.tabs[e].form.routes[0].exchange,symbol:this.tabs[e].form.routes[0].symbol,timeframe:this.tabs[e].form.routes[0].timeframe}).then((t=>{this.tabs[e].results.candles=t.data.data,t.data.data.length||c.A.error("Could not load candles")})).catch((e=>{c.A.error(`[${e.response.status}]: ${e.response.statusText}`)}))},fetchLogs(e){o.A.post("/get-logs",{id:e,session_id:this.tabs[e].results.generalInfo.session_id,type:"info"}).then((t=>{const i=t.data.data;this.tabs[e].results.infoLogs="",i.forEach((t=>{this.tabs[e].results.infoLogs+=`[${n.A.timestampToTime(t.timestamp)}] ${t.message}\n`}))})).catch((e=>{c.A.error(`[${e.response.status}]: ${e.response.statusText}`)})),o.A.post("/get-logs",{id:e,session_id:this.tabs[e].results.generalInfo.session_id,type:"error"}).then((t=>{const i=t.data.data;this.tabs[e].results.errorLogs="",i.forEach((t=>{this.tabs[e].results.errorLogs+=`[${n.A.timestampToTime(t.timestamp)}] ${t.message}\n`}))})).catch((e=>{c.A.error(`[${e.response.status}]: ${e.response.statusText}`)}))},currentCandlesEvent(e,t){this.tabs[e].results.currentCandles=t},watchlistEvent(e,t){this.tabs[e].results.watchlist=t},positionsEvent(e,t){this.tabs[e].results.positions=[["Symbol","QTY","Entry","Price","Liq Price","PNL"]];for(const i of t){const t="close"===i.type?"":i.qty;this.tabs[e].results.positions.push([{value:i.symbol,style:""},{value:t,style:n.A.colorBasedOnType(i.type),tooltip:`${i.value} ${i.currency}`},{value:n.A.roundPrice(i.entry),style:""},{value:n.A.roundPrice(i.current_price),style:""},{value:n.A.roundPrice(i.liquidation_price),style:""},{value:`${r().round(i.pnl,2)} (${r().round(i.pnl_perc,2)}%)`,style:n.A.colorBasedOnNumber(i.pnl)}])}},ordersEvent(e,t){this.tabs[e].results.orders=t},metricsEvent(e,t){this.tabs[e].results.metrics=[["Total Closed Trades",t.total],["Total Net Profit",`${r().round(t.net_profit,2)} (${r().round(t.net_profit_percentage,2)}%)`],["Starting => Finishing Balance",`${r().round(t.starting_balance,2)} => ${r().round(t.finishing_balance,2)}`],["Open Trades",t.total_open_trades],["Total Paid Fees",r().round(t.fee,2)],["Max Drawdown",r().round(t.max_drawdown,2)],["Annual Return",`${r().round(t.annual_return,2)}%`],["Expectancy",`${r().round(t.expectancy,2)} (${r().round(t.expectancy_percentage,2)}%)`],["Avg Win | Avg Loss",`${r().round(t.average_win,2)} | ${r().round(t.average_loss,2)}`],["Ratio Avg Win / Avg Loss",r().round(t.ratio_avg_win_loss,2)],["Win-rate",`${r().round(100*t.win_rate,2)}%`],["Longs | Shorts",`${r().round(t.longs_percentage,2)}% | ${r().round(t.shorts_percentage,2)}%`],["Avg Holding Time",t.average_holding_period],["Winning Trades Avg Holding Time",t.average_winning_holding_period],["Losing Trades Avg Holding Time",t.average_losing_holding_period],["Sharpe Ratio",r().round(t.sharpe_ratio,2)],["Calmar Ratio",r().round(t.calmar_ratio,2)],["Sortino Ratio",r().round(t.sortino_ratio,2)],["Omega Ratio",r().round(t.omega_ratio,2)],["Winning Streak",t.winning_streak],["Losing Streak",t.losing_streak],["Largest Winning Trade",r().round(t.largest_winning_trade,2)],["Largest Losing Trade",r().round(t.largest_losing_trade,2)],["Total Winning Trades",t.total_winning_trades],["Total Losing Trades",t.total_losing_trades]]},equityCurveEvent(e,t){this.tabs[e].results.charts.equity_curve=[],t.forEach((t=>{this.tabs[e].results.charts.equity_curve.push({value:t.balance,time:t.timestamp})})),this.tabs[e].results.booting=!1,this.tabs[e].results.showResults=!0},unexpectedTerminationEvent(e,t){this.tabs[e].results.finished=!0},terminationEvent(e){this.tabs[e].results.finished||(this.tabs[e].results.finished=!0,this.tabs[e].results.terminating=!1,c.A.success("Session terminated successfully"))}}})},87829:(e,t,i)=>{"use strict";i.d(t,{s:()=>l});i(44114);var s=i(38839),a=i(58031),r=i(2543),n=i.n(r),o=i(96685);const l=(0,s.nY)({id:"main",state:()=>({baseURL:"",isConnected:!1,isInitiated:!1,isAuthenticated:!1,hasLivePluginInstalled:!1,systemInfo:{},updateInfo:{},planInfo:{},theme:localStorage.theme,modals:{settings:!1,exceptionReport:!1,feedback:!1,makeStrategy:!1,about:!1},settings:{backtest:{logging:{order_submission:!0,order_cancellation:!0,order_execution:!0,position_opened:!0,position_increased:!0,position_reduced:!0,position_closed:!0,shorter_period_candles:!1,trading_candles:!0,balance_update:!0},warm_up_candles:210,exchanges:{}},live:{persistency:!0,generate_candles_from_1m:!1,logging:{order_submission:!0,order_cancellation:!0,order_execution:!0,position_opened:!0,position_increased:!0,position_reduced:!0,position_closed:!0,shorter_period_candles:!1,trading_candles:!0,balance_update:!0},warm_up_candles:210,exchanges:{},notifications:{enabled:!0,position_report_timeframe:"1h",events:{errors:!0,started_session:!0,terminated_session:!0,submitted_orders:!0,cancelled_orders:!0,executed_orders:!0,opened_position:!0,updated_position:!0}}},optimization:{cpu_cores:2,ratio:"sharpe",warm_up_candles:210,exchange:{balance:1e4,fee:.001,type:"futures",futures_leverage:3,futures_leverage_mode:"cross"}},optuna:{cpu_cores:2,warm_up_candles:210,exchange:{balance:1e4,fee:.001,type:"futures",futures_leverage:3,futures_leverage_mode:"cross"}}},strategies:[],exchangeInfo:{},jesse_supported_timeframes:[]}),getters:{backtestingExchangeNames(){const e=[];for(const t in this.exchangeInfo)this.exchangeInfo[t].modes.backtesting&&e.push(t);return e.sort()}},actions:{initiate(){a.A.post("/general-info").then((e=>{const t=e.data;this.systemInfo=t.system_info,this.updateInfo=t.update_info,this.strategies=t.strategies,this.exchangeInfo=t.exchanges,this.jesseSupportedTimeframes=t.jesse_supported_timeframes,this.hasLivePluginInstalled=t.has_live_plugin_installed,this.planInfo=t.plan_info;for(const i in this.exchangeInfo){const e=this.exchangeInfo[i];e.modes.backtesting&&(this.settings.backtest.exchanges[i]={name:i,fee:e.fee,balance:1e4,type:e.type},"futures"===e.type&&(this.settings.backtest.exchanges[i].futures_leverage_mode="cross",this.settings.backtest.exchanges[i].futures_leverage=2)),e.modes.live_trading&&(this.settings.live.exchanges[e.name]={name:i,fee:e.fee,futures_leverage_mode:"cross",futures_leverage:2,balance:1e4})}a.A.post("/get-config",{current_config:this.settings}).then((e=>{this.settings=e.data.data.data,this.isInitiated=!0})).catch((e=>{o.A.error(`[${e.response.status}]: ${e.response.statusText}`)}))})).catch((e=>{const t=`${e.response.data.error}`;console.error(t),o.A.error(t)})),this.baseURL=a.A.defaults.baseURL},updateConfig:n().throttle((function(){this.isInitiated&&a.A.post("/update-config",{current_config:this.settings}).catch((e=>{o.A.error(`[${e.response.status}]: ${e.response.statusText}`)}))}),1e3,{leading:!0,trailing:!0})}})},73909:(e,t,i)=>{"use strict";i.d(t,{O:()=>u});i(44114);var s=i(38839),a=i(2543),r=i.n(a),n=i(62866),o=i(58031),l=i(87829),c=i(96685);let d=0;function h(){return r().cloneDeep({id:++d,name:"Tab 0",form:n.A.getDefaultFromLocalStorage("optimizationForm",{start_date:"2021-01-01",finish_date:"2021-06-01",debug_mode:!1,export_csv:!1,export_json:!1,routes:[],extra_routes:[],optimal_total:50}),results:{showResults:!1,executing:!1,logsModal:!1,progressbar:{current:0,estimated_remaining_seconds:0},routes_info:[],best_candidates:[],metrics:[],generalInfo:{},infoLogs:"",exception:{error:"",traceback:""},alert:{message:"",type:""}}})}const u=(0,s.nY)({id:"optimization",state:()=>({tabs:{1:h()}}),actions:{addTab(){const e=h();return this.tabs[e.id]=e,this.$router.push(`/optimization/${e.id}`)},startInNewTab(e){const t=h();t.form=r().cloneDeep(this.tabs[e].form),this.tabs[t.id]=t,this.start(t.id)},start(e){this.tabs[e].results.progressbar.current=0,this.tabs[e].results.executing=!0,this.tabs[e].results.infoLogs="",this.tabs[e].results.exception.traceback="",this.tabs[e].results.exception.error="",this.tabs[e].results.alert.message="",this.tabs[e].results.alert.type="",this.tabs[e].results.metrics=[],this.tabs[e].results.generalInfo={},this.tabs[e].results.best_candidates=[],this.tabs[e].results.routes_info=[],this.tabs[e].results.showResults=!1;const t=(0,l.s)();this.tabs[e].form.routes=this.tabs[e].form.routes.map((e=>(e.symbol=e.symbol.toUpperCase(),e))),this.tabs[e].form.extra_routes=this.tabs[e].form.extra_routes.map((e=>(e.symbol=e.symbol.toUpperCase(),e)));const i={id:e,routes:this.tabs[e].form.routes,extra_routes:this.tabs[e].form.extra_routes,config:t.settings.optimization,start_date:this.tabs[e].form.start_date,finish_date:this.tabs[e].form.finish_date,optimal_total:this.tabs[e].form.optimal_total,debug_mode:this.tabs[e].form.debug_mode,export_csv:this.tabs[e].form.export_csv,export_json:this.tabs[e].form.export_json};o.A.post("/optimization",i).catch((t=>{c.A.error(`[${t.response.status}]: ${t.response.statusText}`),this.tabs[e].results.executing=!1}))},cancel(e){this.tabs[e].results.exception.error?this.tabs[e].results.executing=!1:o.A.delete("/optimization",{headers:{},data:{id:e}}).catch((e=>c.A.error(`[${e.response.status}]: ${e.response.statusText}`)))},rerun(e){this.tabs[e].results.showResults=!1,this.start(e)},newOptimization(e){this.tabs[e].results.showResults=!1},candlesInfoEvent(e,t){this.tabs[e].results.info=[["Period",t.duration],["Starting-Ending Date",`${n.A.timestampToDate(t.starting_time)} => ${n.A.timestampToDate(t.finishing_time)}`]]},routesInfoEvent(e,t){const i=[["Exchange","Symbol","Timeframe","Strategy"]];t.forEach((e=>{i.push([{value:e.exchange,style:""},{value:e.symbol,style:""},{value:e.timeframe,style:""},{value:e.strategy_name,style:""}])})),this.tabs[e].results.routes_info=i},progressbarEvent(e,t){this.tabs[e].results.progressbar=t},infoLogEvent(e,t){this.tabs[e].results.infoLogs+=`[${n.A.timestampToTime(t.timestamp)}] ${t.message}\n`},exceptionEvent(e,t){this.tabs[e].results.exception.error=t.error,this.tabs[e].results.exception.traceback=t.traceback},generalInfoEvent(e,t){this.tabs[e].results.executing||(this.tabs[e].results.executing=!0),this.tabs[e].results.generalInfo=[["Started at",t.started_at],["Index",t.index],["Average strategy execution time",`${r().round(t.average_execution_seconds,2)} seconds`],["Trading route",t.trading_route]],"population_size"in t&&this.tabs[e].results.generalInfo.push(["Population size",t.population_size]),"iterations"in t&&this.tabs[e].results.generalInfo.push(["Iterations",t.iterations]),"solution_length"in t&&this.tabs[e].results.generalInfo.push(["Solution length",t.solution_length])},metricsEvent(e,t){this.tabs[e].results.metrics=null!==t?[["Total Closed Trades",t.total],["Total Net Profit",`${r().round(t.net_profit,2)} (${r().round(t.net_profit_percentage,2)}%)`],["Starting => Finishing Balance",`${r().round(t.starting_balance,2)} => ${r().round(t.finishing_balance,2)}`],["Open Trades",t.total_open_trades],["Total Paid Fees",r().round(t.fee,2)],["Max Drawdown",r().round(t.max_drawdown,2)],["Annual Return",`${r().round(t.annual_return,2)}%`],["Expectancy",`${r().round(t.expectancy,2)} (${r().round(t.expectancy_percentage,2)}%)`],["Avg Win | Avg Loss",`${r().round(t.average_win,2)} | ${r().round(t.average_loss,2)}`],["Ratio Avg Win / Avg Loss",r().round(t.ratio_avg_win_loss,2)],["Win-rate",`${r().round(100*t.win_rate,2)}%`],["Longs | Shorts",`${r().round(t.longs_percentage,2)}% | ${r().round(t.shorts_percentage,2)}%`],["Avg Holding Time",t.average_holding_period],["Winning Trades Avg Holding Time",t.average_winning_holding_period],["Losing Trades Avg Holding Time",t.average_losing_holding_period],["Sharpe Ratio",r().round(t.sharpe_ratio,2)],["Calmar Ratio",r().round(t.calmar_ratio,2)],["Sortino Ratio",r().round(t.sortino_ratio,2)],["Omega Ratio",r().round(t.omega_ratio,2)],["Winning Streak",t.winning_streak],["Losing Streak",t.losing_streak],["Largest Winning Trade",r().round(t.largest_winning_trade,2)],["Largest Losing Trade",r().round(t.largest_losing_trade,2)],["Total Winning Trades",t.total_winning_trades],["Total Losing Trades",t.total_losing_trades]]:[]},terminationEvent(e){this.tabs[e].results.executing&&(this.tabs[e].results.executing=!1,c.A.success("Session terminated successfully"))},bestCandidatesEvent(e,t){const i=[["Rank","DNA","Fitness","Training-Testing Win-rate","Training-Testing total trades","Training-Testing PNL"]];t.forEach((e=>{i.push([{value:`#${e.rank}`,style:""},{value:e.dna,style:"",tag:"code",modalTrigger:!0,hyperparameters:e.hyperparameters},{value:e.fitness,style:""},{value:`${e.training_win_rate}% | ${e.testing_win_rate}%`,style:""},{value:`${e.training_total_trades} | ${e.testing_total_trades}`,style:""},{value:`${e.training_pnl}% | ${e.testing_pnl}%`,style:""}])})),this.tabs[e].results.best_candidates=i},alertEvent(e,t){this.tabs[e].results.alert=t,this.tabs[e].results.executing=!1,this.tabs[e].results.showResults=!0}}})},11833:(e,t,i)=>{"use strict";i.d(t,{I:()=>u});i(44114);var s=i(38839),a=i(2543),r=i.n(a),n=i(62866),o=i(58031),l=i(87829),c=i(96685);let d=0;function h(){return r().cloneDeep({id:++d,name:"Tab 0",form:n.A.getDefaultFromLocalStorage("optunaForm",{start_date:"2021-01-01",finish_date:"2021-06-01",debug_mode:!1,routes:[],extra_routes:[],optimal_total:50,optimizer:"NSGAIISampler",fitnessMetric1:"Sharpe",fitnessMetric2:"MaxDrawdown",isMultivariate:!1,secondObjectiveDirection:"Minimize",consider_prior:!0,prior_weight:1,n_startup_trials:10,n_ei_candidates:24,group:!1,sigma:.5,consider_pruned_trials:!1,population_size:500,crossover_prob:.9,swapping_prob:.5,qmc_type:"sobol",scramble:!0,n_trials:1e3,do_analysis:!1,validation_interval:90,robust_test_iteration_count:3,robust_test_max:6,robust_test_min:1.5,max_final_number_of_validation_results:64,optuna_visualizations:!1}),results:{showResults:!1,executing:!1,logsModal:!1,conductingAnalysis:!1,progressString:"",analysisFinished:!1,progressbar:{current:0,estimated_remaining_seconds:0},routes_info:[],best_candidates:[],duration_array:[],metrics:[],generalInfo:{},infoLogs:"",exception:{error:"",traceback:""},alert:{message:"",type:""}}})}const u=(0,s.nY)({id:"optuna",state:()=>({tabs:{1:h()}}),data(){return{isConfirmPromptActive:!1}},actions:{start(e,t=!1,i=!1,s=!1){!1===s&&(this.tabs[e].results.progressbar.current=0,this.tabs[e].results.executing=!0,this.tabs[e].results.infoLogs="",this.tabs[e].results.exception.traceback="",this.tabs[e].results.exception.error="",this.tabs[e].results.alert.message="",this.tabs[e].results.alert.type="",this.tabs[e].results.metrics=[],this.tabs[e].results.generalInfo={},this.tabs[e].results.best_candidates=[],this.tabs[e].results.duration_array=[],this.tabs[e].results.routes_info=[],this.tabs[e].results.showResults=!1,this.tabs[e].form.routes=this.tabs[e].form.routes.map((e=>(e.symbol=e.symbol.toUpperCase(),e))),this.tabs[e].form.extra_routes=this.tabs[e].form.extra_routes.map((e=>(e.symbol=e.symbol.toUpperCase(),e)))),this.tabs[e].results.conductingAnalysis=s,this.tabs[e].results.analysisFinished=!1,this.tabs[e].results.progressString="";const a=(0,l.s)(),r={id:e,checked_study:i,continueExistingStudy:t,routes:this.tabs[e].form.routes,extra_routes:this.tabs[e].form.extra_routes,config:a.settings.optuna,start_date:this.tabs[e].form.start_date,finish_date:this.tabs[e].form.finish_date,optimal_total:this.tabs[e].form.optimal_total,debug_mode:this.tabs[e].form.debug_mode,optimizer:this.tabs[e].form.optimizer,fitnessMetric1:this.tabs[e].form.fitnessMetric1,fitnessMetric2:this.tabs[e].form.fitnessMetric2,isMultivariate:this.tabs[e].form.isMultivariate,secondObjectiveDirection:this.tabs[e].form.secondObjectiveDirection,consider_prior:this.tabs[e].form.consider_prior,prior_weight:this.tabs[e].form.prior_weight,n_startup_trials:this.tabs[e].form.n_startup_trials,n_ei_candidates:this.tabs[e].form.n_ei_candidates,group:this.tabs[e].form.group,sigma:this.tabs[e].form.sigma,consider_pruned_trials:this.tabs[e].form.consider_pruned_trials,population_size:this.tabs[e].form.population_size,crossover_prob:this.tabs[e].form.crossover_prob,swapping_prob:this.tabs[e].form.swapping_prob,qmc_type:this.tabs[e].form.qmc_type,scramble:this.tabs[e].form.scramble,n_trials:this.tabs[e].form.n_trials,do_analysis:s,validation_interval:this.tabs[e].form.validation_interval,robust_test_iteration_count:this.tabs[e].form.robust_test_iteration_count,robust_test_max:this.tabs[e].form.robust_test_max,robust_test_min:this.tabs[e].form.robust_test_min,max_final_number_of_validation_results:this.tabs[e].form.max_final_number_of_validation_results,optuna_visualizations:this.tabs[e].form.optuna_visualizations};!0===s&&o.A.post("/optuna",r).catch((t=>{c.A.error(`[${t.response.status}]: ${t.response.statusText}`),this.tabs[e].results.executing=!1})),this.submitOptunaRequest(e,r)},submitOptunaRequest(e,t){this.isConfirmPromptActive||o.A.post("/optuna",t).then((i=>{if(i.data.study_exists&&!t.checked_study){this.isConfirmPromptActive=!0;const s=confirm(i.data.message+" Do you want to resume optimization?");this.isConfirmPromptActive=!1,t={...t},t.continueExistingStudy=!!s,t.checked_study=!0,this.submitOptunaRequest(e,t)}})).catch((t=>{c.A.error(`[${t.response.status}]: ${t.response.statusText}`),this.tabs[e].results.executing=!1}))},cancel(e){this.tabs[e].results.exception.error?this.tabs[e].results.executing=!1:o.A.delete("/optuna",{headers:{},data:{id:e}}).catch((e=>c.A.error(`[${e.response.status}]: ${e.response.statusText}`)))},rerun(e){this.tabs[e].results.showResults=!1,this.start(e)},newOptuna(e){this.tabs[e].results.showResults=!1},candlesInfoEvent(e,t){this.tabs[e].results.info=[["Period",t.duration],["Starting-Ending Date",`${n.A.timestampToDate(t.starting_time)} => ${n.A.timestampToDate(t.finishing_time)}`]]},routesInfoEvent(e,t){const i=[["Exchange","Symbol","Timeframe","Strategy"]];t.forEach((e=>{i.push([{value:e.exchange,style:""},{value:e.symbol,style:""},{value:e.timeframe,style:""},{value:e.strategy_name,style:""}])})),this.tabs[e].results.routes_info=i},progressbarEvent(e,t){this.tabs[e].results.progressbar=t},infoLogEvent(e,t){this.tabs[e].results.infoLogs+=`[${n.A.timestampToTime(t.timestamp)}] ${t.message}\n`},exceptionEvent(e,t){this.tabs[e].results.exception.error=t.error,this.tabs[e].results.exception.traceback=t.traceback},generalInfoEvent(e,t){if(this.tabs[e].results.executing||(this.tabs[e].results.executing=!0),null!=t.average_execution_seconds)this.tabs[e].results.duration_array.push(t.average_execution_seconds);else if(this.tabs[e].results.duration_array.length>0){const t=this.tabs[e].results.duration_array[this.tabs[e].results.duration_array.length-1];this.tabs[e].results.duration_array.push(t)}const i=this.tabs[e].results.duration_array.reduce(((e,t)=>e+t),0)/this.tabs[e].results.duration_array.length;this.tabs[e].results.generalInfo=[["Started at",t.started_at],["Index",t.index],["Average strategy execution time",`${r().round(i,2)} seconds`],["Trading route",t.trading_route],["Optimizer",t.optimizer]]},metricsEvent(e,t){this.tabs[e].results.metrics=null!==t?[["Total Closed Trades",t.total],["Total Net Profit",`${r().round(t.net_profit,2)} (${r().round(t.net_profit_percentage,2)}%)`],["Starting => Finishing Balance",`${r().round(t.starting_balance,2)} => ${r().round(t.finishing_balance,2)}`],["Open Trades",t.total_open_trades],["Total Paid Fees",r().round(t.fee,2)],["Max Drawdown",r().round(t.max_drawdown,2)],["Annual Return",`${r().round(t.annual_return,2)}%`],["Expectancy",`${r().round(t.expectancy,2)} (${r().round(t.expectancy_percentage,2)}%)`],["Avg Win | Avg Loss",`${r().round(t.average_win,2)} | ${r().round(t.average_loss,2)}`],["Ratio Avg Win / Avg Loss",r().round(t.ratio_avg_win_loss,2)],["Win-rate",`${r().round(100*t.win_rate,2)}%`],["Longs | Shorts",`${r().round(t.longs_percentage,2)}% | ${r().round(t.shorts_percentage,2)}%`],["Avg Holding Time",t.average_holding_period],["Winning Trades Avg Holding Time",t.average_winning_holding_period],["Losing Trades Avg Holding Time",t.average_losing_holding_period],["Sharpe Ratio",r().round(t.sharpe_ratio,2)],["Calmar Ratio",r().round(t.calmar_ratio,2)],["Sortino Ratio",r().round(t.sortino_ratio,2)],["Omega Ratio",r().round(t.omega_ratio,2)],["Winning Streak",t.winning_streak],["Losing Streak",t.losing_streak],["Largest Winning Trade",r().round(t.largest_winning_trade,2)],["Largest Losing Trade",r().round(t.largest_losing_trade,2)],["Total Winning Trades",t.total_winning_trades],["Total Losing Trades",t.total_losing_trades]]:[]},terminationEvent(e){this.tabs[e].results.executing&&(this.tabs[e].results.executing=!1,c.A.success("Session terminated successfully"))},bestCandidatesEvent(e,t){Array.isArray(t)||(t=[t]),0===this.tabs[e].results.best_candidates.length&&(this.tabs[e].results.best_candidates=[["Rank","DNA",t[0]?.fitness_description,"Training-Testing Win-rate","Training-Testing total trades","Training-Testing PNL"]]),t.forEach((t=>{if(!this.tabs[e].results.best_candidates.some((e=>JSON.stringify(e[1].hyperparameters)===JSON.stringify(t.hyperparameters)))){const i=[{value:"",style:""},{value:t.dna,style:"",tag:"code",modalTrigger:!0,hyperparameters:t.hyperparameters},{value:t.fitness,style:""},{value:`${t.training_win_rate}% | ${t.testing_win_rate}%`,style:""},{value:`${t.training_total_trades} | ${t.testing_total_trades}`,style:""},{value:`${t.training_pnl}% | ${t.testing_pnl}%`,style:""}];this.tabs[e].results.best_candidates.push(i)}}));const i=this.tabs[e].results.best_candidates.slice(1).sort(((e,t)=>{const i=Array.isArray(e[2].value)?e[2].value[0]:e[2].value,s=Array.isArray(t[2].value)?t[2].value[0]:t[2].value;return s-i})).slice(0,100);i.forEach(((e,t)=>{e[0].value=`#${t+1}`})),this.tabs[e].results.best_candidates=[this.tabs[e].results.best_candidates[0],...i]},alertEvent(e,t){this.tabs[e].results.alert=t,this.tabs[e].results.executing=!1,this.tabs[e].results.showResults=!0},conductingAnalysisEvent(e){this.tabs[e].results.conductingAnalysis=!0},progressStringEvent(e,t){this.tabs[e].results.progressString=t},analysisFinishedEvent(e){this.tabs[e].results.analysisFinished=!0}}})},99377:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var s=i(20641),a=i(90033);const r={class:"flex"},n={class:"flex-shrink-0"},o={class:"ml-3"},l=["textContent"],c={class:"ml-auto pl-3"},d={class:"-mx-1.5 -my-1.5"},h=(0,s.Lk)("span",{class:"sr-only"},"Dismiss",-1);function u(e,t,i,u,p,m){const g=(0,s.g2)("XIcon");return p.open?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,a.C4)(["rounded-md p-4 mb-10",m.backgroundColor])},[(0,s.Lk)("div",r,[(0,s.Lk)("div",n,[((0,s.uX)(),(0,s.Wv)((0,s.$y)(m.icon),{class:(0,a.C4)(["h-5 w-5 text-green-400",m.textColor]),"aria-hidden":"true"},null,8,["class"]))]),(0,s.Lk)("div",o,[(0,s.Lk)("p",{class:(0,a.C4)(["text-sm font-medium",m.textColor]),textContent:(0,a.v_)(i.data.message)},null,10,l)]),(0,s.Lk)("div",c,[(0,s.Lk)("div",d,[(0,s.Lk)("button",{type:"button",class:(0,a.C4)(["inline-flex rounded-md p-1.5 focus:outline-none",m.textColor]),onClick:t[0]||(t[0]=(...e)=>m.close&&m.close(...e))},[h,(0,s.bF)(g,{class:"h-5 w-5","aria-hidden":"true"})],2)])])])],2)):(0,s.Q3)("",!0)}var p=i(39340),m=i(9600),g=i(7437),f=i(15781);const b={components:{CheckCircleIcon:p.A,XIcon:m.A},props:{data:{type:Object,required:!0}},data(){return{open:!0}},computed:{icon(){switch(this.data.type){case"success":return p.A;case"error":return g.A;case"warning":return f.A;default:return p.A}},textColor(){switch(this.data.type){case"success":return"text-green-800 dark:text-green-900";case"error":return"text-red-800 dark:text-red-900";case"warning":return"text-yellow-600 dark:text-yellow-700";default:return"text-green-800 dark:text-green-900"}},backgroundColor(){switch(this.data.type){case"success":return"bg-green-50 dark:bg-green-500";case"error":return"bg-red-50 dark:bg-red-500";case"warning":return"bg-yellow-100 dark:bg-yellow-300";default:return"bg-green-50 dark:bg-green-500"}}},methods:{close(){this.open=!1}}};var _=i(66262);const v=(0,_.A)(b,[["render",u]]),y=v},72687:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var s=i(20641);const a={class:"bg-gray-50 dark:bg-gray-700 dark:border-gray-800 overflow-hidden border sm:rounded-lg"},r={class:"px-4 py-5 sm:p-6"};function n(e,t){return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.Lk)("div",r,[(0,s.RG)(e.$slots,"default")])])}var o=i(66262);const l={},c=(0,o.A)(l,[["render",n]]),d=c},12360:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var s=i(20641);const a={ref:"chart",class:"rounded overflow-hidden border-2 border-gray-100 dark:border-gray-600"};function r(e,t,i,r,n,o){return(0,s.uX)(),(0,s.CE)("div",a,null,512)}var n=i(4521),o=i(87829),l=i(38839),c=i(2543),d=i.n(c);const h={name:"CandlesChart",components:{},props:{form:{type:Object,required:!0},results:{type:Object,required:!0},candles:{type:Array,required:!0}},data(){return{chart:null,candleSeries:null,lines:{orderEntries:{}},settings:{width:800,height:380,crosshair:{mode:n._q.Normal}},lightTheme:{chart:{layout:{backgroundColor:"#ffffff",textColor:"rgba(33, 56, 77, 1)"},grid:{vertLines:{color:"#f1f1f1",visible:!1},horzLines:{color:"#f1f1f1",visible:!1}},priceScale:{borderColor:"rgba(197, 203, 206, 0.6)"},timeScale:{borderColor:"rgba(197, 203, 206, 0.6)",timeVisible:!0,secondsVisible:!1}},series:{color:"#4f46e5"}},darkTheme:{chart:{layout:{backgroundColor:"#333333",textColor:"#D1D5DB"},grid:{vertLines:{color:"#525252",visible:!1},horzLines:{color:"#525252",visible:!1}},priceScale:{borderColor:"#525252"},timeScale:{borderColor:"#525252",timeVisible:!0,secondsVisible:!1}},series:{color:"#818CF8"}}}},computed:{currentCandles(){return this.results.currentCandles},...(0,l.Us)(o.s,["theme"]),positionEntry(){return this.results.positions[1][2].value},positionType(){return this.results.positions[1][1].value>0?"long":this.results.positions[1][1].value<0?"short":"close"},firstPosition(){return this.results.positions[1]}},watch:{currentCandles(e,t){const i=this.form.routes[0],s=`${i.exchange}-${i.symbol}-${i.timeframe}`;this.updateCurrentCandle(e[s])},theme(e){this.checkTheme(e)},positionEntry(e,t){e!==t&&this.updatePositionEntry()},"results.orders":{handler(e,t){this.updateOrderEntries()},deep:!0}},mounted(){this.settings.width=this.$refs.chart.clientWidth,this.chart=(0,n.R9)(this.$refs.chart,this.settings),this.candleSeries=this.chart.addCandlestickSeries(),this.candleSeries.setData(this.candles),this.chart.timeScale().fitContent(),"light"===this.theme?this.chart.applyOptions(this.lightTheme.chart):this.chart.applyOptions(this.darkTheme.chart),this.updatePositionEntry(),this.updateOrderEntries()},beforeUnmount(){this.chart=null,this.candleSeries=null},methods:{updatePositionEntry(){const e="long"===this.positionType?"#00AB5C":"#FF497D";if(this.lines.positionEntry&&this.candleSeries.removePriceLine(this.lines.positionEntry),this.positionEntry>0){const t={price:this.positionEntry,color:e,lineWidth:1.5,lineStyle:0,axisLabelVisible:!0,title:"Entry Price"};this.lines.positionEntry=this.candleSeries.createPriceLine(t)}},updateOrderEntries(){const e=this.firstPosition[0].value;for(const t in this.lines.orderEntries)this.candleSeries.removePriceLine(this.lines.orderEntries[t]),delete this.lines.orderEntries[t];this.results.orders.forEach((t=>{const i="buy"===t.side?"#00AB5C":"#FF497D",s=d().startCase(d().lowerCase(`${t.side} ${t.type}`));if(("ACTIVE"===t.status||"QUEUED"===t.status)&&t.symbol===e){const e={price:t.price,color:i,lineWidth:1,lineStyle:3,axisLabelVisible:!0,title:s};this.lines.orderEntries[t.id]=this.candleSeries.createPriceLine(e)}}))},updateCurrentCandle(e){if(void 0===e)throw new TypeError("candle is undefined!");if(0===this.candles.length)return;const t=this.results.candles[this.results.candles.length-1];t.time>e.time||this.candleSeries.update(e)},checkTheme(e){"light"===e?this.chart.applyOptions(this.lightTheme.chart):this.chart.applyOptions(this.darkTheme.chart)}}};var u=i(66262);const p=(0,u.A)(h,[["render",r]]),m=p},38163:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var s=i(20641);const a={ref:"chart",class:"rounded overflow-hidden border-2 border-gray-100 dark:border-gray-600"};function r(e,t,i,r,n,o){return(0,s.uX)(),(0,s.CE)("div",a,null,512)}var n=i(4521),o=i(87829),l=i(38839),c=i(62866);let d=null,h=null;const u={name:"EquityCurve",props:{equityCurve:{type:Array,required:!0,default:()=>[]}},data(){return{settings:{width:800,height:300,priceScale:{borderColor:"rgba(197, 203, 206, 1)"},timeScale:{borderColor:"rgba(197, 203, 206, 1)",timeVisible:!0,secondsVisible:!1}},lightTheme:{chart:{layout:{backgroundColor:"#ffffff",textColor:"rgba(33, 56, 77, 1)"},grid:{vertLines:{color:"#f1f1f1"},horzLines:{color:"#f1f1f1"}},priceScale:{borderColor:"rgba(197, 203, 206, 0.6)"},timeScale:{borderColor:"rgba(197, 203, 206, 0.6)",timeVisible:!0,secondsVisible:!1}},series:{color:"#4f46e5"}},darkTheme:{chart:{layout:{backgroundColor:"#333333",textColor:"#D1D5DB"},grid:{vertLines:{color:"#525252"},horzLines:{color:"#525252"}},priceScale:{borderColor:"#525252"},timeScale:{borderColor:"#525252",timeVisible:!0,secondsVisible:!1}},series:{color:"#818CF8"}}}},computed:{...(0,l.Us)(o.s,["theme"])},watch:{equityCurve(e){h.setData(e)},theme(e){this.checkTheme(e)}},mounted(){this.settings.width=this.$refs.chart.clientWidth,d=(0,n.R9)(this.$refs.chart,this.settings),h=d.addLineSeries({lineWidth:1.5}),d.timeScale().fitContent(),h.setData(this.equityCurve),"light"===c.A.currentTheme()?(d.applyOptions(this.lightTheme.chart),h.applyOptions(this.lightTheme.series)):(d.applyOptions(this.darkTheme.chart),h.applyOptions(this.darkTheme.series))},beforeUnmount(){d=null,h=null},methods:{checkTheme(e){"light"===e?(d.applyOptions(this.lightTheme.chart),h.applyOptions(this.lightTheme.series)):(d.applyOptions(this.darkTheme.chart),h.applyOptions(this.darkTheme.series))}}};var p=i(66262);const m=(0,p.A)(u,[["render",r]]),g=m},3526:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var s=i(20641),a=i(90033),r=i(53751);const n={class:"flex items-start select-none"},o={class:"h-5 flex items-center"},l=["id","name"],c={class:"ml-3 text-sm"},d=["for"],h={class:"text-gray-500 dark:text-gray-400"};function u(e,t,i,u,p,m){return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",o,[(0,s.bo)((0,s.Lk)("input",{id:i.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.object[i.name]=e),"data-test":"checkboxInput",type:"checkbox",name:i.name,class:(0,a.C4)([i.object[i.name]?"dark:border-gray-600":"dark:border-gray-500","focus:ring-0 h-4 w-4 text-indigo-600 dark:text-gray-600 dark:bg-gray-600 border-gray-300 focus:ring-offset-0 rounded cursor-pointer"])},null,10,l),[[r.lH,i.object[i.name]]])]),(0,s.Lk)("div",c,[(0,s.Lk)("label",{for:i.name,class:"font-medium text-gray-700 dark:text-gray-200 cursor-pointer"},(0,a.v_)(i.title),9,d),(0,s.Lk)("p",h,(0,a.v_)(i.description),1)])])}const p={name:"Checkbox",props:{description:{type:String,required:!1,default:""},title:{type:String,required:!0},object:{type:Object,required:!0},name:{type:String,required:!0}}};var m=i(66262);const g=(0,m.A)(p,[["render",u]]),f=g},82237:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var s=i(20641),a=i(90033);const r={class:"relative mb-4 select-none"},n=(0,s.Lk)("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[(0,s.Lk)("div",{class:"w-full border-t-2 border-dashed border-gray-300 dark:border-gray-600"})],-1),o={class:"relative flex justify-start"},l=["textContent"];function c(e,t,i,c,d,h){return(0,s.uX)(),(0,s.CE)("div",r,[n,(0,s.Lk)("div",o,[(0,s.Lk)("span",{class:(0,a.C4)(["pr-3 text-lg font-medium text-gray-900 dark:text-gray-100",h.backgroundClasses]),textContent:(0,a.v_)(i.title)},null,10,l)])])}const d={name:"Divider",props:{title:{type:String,required:!0},bgLight:{type:String,required:!1,default:"bg-white"},bgDark:{type:String,required:!1,default:"dark:bg-backdrop-dark"}},computed:{backgroundClasses(){return this.bgLight+" "+this.bgDark}}};var h=i(66262);const u=(0,h.A)(d,[["render",c]]),p=u},51988:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var s=i(20641),a=i(90033);const r={class:"relative mb-4 select-none"},n=(0,s.Lk)("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[(0,s.Lk)("div",{class:"w-full border-t-2 border-dashed border-gray-300 dark:border-gray-600"})],-1),o={class:"relative flex items-center justify-between"},l=["textContent"];function c(e,t,i,c,d,h){return(0,s.uX)(),(0,s.CE)("div",r,[n,(0,s.Lk)("div",o,[(0,s.Lk)("span",{class:"pr-3 bg-white dark:bg-backdrop-dark text-lg font-medium text-gray-900 dark:text-gray-200",textContent:(0,a.v_)(i.title)},null,8,l),(0,s.Lk)("span",null,[(0,s.RG)(e.$slots,"default")])])])}const d={name:"DividerWithButtons",props:{title:{type:String,required:!0}}};var h=i(66262);const u=(0,h.A)(d,[["render",c]]),p=u},12686:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var s=i(20641);const a={class:"text-center rounded border-2 border-dashed dark:border-gray-800 bg-gray-100 dark:bg-gray-700 py-4 opacity-40 dark:opacity-75 select-none"};function r(e,t){return(0,s.uX)(),(0,s.CE)("div",a," Empty ")}var n=i(66262);const o={},l=(0,n.A)(o,[["render",r]]),c=l},19941:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>q});var s=i(20641),a=i(90033),r=i(53751);const n={key:0,class:"mb-4"},o=(0,s.Lk)("p",null," If the exception you're seeing is not clear and you think it might be a bug, please send us a report to help us debugging and fixing it in a future release. ",-1),l=(0,s.Lk)("br",null,null,-1),c=(0,s.Lk)("label",{class:"font-semibold"},"Exception:",-1),d=["innerHTML"],h=(0,s.Lk)("br",null,null,-1),u=(0,s.Lk)("br",null,null,-1),p={key:1},m=(0,s.Lk)("br",null,null,-1),g=(0,s.Lk)("br",null,null,-1),f={class:"flex justify-end item-center"},b=["disabled"],_=(0,s.Lk)("span",null,"Report",-1),v={class:"rounded-md bg-red-50 p-4 my-4 select-text"},y={class:"flex"},x={class:"flex-shrink-0"},w={class:"ml-3 overflow-hidden"},k=["textContent"],C=["innerHTML"],S=["value"];function T(e,t,i,T,A,M){const L=(0,s.g2)("Alert"),R=(0,s.g2)("FormTextarea"),E=(0,s.g2)("FormInput"),I=(0,s.g2)("ToggleButton"),P=(0,s.g2)("SlideOver"),F=(0,s.g2)("FlagIcon"),D=(0,s.g2)("CheckIcon"),B=(0,s.g2)("ClipboardIcon"),z=(0,s.g2)("DividerWithButtons"),V=(0,s.g2)("XCircleIcon");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(P,{name:"exceptionReport",object:e.modals,title:"Report"},{default:(0,s.k6)((()=>[M.alert.message?((0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(L,{data:M.alert},null,8,["data"])])):(0,s.Q3)("",!0),o,l,c,(0,s.Lk)("pre",{class:"break-all lg:break-normal mt-2 text-sm whitespace-pre-line px-6 py-6 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 dark:border-gray-800 border border-gray-200",innerHTML:i.content},null,8,d),h,(0,s.bF)(R,{title:"Description (optional):",placeholder:"Describe how the exception occurred...",name:"description",object:A.form,rows:10},null,8,["object"]),u,e.hasLivePluginInstalled?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",p,[(0,s.bF)(E,{title:"Email (must be registered with on Jesse.Trade)",description:"Enter your email address for us to know who sent the feedback and possibly reply back to you. It must be the email address of your account on Jesse.Trade","input-type":"email",placeholder:"Email address...",name:"email",object:A.form},null,8,["object"]),m])),M.showLogToggle?((0,s.uX)(),(0,s.Wv)(I,{key:2,object:A.form,name:"attachLogs",title:"Attach Debugging Logs",description:"Attach the log file of this session along with this report which helps Jesse's team"},null,8,["object"])):(0,s.Q3)("",!0),g,(0,s.Lk)("div",f,[(0,s.Lk)("button",{class:"btn-link text-indigo-600 dark:text-indigo-400 mr-4",onClick:t[0]||(t[0]=t=>e.modals.exceptionReport=!1)},"Cancel"),(0,s.Lk)("button",{disabled:!A.form.email.length&&!e.hasLivePluginInstalled,class:"btn-primary",onClick:t[1]||(t[1]=(...e)=>M.report&&M.report(...e))}," Submit ",8,b)])])),_:1},8,["object"]),(0,s.bF)(z,{title:"Exception"},{default:(0,s.k6)((()=>[(0,s.Lk)("button",{type:"button",class:"inline-flex items-center shadow-sm px-4 py-1.5 border border-gray-300 dark:border-gray-600 text-sm leading-5 font-medium rounded-l-full text-gray-700 dark:text-gray-100 bg-white dark:bg-backdrop-dark hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none",onClick:t[2]||(t[2]=(...e)=>M.openReport&&M.openReport(...e))},[(0,s.bF)(F,{class:"-ml-1.5 mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"}),_]),(0,s.Lk)("button",{type:"button",class:"inline-flex items-center shadow-sm px-4 py-1.5 border border-gray-300 dark:border-gray-600 text-sm leading-5 font-medium rounded-r-full text-gray-700 dark:text-gray-100 bg-white dark:bg-backdrop-dark hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none",onClick:t[3]||(t[3]=(...e)=>M.copy&&M.copy(...e))},[A.copied?((0,s.uX)(),(0,s.Wv)(D,{key:0,class:"-ml-1.5 mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})):((0,s.uX)(),(0,s.Wv)(B,{key:1,class:"-ml-1.5 mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})),(0,s.Lk)("span",null,(0,a.v_)(A.copied?"Copied":"Copy"),1)])])),_:1}),(0,s.Lk)("div",v,[(0,s.Lk)("div",y,[(0,s.Lk)("div",x,[(0,s.bF)(V,{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),(0,s.Lk)("div",w,[(0,s.Lk)("h3",{class:"text-base font-medium text-red-800 mb-6",textContent:(0,a.v_)(i.title)},null,8,k),i.content?((0,s.uX)(),(0,s.CE)("pre",{key:0,class:"mt-2 text-sm text-red-700 whitespace-pre-line px-6 py-6 rounded-md border-2 border-dashed border-red-200",innerHTML:i.content},null,8,C)):(0,s.Q3)("",!0)])]),(0,s.bo)((0,s.Lk)("textarea",{id:"exception-info",value:i.content,class:"fixed left-0 bottom-0 opacity-0"},null,8,S),[[r.aG,A.showException]])])],64)}var A=i(92881),M=i(70075),L=i(37417),R=i(41448),E=i(51988),I=i(31652),P=i(38839),F=i(87829),D=i(72505),B=i.n(D),z=i(96685);const V={name:"Exception",components:{DividerWithButtons:E["default"],FlagIcon:A.A,ClipboardIcon:M.A,XCircleIcon:R.A,SlideOver:I["default"],CheckIcon:L.A},props:{title:{type:String,required:!0},content:{type:String,default:""},mode:{type:String,required:!0},debugMode:{type:Boolean,default:!1},sessionId:{type:String,required:!1,default:null}},data(){return{showException:"",copied:!1,form:{description:"",attachLogs:!0,email:""}}},computed:{...(0,P.aH)(F.s,["modals","hasLivePluginInstalled"]),alert(){return"backtest"!==this.mode||this.debugMode?{message:"",type:""}:{message:'It is highly recommended to attach log files with reports. To do that, press cancel, enable "Debug Mode", and  run again. ',type:"warning"}},showLogToggle(){return"backtest"===this.mode&&this.debugMode||"live"===this.mode}},methods:{report(){B().post("/report-exception",{description:this.form.description,email:this.form.email,traceback:this.content,mode:this.mode,attach_logs:this.form.attachLogs,session_id:this.sessionId}).then((e=>{"success"===e.data.status?(this.form.description="",this.form.email="",z.A.success(e.data.message),this.modals.exceptionReport=!1):"error"===e.data.status&&z.A.error(e.data.message)})).catch((e=>{z.A.error(`[${e.response.status}]: ${e.response.statusText}`)}))},copy(){this.showException=!0,setTimeout((()=>{const e=document.querySelector("#exception-info");e.setAttribute("type","text"),e.select(),document.execCommand("copy"),this.copied=!0,e.setAttribute("type","hidden"),window.getSelection().removeAllRanges(),this.showException=!1}),10),setTimeout((()=>{this.copied=!1}),3e3)},openReport(){this.modals.exceptionReport=!0}}};var O=i(66262);const W=(0,O.A)(V,[["render",T]]),q=W},40996:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var s=i(20641);const a={class:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-100 opacity-75 flex flex-col items-center justify-center"},r=(0,s.Lk)("h2",{class:"text-center text-gray-900 text-xl font-semibold mb-8"},"Loading...",-1),n=(0,s.Lk)("p",{class:"w-1/3 text-center text-gray-900"},"This may take a few seconds, please wait",-1),o=[r,n];function l(e,t){return(0,s.uX)(),(0,s.CE)("div",a,o)}var c=i(66262);const d={},h=(0,c.A)(d,[["render",l]]),u=h},85484:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(20641),a=i(90033);const r=e=>((0,s.Qi)("data-v-40ffd2eb"),e=e(),(0,s.jt)(),e),n=r((()=>(0,s.Lk)("div",{class:"left-half-clipper"},[(0,s.Lk)("div",{class:"first50-bar"}),(0,s.Lk)("div",{class:"value-bar"})],-1)));function o(e,t,i,r,o,l){return(0,s.uX)(),(0,s.CE)("div",{class:(0,a.C4)(l.classes)},[(0,s.Lk)("span",null,(0,a.v_)(i.progress)+"%",1),n],2)}const l={name:"CircleProgressbar",props:{progress:{type:Number,required:!0}},computed:{classes(){let e="progress-circle";return this.progress>50&&(e+=" over50"),e+=` p${Math.round(this.progress)}`,e}}};var c=i(66262);const d=(0,c.A)(l,[["render",o],["__scopeId","data-v-40ffd2eb"]]),h=d},96159:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var s=i(20641);const a=["id","name"];function r(e,t,i,r,n,o){return(0,s.uX)(),(0,s.CE)("input",{id:i.name,type:"date",name:i.name,class:"focus:ring-indigo-500 focus:border-indigo-500 flex justify-center items-center w-48 text-center sm:text-sm border-gray-300 rounded-md"},null,8,a)}const n={name:"DatePicker",props:{name:{type:String,required:!0}}};var o=i(66262);const l=(0,o.A)(n,[["render",r]]),c=l},40849:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var s=i(20641),a=i(90033),r=i(53751);const n={class:"col-span-6 sm:col-span-3"},o={class:"input-label"},l=["name","autocomplete","placeholder","step","min"],c=["name","type","autocomplete","placeholder"],d={key:2,class:"mt-2 text-sm text-gray-500"};function h(e,t,i,h,u,p){return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("label",o,(0,a.v_)(i.title),1),"number"===i.inputType?(0,s.bo)(((0,s.uX)(),(0,s.CE)("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=e=>i.object[i.name]=e),name:i.name,type:"number",autocomplete:i.name,placeholder:i.placeholder,step:i.step,min:i.min,class:"mt-1 input"},null,8,l)),[[r.Jo,i.object[i.name]]]):(0,s.bo)(((0,s.uX)(),(0,s.CE)("input",{key:1,"onUpdate:modelValue":t[1]||(t[1]=e=>i.object[i.name]=e),name:i.name,type:i.inputType,autocomplete:i.name,placeholder:i.placeholder,class:"mt-1 input"},null,8,c)),[[r.hp,i.object[i.name]]]),i.description?((0,s.uX)(),(0,s.CE)("p",d,(0,a.v_)(i.description),1)):(0,s.Q3)("",!0)])}const u={name:"FormInput",props:{title:{type:String,required:!0},object:{type:Object,required:!0},name:{type:String,required:!0},inputType:{type:String,default:"text"},description:{type:String,default:""},placeholder:{type:String,default:""},step:{type:Number,default:1},min:{type:Number,default:0}}};var p=i(66262);const m=(0,p.A)(u,[["render",h]]),g=m},63356:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var s=i(20641),a=i(90033),r=i(53751);const n={class:"col-span-6 sm:col-span-3"},o={key:0,class:"input-label"},l=["id","name","rows","placeholder"],c={key:1,class:"mt-2 text-sm text-gray-500"};function d(e,t,i,d,h,u){return(0,s.uX)(),(0,s.CE)("div",n,[i.title?((0,s.uX)(),(0,s.CE)("label",o,(0,a.v_)(i.title),1)):(0,s.Q3)("",!0),(0,s.bo)((0,s.Lk)("textarea",{id:i.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.object[i.name]=e),name:i.name,rows:i.rows,class:"mt-1 input",placeholder:i.placeholder},null,8,l),[[r.Jo,i.object[i.name]]]),i.description?((0,s.uX)(),(0,s.CE)("p",c,(0,a.v_)(i.description),1)):(0,s.Q3)("",!0)])}const h={name:"FormTextarea",props:{title:{type:String,required:!1,default:""},object:{type:Object,required:!0},name:{type:String,required:!0},description:{type:String,default:""},placeholder:{type:String,default:""},rows:{type:Number,required:!1,default:8}}};var u=i(66262);const p=(0,u.A)(h,[["render",d]]),m=p},9005:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(20641),a=i(53751);const r={class:"inline-block relative"};function n(e,t,i,n,o,l){const c=(0,s.g2)("Spinner");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.RG)(e.$slots,"default",{setLoaded:l.setLoaded}),(0,s.bo)((0,s.bF)(c,{class:"absolute inset-0 h-full w-full bg-gray-300 dark:bg-gray-500"},null,512),[[a.aG,!o.isLoaded]])])}var o=i(71046);const l={name:"ImageLoader",components:{Spinner:o["default"]},data(){return{isLoaded:!1}},computed:{},mounted(){},methods:{setLoaded(){this.isLoaded=!0}}};var c=i(66262);const d=(0,c.A)(l,[["render",n]]),h=d},72064:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var s=i(20641),a=i(90033),r=i(53751);const n={class:"flex items-center justify-between"},o={class:"font-semibold font-medium text-gray-700 dark:text-gray-200"},l={class:"flex"},c=["name"];function d(e,t,i,d,h,u){return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",o,(0,a.v_)(i.title),1),(0,s.Lk)("div",l,[(0,s.Lk)("button",{class:"select-none border py-2 px-4 cursor-pointer bg-gray-100 hover:bg-gray-50 dark:bg-black dark:hover:bg-gray-900 dark:border-gray-900 rounded-l",onClick:t[0]||(t[0]=(...e)=>u.decrease&&u.decrease(...e))}," - "),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.object[i.name]=e),class:"border border-gray-200 p-2 text-center focus:outline-none focus:ring-0 dark:bg-gray-800 dark:border-gray-900",type:"text",name:i.name},null,8,c),[[r.Jo,i.object[i.name]]]),(0,s.Lk)("button",{class:"select-none border py-2 px-4 cursor-pointer bg-gray-100 hover:bg-gray-50 dark:bg-black dark:hover:bg-gray-900 dark:border-gray-900 rounded-r",onClick:t[2]||(t[2]=(...e)=>u.increase&&u.increase(...e))}," + ")])])}const h={props:{title:{type:String,required:!0},object:{type:Object,required:!0},name:{type:String,required:!0},default:{type:Number,default:1}},created(){this.setDefault()},methods:{setDefault(){this.object[this.name]||(this.object[this.name]=this.default)},increase(){this.object[this.name]++},decrease(){this.object[this.name]>1&&this.object[this.name]--}}};var u=i(66262);const p=(0,u.A)(h,[["render",d]]),m=p},31652:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var s=i(20641),a=i(90033);const r={class:"absolute inset-0 overflow-hidden"},n={class:"fixed inset-y-0 right-0 pl-10 max-w-full flex"},o={class:"h-full flex flex-col py-6 bg-white dark:bg-backdrop-dark shadow-xl overflow-y-scroll"},l={class:"px-4 sm:px-6 border-b-2 dark:border-gray-800 pb-6"},c={class:"flex items-start justify-between"},d={class:"ml-3 h-7 flex items-center"},h={class:"mt-6 relative flex-1 px-4 sm:px-6"},u=(0,s.Lk)("div",{class:"absolute inset-0 px-4 sm:px-6"},[(0,s.Lk)("div",{class:"h-full border-2 border-dashed border-gray-200","aria-hidden":"true"})],-1);function p(e,t,i,p,m,g){const f=(0,s.g2)("DialogOverlay"),b=(0,s.g2)("TransitionChild"),_=(0,s.g2)("DialogTitle"),v=(0,s.g2)("XIcon"),y=(0,s.g2)("Dialog"),x=(0,s.g2)("TransitionRoot");return(0,s.uX)(),(0,s.Wv)(x,{as:"template",show:i.object[i.name]},{default:(0,s.k6)((()=>[(0,s.bF)(y,{as:"div",static:"",class:"fixed inset-0 overflow-hidden z-40",open:i.object[i.name],onClose:t[1]||(t[1]=e=>i.object[i.name]=!1)},{default:(0,s.k6)((()=>[(0,s.Lk)("div",r,[(0,s.bF)(b,{as:"template",enter:"ease-in-out duration-400","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in-out duration-400","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,s.k6)((()=>[(0,s.bF)(f,{class:"absolute inset-0 bg-gray-500 bg-opacity-95 transition-opacity"})])),_:1}),(0,s.Lk)("div",n,[(0,s.bF)(b,{as:"template",enter:"transform transition ease-in-out duration-400 sm:duration-400","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-400 sm:duration-400","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",{class:(0,a.C4)(["w-screen",i.width])},[(0,s.Lk)("div",o,[(0,s.Lk)("div",l,[(0,s.Lk)("div",c,[(0,s.bF)(_,{"data-cy":"slideover-title",class:"text-lg font-medium text-gray-900 dark:text-gray-100 select-none",textContent:(0,a.v_)(i.title)},null,8,["textContent"]),(0,s.Lk)("div",d,[(0,s.RG)(e.$slots,"buttons"),(0,s.Lk)("button",{id:"slideover-close-button",class:"btn-nav",onClick:t[0]||(t[0]=e=>i.object[i.name]=!1)},[(0,s.bF)(v,{class:"h-6 w-6","aria-hidden":"true"})])])])]),(0,s.Lk)("div",h,[(0,s.RG)(e.$slots,"default",{},(()=>[u]))])])],2)])),_:3})])])])),_:3},8,["open"])])),_:3},8,["show"])}var m=i(60149),g=i(94232),f=i(88353);const b={components:{Dialog:m.lG,DialogOverlay:m.LC,DialogTitle:m.L3,TransitionChild:g._,TransitionRoot:g.O,XIcon:f.A},props:{title:{type:String,required:!1,default:""},object:{type:Object,required:!0},name:{type:String,required:!0},width:{type:String,default:"max-w-4xl"}}};var _=i(66262);const v=(0,_.A)(b,[["render",p]]),y=v},71046:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var s=i(20641);const a={class:"spinner"};function r(e,t,i,r,n,o){return(0,s.uX)(),(0,s.CE)("div",a)}const n={name:"Spinner",components:{},data(){return{}},computed:{},mounted(){},methods:{}};var o=i(66262);const l=(0,o.A)(n,[["render",r]]),c=l},26864:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var s=i(20641);const a={class:"text-2xl mb-4"};function r(e,t){return(0,s.uX)(),(0,s.CE)("h3",a,[(0,s.RG)(e.$slots,"default")])}var n=i(66262);const o={},l=(0,n.A)(o,[["render",r]]),c=l},91098:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var s=i(20641),a=i(90033);const r={class:"flex flex-col"},n={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},o={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},l={class:"border dark:border-gray-600 overflow-hidden sm:rounded"},c={class:"min-w-full divide-y divide-gray-200"},d={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-500 dark:text-gray-400"},h={class:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900 dark:text-gray-200"};function u(e,t,i,u,p,m){return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",n,[(0,s.Lk)("div",o,[(0,s.Lk)("div",l,[(0,s.Lk)("table",c,[(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.data,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t,class:(0,a.C4)(t%2===0?"bg-white dark:bg-gray-700":"bg-gray-50 dark:bg-backdrop-dark")},[(0,s.Lk)("td",d,(0,a.v_)(e[0]),1),(0,s.Lk)("td",h,(0,a.v_)(e[1]),1)],2)))),128))])])])])])])}const p={name:"KeyValueTable",props:{data:{type:Array,required:!0}}};var m=i(66262);const g=(0,m.A)(p,[["render",u]]),f=g},26122:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var s=i(20641),a=i(90033);const r={class:"grid grid-cols-1 gap-6 border dark:border-gray-600 rounded py-4 px-6"},n={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},o={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"};function l(e,t,i,l,c,d){return(0,s.uX)(),(0,s.CE)("dl",r,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.data,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.key,class:"flex justify-between items-center"},[(0,s.Lk)("div",n,(0,a.v_)(e[0]),1),(0,s.Lk)("div",o,(0,a.v_)(e[1]),1)])))),128))])}const c={name:"KeyValueTable",props:{data:{type:Array,required:!0}}};var d=i(66262);const h=(0,d.A)(c,[["render",l]]),u=h},80983:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var s=i(20641);const a={key:0,class:"animate-spin -ml-1 mr-3 h-3.5 w-3.5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r=(0,s.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),n=(0,s.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),o=[r,n];function l(e,t,i,r,n,l){return i.object[i.name]?((0,s.uX)(),(0,s.CE)("svg",a,o)):(0,s.Q3)("",!0)}const c={name:"LoadingSvg",props:{object:{type:Object,required:!0},name:{type:String,required:!0}}};var d=i(66262);const h=(0,d.A)(c,[["render",l]]),u=h},77207:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(20641);const a=["innerHTML"];function r(e,t,i,r,n,o){const l=(0,s.g2)("EmptyBox");return i.logs.length?((0,s.uX)(),(0,s.CE)("pre",{key:0,class:"whitespace-pre-line rounded border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 select-text text-base dark:text-gray-300 w-full px-4 sm:px-6 py-2",innerHTML:i.logs},null,8,a)):((0,s.uX)(),(0,s.Wv)(l,{key:1}))}var n=i(62866),o=i(12686);const l={name:"Logs",components:{EmptyBox:o["default"]},props:{logs:{type:String,required:!0}},setup(){return{timestampToTime:n.A.timestampToTime}}};var c=i(66262);const d=(0,c.A)(l,[["render",r]]),h=d},92340:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var s=i(20641),a=i(90033);const r=e=>((0,s.Qi)("data-v-1e980c1e"),e=e(),(0,s.jt)(),e),n={key:0,class:"modal-overlay"},o={class:"modal bg-white dark:bg-gray-800 rounded-lg shadow-xl"},l={class:"modal-header"},c=r((()=>(0,s.Lk)("div",{class:"modal-title-spacer"},null,-1))),d={class:"modal-title text-red-600 dark:text-red-400 font-semibold"},h={class:"modal-body"},u={class:"text-gray-500 dark:text-gray-300"},p={class:"modal-actions"};function m(e,t,i,r,m,g){return i.isVisible?((0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",o,[(0,s.Lk)("div",l,[c,(0,s.Lk)("h3",d,(0,a.v_)(i.title),1),(0,s.Lk)("button",{class:"close-button",onClick:t[0]||(t[0]=(...e)=>g.closeModal&&g.closeModal(...e))},"x")]),(0,s.Lk)("div",h,[(0,s.Lk)("p",u,(0,a.v_)(i.description),1)]),(0,s.Lk)("div",p,[(0,s.Lk)("button",{class:"bg-red-600 text-white rounded px-4 py-2 hover:bg-red-700",onClick:t[1]||(t[1]=(...e)=>g.confirmAction&&g.confirmAction(...e))},"Confirm"),(0,s.Lk)("button",{class:"bg-gray-300 text-gray-700 rounded px-4 py-2 hover:bg-gray-400",onClick:t[2]||(t[2]=(...e)=>g.closeModal&&g.closeModal(...e))},"Cancel")])])])):(0,s.Q3)("",!0)}const g={name:"ButtonConfirmModal",props:{isVisible:{type:Boolean,default:!1},title:{type:String,default:"Confirm Action"},description:{type:String,default:"Are you sure you want to proceed?"},onConfirm:{type:Function,default:()=>{}}},emits:["update:isVisible"],methods:{closeModal(){this.$emit("update:isVisible",!1)},confirmAction(){this.onConfirm&&this.onConfirm(),this.closeModal()}}};var f=i(66262);const b=(0,f.A)(g,[["render",m],["__scopeId","data-v-1e980c1e"]]),_=b},30191:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>L});var s=i(20641),a=i(90033);const r={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0 select-none"},n=(0,s.Lk)("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"",-1),o={class:"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},l={class:"w-full flex justify-between items-center"},c={class:"flex items-center"},d={key:0,class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10"},h={key:1,class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10"},u={key:2,class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10"},p={key:3,class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full sm:mx-0 sm:h-10 sm:w-10"},m={class:"mt-3 sm:mt-0 sm:ml-4 text-left"},g={key:0,class:"my-4 ml-8"},f={class:"text-sm text-gray-500 dark:text-gray-300"},b={class:"mt-5 sm:mt-4 flex justify-end"};function _(e,t,i,_,v,y){const x=(0,s.g2)("DialogOverlay"),w=(0,s.g2)("TransitionChild"),k=(0,s.g2)("InformationCircleIcon"),C=(0,s.g2)("BanIcon"),S=(0,s.g2)("CheckIcon"),T=(0,s.g2)("ExclamationIcon"),A=(0,s.g2)("DialogTitle"),M=(0,s.g2)("XIcon"),L=(0,s.g2)("Dialog"),R=(0,s.g2)("TransitionRoot");return(0,s.uX)(),(0,s.Wv)(R,{as:"template",show:i.object[i.name]},{default:(0,s.k6)((()=>[(0,s.bF)(L,{as:"div",static:"",class:"fixed z-10 inset-0 overflow-y-auto",open:i.object[i.name],onClose:t[2]||(t[2]=e=>i.object[i.name]=!1)},{default:(0,s.k6)((()=>[(0,s.Lk)("div",r,[(0,s.bF)(w,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,s.k6)((()=>[(0,s.bF)(x,{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})])),_:1}),n,(0,s.bF)(w,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",o,[(0,s.Lk)("div",l,[(0,s.Lk)("div",c,["info"===i.type?((0,s.uX)(),(0,s.CE)("div",d,[(0,s.bF)(k,{"check-icon":"",class:(0,a.C4)([y.colors.text,"h-7 w-7"]),"aria-hidden":"true"},null,8,["class"])])):"danger"===i.type?((0,s.uX)(),(0,s.CE)("div",h,[(0,s.bF)(C,{"check-icon":"",class:(0,a.C4)([y.colors.text,"h-7 w-7"]),"aria-hidden":"true"},null,8,["class"])])):"success"===i.type?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.bF)(S,{class:(0,a.C4)([y.colors.text,"h-7 w-7"]),"aria-hidden":"true"},null,8,["class"])])):((0,s.uX)(),(0,s.CE)("div",p,[(0,s.bF)(T,{class:(0,a.C4)([y.colors.text,"h-7 w-7"]),"check-icon":"","aria-hidden":"true"},null,8,["class"])])),(0,s.bF)(A,{as:"h3",class:(0,a.C4)([y.colors.text,"font-semibold ml-2"])},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(i.title),1)])),_:1},8,["class"])]),(0,s.Lk)("button",{class:"btn-nav",onClick:t[0]||(t[0]=e=>i.object[i.name]=!1)},[(0,s.bF)(M,{class:"h-5 w-5 text-gray-400 rounded-full"})])]),(0,s.Lk)("div",{class:(0,a.C4)([i.description?"":"items-center","flex items-start justify-start"])},[(0,s.Lk)("div",m,[i.description?((0,s.uX)(),(0,s.CE)("div",g,[(0,s.Lk)("p",f,(0,a.v_)(i.description),1)])):(0,s.Q3)("",!0)])],2),(0,s.Lk)("div",b,[(0,s.Lk)("button",{ref:"cancelButtonRef",type:"button",class:"font-medium select-none items-center text-gray-700 dark:text-gray-300 hover:underline focus:outline-none text-base tracking-wide mr-4",onClick:t[1]||(t[1]=e=>i.object[i.name]=!1)},(0,a.v_)("danger"===i.type?"Cancel":"Close"),513),(0,s.RG)(e.$slots,"default")])])])),_:3})])])),_:3},8,["open"])])),_:3},8,["show"])}i(74423);var v=i(60149),y=i(94232),x=i(12808),w=i(37417),k=i(63184),C=i(88353),S=i(22611);const T={name:"ConfirmModal",components:{Dialog:v.lG,DialogOverlay:v.LC,DialogTitle:v.L3,TransitionChild:y._,TransitionRoot:y.O,ExclamationIcon:x.A,CheckIcon:w.A,BanIcon:k.A,XIcon:C.A,InformationCircleIcon:S.A},props:{object:{type:Object,required:!0},name:{type:String,required:!0},title:{type:String,required:!0},description:{type:String,required:!1,default:""},type:{type:String,required:!0,validator(e){return["success","danger","info","warning"].includes(e)}}},computed:{colors(){const e={};switch(this.type){case"info":return e.text="text-gray-600 dark:text-gray-200",e;case"warning":return e.text="text-yellow-600 dark:text-yellow-400",e;case"success":return e.text="text-green-400 dark:text-green-600",e;case"danger":return e.text="text-red-600 dark:text-red-400",e}return e}}};var A=i(66262);const M=(0,A.A)(T,[["render",_]]),L=M},1199:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g});var s=i(20641);const a={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},r=(0,s.Lk)("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"",-1),n={class:"inline-block align-bottom bg-white dark:bg-gray-700 rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},o={class:"w-full flex justify-between items-center"},l={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"};function c(e,t,i,c,d,h){const u=(0,s.g2)("DialogOverlay"),p=(0,s.g2)("TransitionChild"),m=(0,s.g2)("Dialog"),g=(0,s.g2)("TransitionRoot");return(0,s.uX)(),(0,s.Wv)(g,{as:"template",show:i.object[i.name]},{default:(0,s.k6)((()=>[(0,s.bF)(m,{as:"div",static:"",class:"fixed z-10 inset-0 overflow-y-auto",open:i.object[i.name],onClose:t[0]||(t[0]=e=>i.object[i.name]=!1)},{default:(0,s.k6)((()=>[(0,s.Lk)("div",a,[(0,s.bF)(p,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,s.k6)((()=>[(0,s.bF)(u,{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})])),_:1}),r,(0,s.bF)(p,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",n,[(0,s.Lk)("div",o,[(0,s.RG)(e.$slots,"head")]),(0,s.RG)(e.$slots,"main"),(0,s.Lk)("div",l,[(0,s.RG)(e.$slots,"footer")])])])),_:3})])])),_:3},8,["open"])])),_:3},8,["show"])}var d=i(60149),h=i(94232);const u={name:"CustomModal",components:{Dialog:d.lG,DialogOverlay:d.LC,TransitionChild:h._,TransitionRoot:h.O},props:{object:{type:Object,required:!0},name:{type:String,required:!0}}};var p=i(66262);const m=(0,p.A)(u,[["render",c]]),g=m},29479:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var s=i(20641),a=i(90033);const r={class:"modal-content"},n={class:"modal-header"},o={key:0},l={class:"subtle-bold"},c={key:1};function d(e,t,i,d,h,u){return i.isVisible?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal",style:(0,a.Tr)(e.style)},[(0,s.Lk)("div",r,[(0,s.Lk)("div",n,[(0,s.Lk)("span",{class:"close",onClick:t[0]||(t[0]=(...e)=>u.closeModal&&u.closeModal(...e))},""),u.isObject(i.content)?((0,s.uX)(),(0,s.CE)("div",o,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.content,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t},[(0,s.Lk)("span",l,(0,a.v_)(t)+":",1),(0,s.eW)(" "+(0,a.v_)(e),1)])))),128))])):((0,s.uX)(),(0,s.CE)("p",c,(0,a.v_)(i.content),1))])])],4)):(0,s.Q3)("",!0)}const h={name:"HyperparametersModal",props:{isVisible:{type:Boolean,default:!1},content:{type:[String,Object],default:""}},methods:{closeModal(){this.$emit("close")},isObject(e){return e&&"object"===typeof e&&!Array.isArray(e)}}};var u=i(66262);const p=(0,u.A)(h,[["render",d],["__scopeId","data-v-5bb4933a"]]),m=p},93604:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(20641),a=i(90033);function r(e,t,i,r,n,o){return(0,s.uX)(),(0,s.CE)("div",{class:"monaco-editor-vue3",style:(0,a.Tr)(e.style)},null,4)}i(74423);var n=i(50953),o=i(48620);const l=(0,s.pM)({name:"MonacoEditor",props:{diffEditor:{type:Boolean,default:!1},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},original:{type:String,default:""},value:{type:String,default:""},language:{type:String,default:"javascript"},theme:{type:String,default:"vs"},options:{type:Object,default(){return{}}}},emits:["editorWillMount","editorDidMount","change","update:value"],setup(e){const{width:t,height:i}=(0,n.QW)(e),a=(0,s.EW)((()=>{const e=t.value.toString().includes("%")?t.value:`${t.value}px`,s=i.value.toString().includes("%")?i.value:`${i.value}px`;return{width:e,height:s,"text-align":"left"}}));return{style:a}},watch:{options:{deep:!0,handler(e){this.editor.updateOptions(e)}},value(){this.value!==this._getValue()&&this._setValue(this.value)},original(){this._setOriginal()},language(){if(this.editor)if(this.diffEditor){const{original:e,modified:t}=this.editor.getModel();o.editor.setModelLanguage(e,this.language),o.editor.setModelLanguage(t,this.language)}else o.editor.setModelLanguage(this.editor.getModel(),this.language)},theme(){o.editor.setTheme(this.theme)}},mounted(){this.initMonaco()},beforeUnmount(){this.editor&&this.editor.dispose()},methods:{initMonaco(){this.$emit("editorWillMount",o);const{value:e,language:t,theme:i,options:s}=this;this.editor=o.editor[this.diffEditor?"createDiffEditor":"create"](this.$el,{value:e,language:t,theme:i,...s}),this.diffEditor&&this._setModel(this.value,this.original);const a=this._getEditor();a&&a.onDidChangeModelContent((e=>{const t=a.getValue();this.value!==t&&(this.$emit("change",t,e),this.$emit("update:value",t))})),this.$emit("editorDidMount",this.editor)},_setModel(e,t){const{language:i}=this,s=o.editor.createModel(t,i),a=o.editor.createModel(e,i);this.editor.setModel({original:s,modified:a})},_setValue(e){const t=this._getEditor();if(t)return t.setValue(e)},_getValue(){const e=this._getEditor();return e?e.getValue():""},_getEditor(){return this.editor?this.diffEditor?this.editor.modifiedEditor:this.editor:null},_setOriginal(){const{original:e}=this.editor.getModel();e.setValue(this.original)}}});var c=i(66262);const d=(0,c.A)(l,[["render",r]]),h=d},41890:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>L});var s=i(20641),a=i(90033),r=i(53751);const n={class:"flex flex-col select-none"},o={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},l={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},c={class:"border dark:border-gray-600 overflow-hidden sm:rounded"},d={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-600"},h={key:0,class:"bg-gray-100 dark:bg-gray-800 select-none"},u={key:1},p=["textContent"],m=["textContent"],g=["textContent"],f=["onClick"],b={key:0,class:"clickable rounded border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 select-text text-sm dark:text-gray-300 w-full px-4 sm:px-6 py-2"},_={key:2},v=["textContent"],y=["textContent"],x=["textContent"],w={key:0,class:"text-center text-xs dark:bg-gray-700 py-4 opacity-30 dark:opacity-75 select-none"};function k(e,t,i,k,C,S){const T=(0,s.g2)("Tooltip"),A=(0,s.g2)("HyperparametersModal");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",n,[(0,s.Lk)("div",o,[(0,s.Lk)("div",l,[(0,s.Lk)("div",c,[(0,s.Lk)("table",d,[i.header?((0,s.uX)(),(0,s.CE)("thead",h,[(0,s.Lk)("tr",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(S.headerItems,(e=>((0,s.uX)(),(0,s.CE)("th",{key:e,scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400"},(0,a.v_)(e),1)))),128))])])):(0,s.Q3)("",!0),S.dataItems.length?((0,s.uX)(),(0,s.CE)("tbody",u,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(S.dataItems,((e,t)=>((0,s.uX)(),(0,s.CE)("tr",{key:t,class:(0,a.C4)(["text-gray-900 dark:text-gray-200",t%2===0?"bg-white dark:bg-backdrop-dark":"bg-gray-50 dark:bg-gray-700"])},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,((i,n)=>((0,s.uX)(),(0,s.CE)("td",{key:`item-${t}-${n}`,class:(0,a.C4)(["px-6 py-4 whitespace-nowrap text-sm font-medium",e[n].style])},[e[n].tooltip?((0,s.uX)(),(0,s.Wv)(T,{key:0,title:e[n].tooltip},{default:(0,s.k6)((()=>["code"===e[n].tag?((0,s.uX)(),(0,s.CE)("code",{key:0,class:"rounded border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 select-text text-sm dark:text-gray-300 w-full px-4 sm:px-6 py-2",textContent:(0,a.v_)(0===e[n].value?"":e[n].value)},null,8,p)):"pre"===e[n].tag?((0,s.uX)(),(0,s.CE)("pre",{key:1,class:"whitespace-pre-line rounded border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 select-text text-sm dark:text-gray-300 w-full px-4 sm:px-6 py-2",textContent:(0,a.v_)(0===e[n].value?"":e[n].value)},null,8,m)):((0,s.uX)(),(0,s.CE)("span",{key:2,textContent:(0,a.v_)(0===e[n].value?"":e[n].value)},null,8,g))])),_:2},1032,["title"])):(0,s.Q3)("",!0),i.modalTrigger?((0,s.uX)(),(0,s.CE)("span",{key:1,onClick:(0,r.D$)((e=>S.openModal(i.hyperparameters,e)),["stop"])},["code"===i.tag?((0,s.uX)(),(0,s.CE)("code",b,(0,a.v_)(i.value),1)):(0,s.Q3)("",!0)],8,f)):((0,s.uX)(),(0,s.CE)("span",_,["code"===e[n].tag?((0,s.uX)(),(0,s.CE)("code",{key:0,class:"rounded border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 select-text text-sm dark:text-gray-300 w-full px-4 sm:px-6 py-2",textContent:(0,a.v_)(0===e[n].value?"":e[n].value)},null,8,v)):"pre"===e[n].tag?((0,s.uX)(),(0,s.CE)("pre",{key:1,class:"whitespace-pre-line rounded border dark:border-gray-600 bg-gray-50 dark:bg-gray-700 select-text text-sm dark:text-gray-300 w-full px-4 sm:px-6 py-2",textContent:(0,a.v_)(0===e[n].value?"":e[n].value)},null,8,y)):((0,s.uX)(),(0,s.CE)("span",{key:2,textContent:(0,a.v_)(0===e[n].value?"":e[n].value)},null,8,x))]))],2)))),128))],2)))),128))])):(0,s.Q3)("",!0)]),S.dataItems.length?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",w," Empty List "))])])])]),(0,s.bF)(A,{style:(0,a.Tr)({top:C.modalPosition.top+"px",left:C.modalPosition.left+"px"}),"is-visible":C.isModalVisible,content:C.modalContent,onClose:t[0]||(t[0]=e=>C.isModalVisible=!1)},null,8,["style","is-visible","content"])],64)}var C=i(47949),S=i(29479);const T={name:"MultipleValuesTable",components:{Tooltip:C["default"],HyperparametersModal:S["default"]},props:{header:{type:Boolean,default:!1},data:{type:Array,required:!0}},data(){return{isModalVisible:!1,modalContent:"",modalPosition:{top:"0px",left:"0px"}}},computed:{headerItems(){return this.data[0]},dataItems(){return this.header?this.data.slice(1):this.data}},methods:{openModal(e,t){const i=t.target,s=i.getBoundingClientRect(),a=s.top+window.scrollY+s.height,r=s.left+window.scrollX;if(this.modalPosition={top:a,left:r},this.modalContent=e,this.isModalVisible=!0,"string"===typeof e)try{const t=JSON.parse(e),i=Object.entries(t).map((([e,t])=>({key:e,value:t})));this.modalContent=i}catch(n){console.error("Error parsing hyperparameters:",n),this.modalContent=[]}}}};var A=i(66262);const M=(0,A.A)(T,[["render",k]]),L=M},99073:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>at});var s=i(20641),a=i(90033),r=i(53751),n=i(77159),o=i(521);const l={class:"mx-auto px-4 lg:px-6 lg:px-8"},c={class:"flex items-center justify-between h-16"},d={class:"flex items-center"},h=(0,s.Lk)("div",{class:"flex-shrink-0"},[(0,s.Lk)("img",{class:"h-9 w-auto dark:hidden",src:n,alt:"Jesse Logo"}),(0,s.Lk)("img",{class:"hidden dark:block h-10 w-auto",src:o,alt:"Jesse Logo"})],-1),u={class:"hidden lg:block lg:ml-6"},p={class:"flex space-x-4"},m=["src","alt"],g={class:"hidden lg:ml-6 lg:block"},f={class:"flex items-center"},b=(0,s.Lk)("span",{class:"sr-only"},"Settings",-1),_=(0,s.Lk)("span",{class:"sr-only"},"Settings",-1),v={class:"px-4 py-3 select-text"},y={class:"text-sm text-gray-500 dark:text-gray-300"},x={class:"truncate text-sm font-medium text-gray-800 dark:text-gray-200 opacity-100 uppercase"},w={class:"py-1"},k={class:"py-1"},C={class:"-mr-2 flex lg:hidden"},S=(0,s.Lk)("span",{class:"sr-only"},"Open main menu",-1),T={class:"px-2 pt-2 pb-3 space-y-1"},A=["id"],M={class:"flex items-center w-full p-2"},L={class:"px-2 py-2 space-y-1 border-t border-gray-200 dark:border-gray-900"},R={key:0,href:"https://jesse.trade/pricing",target:"_blank",class:"flex justify-start items-center w-full text-left px-2 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-200 rounded-md"},E={class:"px-2 py-2 space-y-1 border-t border-gray-200 dark:border-gray-900"},I={class:"w-full"},P={href:"https://docs.jesse.trade/",class:"flex justify-start items-center w-full text-left px-2 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-200 rounded-md",target:"_blank"},F={class:"w-full"},D={href:"https://jesse.trade/strategies",class:"flex justify-start items-start w-full text-left px-2 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-200 rounded-md",target:"_blank"},B={class:"w-full"},z={href:"https://jesse.trade/help",class:"flex justify-start items-center w-full text-left px-2 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-200 rounded-md",target:"_blank"},V={class:"w-full"},O={class:"flex justify-between items-center px-2 py-2 space-y-1 border-t border-gray-200 dark:border-gray-900"},W=(0,s.Lk)("span",{class:"sr-only"},"Settings",-1);function q(e,t,i,n,o,q){const j=(0,s.g2)("UpdateBanner"),U=(0,s.g2)("Settings"),N=(0,s.g2)("SlideOver"),H=(0,s.g2)("Feedback"),X=(0,s.g2)("MakeStrategy"),$=(0,s.g2)("About"),Q=(0,s.g2)("router-link"),K=(0,s.g2)("ThemeSwitch"),G=(0,s.g2)("CogIcon"),J=(0,s.g2)("DotsVerticalIcon"),Y=(0,s.g2)("MenuButton"),Z=(0,s.g2)("SparklesIcon"),ee=(0,s.g2)("MenuItem"),te=(0,s.g2)("DocumentAddIcon"),ie=(0,s.g2)("ChatAltIcon"),se=(0,s.g2)("CollectionIcon"),ae=(0,s.g2)("DocumentTextIcon"),re=(0,s.g2)("QuestionMarkCircleIcon"),ne=(0,s.g2)("IdentificationIcon"),oe=(0,s.g2)("MenuItems"),le=(0,s.g2)("Menu"),ce=(0,s.g2)("MenuIcon"),de=(0,s.g2)("XIcon"),he=(0,s.g2)("DisclosureButton"),ue=(0,s.g2)("DisclosurePanel"),pe=(0,s.g2)("Disclosure");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(j),(0,s.bF)(N,{name:"settings",object:e.modals,title:"Settings"},{default:(0,s.k6)((()=>[(0,s.bF)(U)])),_:1},8,["object"]),(0,s.bF)(N,{object:e.modals,name:"feedback",title:"Feedback"},{default:(0,s.k6)((()=>[(0,s.bF)(H)])),_:1},8,["object"]),(0,s.bF)(N,{object:e.modals,name:"makeStrategy",title:"Make a new strategy",width:"max-w-lg"},{default:(0,s.k6)((()=>[(0,s.bF)(X)])),_:1},8,["object"]),(0,s.bF)(N,{object:e.modals,name:"about",title:"About",width:"max-w-lg"},{default:(0,s.k6)((()=>[(0,s.bF)($)])),_:1},8,["object"]),(0,s.bF)(pe,{as:"nav",class:"bg-gray-100 dark:bg-gray-800 border-b dark:border-gray-900 select-none"},{default:(0,s.k6)((({open:i})=>[(0,s.Lk)("div",l,[(0,s.Lk)("div",c,[(0,s.Lk)("div",d,[h,(0,s.Lk)("div",u,[(0,s.Lk)("div",p,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(q.navigation,(t=>((0,s.uX)(),(0,s.Wv)(Q,{id:q.convertToSlug(t.name)+"-page-button",key:t.name,to:t.to,class:(0,a.C4)(["flex items-center text-gray-700 dark:text-gray-300 px-3 py-2 rounded-md text-sm font-medium",e.$route.path.startsWith(t.to)&&"/"!==t.to||e.$route.path===t.to?"bg-gray-200 dark:bg-gray-900":"hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-200"])},{default:(0,s.k6)((()=>[t.icon?((0,s.uX)(),(0,s.Wv)((0,s.$y)(t.icon),{key:0,class:(0,a.C4)([e.$route.path.startsWith(t.to)&&"/"!==t.to||e.$route.path===t.to?"text-gray-700 dark:text-gray-300":"text-gray-400 group-hover:text-gray-500 dark:group-hover:text-gray-400","flex-shrink-0 -ml-1 mr-2 h-6 w-6"]),"aria-hidden":"true"},null,8,["class"])):t.image?((0,s.uX)(),(0,s.CE)("img",{key:1,src:t.image,alt:`${t.name} icon`,class:"flex-shrink-0 -ml-1 mr-2 h-6 w-6"},null,8,m)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,a.v_)(t.name),1)])),_:2},1032,["id","to","class"])))),128))])])]),(0,s.Lk)("div",g,[(0,s.Lk)("div",f,[(0,s.bF)(K),(0,s.Lk)("button",{"data-cy":"settings-icon",class:"btn-nav",onClick:t[0]||(t[0]=t=>e.modals.settings=!0)},[b,(0,s.bF)(G,{class:"h-6 w-6","aria-hidden":"true"})]),(0,s.bF)(le,{as:"div",class:"relative z-40"},{default:(0,s.k6)((()=>[(0,s.bF)(Y,{"data-cy":"nav-dropdown-menu-button",class:"btn-nav"},{default:(0,s.k6)((()=>[_,(0,s.bF)(J,{class:"h-6 w-6","aria-hidden":"true"})])),_:1}),(0,s.bF)(r.eB,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:(0,s.k6)((()=>[(0,s.bF)(oe,{"data-cy":"nav-dropdown-menu-items",class:"bg-white dark:bg-gray-700 origin-top-right absolute right-0 mt-2 w-64 rounded-md border-gray-200 dark:border-gray-900 shadow-lg py-1 ring-1 ring-black ring-opacity-5 focus:outline-none divide-y divide-gray-100 dark:divide-gray-900"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",v,[(0,s.Lk)("p",y,[(0,s.eW)("Active License: "),(0,s.Lk)("span",x,(0,a.v_)(e.planInfo.plan),1)])]),(0,s.Lk)("div",w,[q.shouldShowUpgradeButton?((0,s.uX)(),(0,s.Wv)(ee,{key:0},{default:(0,s.k6)((({active:e})=>[(0,s.Lk)("a",{href:"https://jesse.trade/pricing",class:(0,a.C4)([e?"bg-gray-100 dark:bg-gray-800":"","flex justify-start items-center w-full text-left px-4 py-2 text-sm text-yellow-500 dark:text-yellow-300"]),target:"_blank"},[(0,s.bF)(Z,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" Upgrade License ")],2)])),_:1})):(0,s.Q3)("",!0),(0,s.bF)(ee,null,{default:(0,s.k6)((({active:i})=>[(0,s.Lk)("button",{"data-cy":"nav-create-strategy",class:(0,a.C4)([i?"bg-gray-100 dark:bg-gray-800":"","flex justify-left items-center w-full text-left px-4 py-2 text-sm text-indigo-700 dark:text-indigo-300"]),onClick:t[1]||(t[1]=t=>e.modals.makeStrategy=!0)},[(0,s.bF)(te,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" New Strategy ")],2)])),_:1})]),(0,s.Lk)("div",k,[(0,s.bF)(ee,null,{default:(0,s.k6)((({active:e})=>[(0,s.Lk)("button",{"data-cy":"nav-create-strategy",class:(0,a.C4)([e?"bg-gray-100 dark:bg-gray-800":"","flex justify-left items-center w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300"]),onClick:t[2]||(t[2]=(...e)=>q.openFeedback&&q.openFeedback(...e))},[(0,s.bF)(ie,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" Feedback ")],2)])),_:1}),(0,s.bF)(ee,null,{default:(0,s.k6)((({active:e})=>[(0,s.Lk)("a",{"data-cy":"nav-documentation-link",href:"https://docs.jesse.trade/",class:(0,a.C4)([e?"bg-gray-100 dark:bg-gray-800":"","flex justify-start items-center w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300"]),target:"_blank"},[(0,s.bF)(se,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" Documentation ")],2)])),_:1}),(0,s.bF)(ee,null,{default:(0,s.k6)((({active:e})=>[(0,s.Lk)("a",{href:"https://jesse.trade/strategies","data-cy":"nav-strategies-link",class:(0,a.C4)([e?"bg-gray-100 dark:bg-gray-800":"","flex justify-start items-center w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300"]),target:"_blank"},[(0,s.bF)(ae,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" Sample Strategies ")],2)])),_:1}),(0,s.bF)(ee,null,{default:(0,s.k6)((({active:e})=>[(0,s.Lk)("a",{"data-cy":"nav-help-center-link",href:"https://jesse.trade/help",class:(0,a.C4)([e?"bg-gray-100 dark:bg-gray-800":"","flex justify-start items-center w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300"]),target:"_blank"},[(0,s.bF)(re,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" Help Center ")],2)])),_:1}),(0,s.bF)(ee,null,{default:(0,s.k6)((({active:i})=>[(0,s.Lk)("button",{"data-cy":"nav-help-center-link",href:"https://jesse.trade/help",class:(0,a.C4)([i?"bg-gray-100 dark:bg-gray-800":"","flex justify-start items-center w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300"]),target:"_blank",onClick:t[3]||(t[3]=t=>e.modals.about=!0)},[(0,s.bF)(ne,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" About ")],2)])),_:1})])])),_:1})])),_:1})])),_:1})])]),(0,s.Lk)("div",C,[(0,s.bF)(he,{class:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 dark:hover:bg-gray-600 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white dark:focus:ring-gray-800"},{default:(0,s.k6)((()=>[S,i?((0,s.uX)(),(0,s.Wv)(de,{key:1,class:"block h-6 w-6","aria-hidden":"true"})):((0,s.uX)(),(0,s.Wv)(ce,{key:0,class:"block h-6 w-6","aria-hidden":"true"}))])),_:2},1024)])])]),(0,s.bF)(ue,{class:"lg:hidden"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",T,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(q.navigation,(t=>((0,s.uX)(),(0,s.CE)("div",{id:q.convertToSlug(t.name)+"-page-button",key:t.name,class:(0,a.C4)([e.$route.path.startsWith(t.to)?"bg-gray-200 dark:bg-gray-900":"hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-200","rounded-md"])},[(0,s.bF)(Q,{to:t.to,class:"text-gray-700 dark:text-gray-300 text-sm font-medium"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",M,[((0,s.uX)(),(0,s.Wv)((0,s.$y)(t.icon),{class:(0,a.C4)([e.$route.path.startsWith(t.to)?"text-gray-700 dark:text-gray-300":"text-gray-400 group-hover:text-gray-500 dark:group-hover:text-gray-400","flex-shrink-0 mr-2 h-6 w-6"]),"aria-hidden":"true"},null,8,["class"])),(0,s.eW)(" "+(0,a.v_)(t.name),1)])])),_:2},1032,["to"])],10,A)))),128))]),(0,s.Lk)("div",L,[q.shouldShowUpgradeButton?((0,s.uX)(),(0,s.CE)("a",R,[(0,s.bF)(te,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" Upgrade License ")])):(0,s.Q3)("",!0),(0,s.Lk)("button",{class:"flex justify-start items-center w-full text-left px-2 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-200 rounded-md",onClick:t[4]||(t[4]=t=>e.modals.makeStrategy=!0)},[(0,s.bF)(te,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" New Strategy ")])]),(0,s.Lk)("div",E,[(0,s.Lk)("div",I,[(0,s.Lk)("a",P,[(0,s.bF)(se,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" Documentation ")])]),(0,s.Lk)("div",F,[(0,s.Lk)("a",D,[(0,s.bF)(ae,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" Sample Strategies ")])]),(0,s.Lk)("div",B,[(0,s.Lk)("a",z,[(0,s.bF)(re,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" Help Center ")])]),(0,s.Lk)("div",V,[(0,s.Lk)("button",{href:"https://jesse.trade/strategies",class:"flex justify-start items-start w-full text-left px-2 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-600 dark:hover:text-gray-200 rounded-md",target:"_blank",onClick:t[5]||(t[5]=t=>e.modals.makeStrategy=!0)},[(0,s.bF)(ne,{class:"w-5 h-5 mr-2"}),(0,s.eW)(" About ")])])]),(0,s.Lk)("div",O,[(0,s.Lk)("button",{class:"btn-nav ml-0",onClick:t[6]||(t[6]=t=>e.modals.settings=!0)},[W,(0,s.bF)(G,{class:"h-6 w-6","aria-hidden":"true"})]),(0,s.bF)(K)])])),_:1})])),_:1})],64)}i(44114);var j=i(50953),U=i(86251),N=i(46806),H=i(17100),X=i(88353),$=i(4218),Q=i(87049),K=i(692),G=i(60976),J=i(16151),Y=i(22833),Z=i(89430),ee=i(46762),te=i(72977),ie=i(46716),se=i(75045),ae=i(7821),re=i(10741),ne=i(33582),oe=i(67107),le=i(13968),ce=i(21131),de=i(31652),he=i(38839),ue=i(87829);const pe={class:"w-full"},me=(0,s.Lk)("p",{id:"feedback-description"}," I would love to hear your feedback whether it's about a bug, suggestion, something you like, or something you hate about Jesse! ",-1),ge=(0,s.Lk)("br",null,null,-1),fe=(0,s.Lk)("br",null,null,-1),be={key:0},_e=(0,s.Lk)("br",null,null,-1),ve={class:"flex justify-end"},ye=["disabled"];function xe(e,t,i,a,r,n){const o=(0,s.g2)("FormTextarea"),l=(0,s.g2)("FormInput");return(0,s.uX)(),(0,s.CE)("div",pe,[me,ge,(0,s.bF)(o,{title:"Description",placeholder:"Type here...",name:"description",object:r.form},null,8,["object"]),fe,e.hasLivePluginInstalled?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",be,[(0,s.bF)(l,{title:"Email (must be registered with on Jesse.Trade)",description:"Enter your email address for us to know who sent the feedback and possibly reply back to you. It must be the email address of your account on Jesse.Trade","input-type":"email",placeholder:"Email address...",name:"email",object:r.form},null,8,["object"]),_e])),(0,s.Lk)("div",ve,[(0,s.Lk)("button",{id:"feedback-cancel-button",class:"btn-link mr-8",onClick:t[0]||(t[0]=(...e)=>n.close&&n.close(...e))}," Cancel "),(0,s.Lk)("button",{id:"feedback-submit-button",class:"btn-primary w-48",disabled:!r.form.description.length||!r.form.email.length&&!e.hasLivePluginInstalled,onClick:t[1]||(t[1]=e=>n.submit())}," Submit ",8,ye)])])}var we=i(72505),ke=i.n(we),Ce=i(40849),Se=i(63356),Te=i(96685);const Ae={name:"Feedback",components:{FormInput:Ce["default"],FormTextarea:Se["default"]},data(){return{form:{email:"",description:""}}},computed:{...(0,he.aH)(ue.s,["modals","hasLivePluginInstalled"])},methods:{submit(){ke().post("/feedback",{description:this.form.description,email:this.form.email}).then((e=>{"success"===e.data.status?(this.form.description="",this.form.email="",Te.A.success(e.data.message),this.close()):"error"===e.data.status&&Te.A.error(e.data.message)})).catch((e=>{Te.A.error(`[${e.response.status}]: ${e.response.statusText}`)}))},close(){this.modals.feedback=!1}}};var Me=i(66262);const Le=(0,Me.A)(Ae,[["render",xe]]),Re=Le;var Ee=i(38114),Ie=i(30191);const Pe={id:"make-strategy-modal",class:"w-full select-none"},Fe=(0,s.Lk)("p",null," Filling this form will create a new strategy class with all the starting methods in it. ",-1),De=(0,s.Lk)("br",null,null,-1),Be=(0,s.Lk)("label",{for:"strategy",class:"input-label mb-2"},"Strategy name:",-1),ze={key:0},Ve=(0,s.Lk)("br",null,null,-1),Oe=(0,s.Lk)("p",null,"The strategy will be located at:",-1),We={class:"mt-2 text-sm whitespace-pre-line px-6 py-3 rounded-md bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-300 dark:border-gray-800 border border-gray-200 select-text"},qe={class:"flex justify-end mt-8"};function je(e,t,i,n,o,l){return(0,s.uX)(),(0,s.CE)("div",Pe,[Fe,De,Be,(0,s.bo)((0,s.Lk)("input",{id:"strategy","onUpdate:modelValue":t[0]||(t[0]=e=>o.form.name=e),type:"text",name:"strategy",placeholder:"ex: MyAwesomeStrategy01",class:"input"},null,512),[[r.Jo,o.form.name]]),o.form.name.length?((0,s.uX)(),(0,s.CE)("div",ze,[Ve,Oe,(0,s.Lk)("pre",We,"          "+(0,a.v_)(`strategies/${o.form.name}/__init__.py`)+"\n        ",1)])):(0,s.Q3)("",!0),(0,s.Lk)("div",qe,[(0,s.Lk)("button",{"data-cy":"cancel-make-strategy-button",class:"btn-link mr-8",onClick:t[1]||(t[1]=t=>e.modals.makeStrategy=!1)},"Cancel"),(0,s.Lk)("button",{"data-cy":"make-strategy-button",class:"btn-primary w-32",onClick:t[2]||(t[2]=(...e)=>l.create&&l.create(...e))},"Create")])])}const Ue={name:"MakeStrategy",data(){return{form:{name:""}}},computed:{...(0,he.aH)(ue.s,["strategies","modals"])},methods:{create(){this.form.name.length?ke().post("/make-strategy",{name:this.form.name}).then((e=>{"success"===e.data.status?(Te.A.success("Successfully created strategy"),this.strategies.push(this.form.name),this.strategies.sort(),this.modals.makeStrategy=!1):Te.A.error(e.data.message)})).catch((e=>{Te.A.error(`[${e.response.status}]: ${e.response.statusText}`)})):Te.A.error("Please fill the strategy name.")}}},Ne=(0,Me.A)(Ue,[["render",je]]),He=Ne,Xe={id:"make-strategy-modal",class:"w-full select-none"},$e={class:"flex justify-end mt-8"};function Qe(e,t,i,a,r,n){const o=(0,s.g2)("KeyValueTable");return(0,s.uX)(),(0,s.CE)("div",Xe,[(0,s.bF)(o,{data:n.tableData},null,8,["data"]),(0,s.Lk)("div",$e,[(0,s.Lk)("button",{"data-cy":"cancel-make-strategy-button",class:"btn-link mr-8",onClick:t[0]||(t[0]=t=>e.modals.about=!1)}," Close ")])])}var Ke=i(91098);const Ge={name:"About",components:{KeyValueTable:Ke["default"]},computed:{...(0,he.aH)(ue.s,["modals","systemInfo"]),tableData(){return Object.entries(this.systemInfo).map((([e,t])=>[e,t]))}}},Je=(0,Me.A)(Ge,[["render",Qe]]),Ye=Je;var Ze=i(19038),et=i(76607);const tt=i.p+"img/OptunaLogo.62383087.png",it={name:"Nav",components:{Announcement:et["default"],ConfirmModal:Ie["default"],Settings:Ee["default"],Feedback:Re,MakeStrategy:He,About:Ye,Disclosure:U.EN,DisclosureButton:U._q,DisclosurePanel:U.kS,Menu:N.W1,MenuButton:N.IU,MenuItem:N.Dr,MenuItems:N.c,MenuIcon:H.A,XIcon:X.A,SlideOver:de["default"],CogIcon:$.A,DotsVerticalIcon:Q.A,SparklesIcon:K.A,ChatAltIcon:G.A,CalculatorIcon:J.A,ChipIcon:Y.A,CurrencyDollarIcon:Z.A,SaveIcon:ee.A,DocumentAddIcon:te.A,LoginIcon:ie.A,LogoutIcon:se.A,DocumentTextIcon:ae.A,IdentificationIcon:re.A,QuestionMarkCircleIcon:ne.A,CollectionIcon:oe.A,HomeIcon:le.A,ThemeSwitch:Ze["default"]},setup(){const e=(0,j.KR)(!1);return{open:e}},computed:{...(0,he.aH)(ue.s,["modals","hasLivePluginInstalled","planInfo"]),shouldShowUpgradeButton(){return this.planInfo&&"premium"!==this.planInfo.plan},navigation(){const e=[{name:"Home",to:"/",icon:le.A},{name:"Import Candles",to:"/candles/",icon:ce.A},{name:"Backtest",to:"/backtest/",icon:J.A},{name:"Optimization",to:"/optimization/",icon:Y.A},{name:"Optuna",to:"/optuna/",image:tt}];return this.hasLivePluginInstalled&&e.push({name:"Live",to:"/live/",icon:Z.A}),e}},methods:{convertToSlug(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")},openFeedback(){this.modals.feedback=!0}}},st=(0,Me.A)(it,[["render",q]]),at=st},15908:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var s=i(20641),a=i(90033);const r=["data-cy"],n={class:"font-semibold"},o={class:"bg-white dark:bg-backdrop-dark rounded-md flex"},l=(0,s.Lk)("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1),c=[l],d={class:"ml-3 flex flex-col"};function h(e,t,i,l,h,u){const p=(0,s.g2)("RadioGroupLabel"),m=(0,s.g2)("RadioGroupOption"),g=(0,s.g2)("RadioGroup");return(0,s.uX)(),(0,s.CE)("div",{"data-cy":i.name+"-radio-groups",class:"flex items-center justify-between"},[(0,s.Lk)("div",n,(0,a.v_)(i.title),1),(0,s.Lk)("div",null,[(0,s.bF)(g,{modelValue:i.object[i.name],"onUpdate:modelValue":t[0]||(t[0]=e=>i.object[i.name]=e)},{default:(0,s.k6)((()=>[(0,s.bF)(p,{class:"sr-only"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(i.title),1)])),_:1}),(0,s.Lk)("div",o,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.options,((e,t)=>((0,s.uX)(),(0,s.Wv)(m,{key:e,class:"flex-1",as:"template",value:e},{default:(0,s.k6)((({checked:r})=>[(0,s.Lk)("div",{class:(0,a.C4)([0===t?"rounded-l-md":"",t===i.options.length-1?"rounded-r-md":"",r?"bg-indigo-50 dark:bg-gray-800 border-indigo-200 dark:border-indigo-400 z-10":"border-gray-200 dark:border-gray-800","relative border px-4 py-3 flex cursor-pointer focus:outline-none"])},[(0,s.Lk)("span",{class:(0,a.C4)([r?"bg-indigo-600 dark:bg-indigo-400 border-transparent":"bg-white dark:bg-backdrop-dark border-gray-300 dark:border-gray-700","h-4 w-4 mt-0.5 cursor-pointer rounded-full border flex items-center justify-center"]),"aria-hidden":"true"},c,2),(0,s.Lk)("div",d,[(0,s.bF)(p,{as:"span",class:(0,a.C4)([r?"text-indigo-900 dark:text-gray-100":"text-gray-900 dark:text-gray-100","capitalize block text-sm font-medium"])},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(e),1)])),_:2},1032,["class"])])],2)])),_:2},1032,["value"])))),128))])])),_:1},8,["modelValue"])])],8,r)}i(74423);var u=i(61055);const p={components:{RadioGroup:u.z6,RadioGroupLabel:u.Vf,RadioGroupOption:u.Gj},props:{title:{type:String,required:!0},object:{type:Object,required:!0},name:{type:String,required:!0},options:{type:Array,required:!0},default:{type:String,default:""}},created(){this.setDefaults()},methods:{setDefaults(){this.default&&!this.options.includes(this.default)&&console.error(`The default value "${this.default}" is not in the options array. options: ${this.options}`),this.object[this.name]||(this.object[this.name]=this.default)}}};var m=i(66262);const g=(0,m.A)(p,[["render",h]]),f=g},64431:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>nt});var s=i(20641),a=i(90033),r=i(53751);const n=e=>((0,s.Qi)("data-v-7a5be206"),e=e(),(0,s.jt)(),e),o={class:"select-none"},l=n((()=>(0,s.Lk)("span",null,"Trading Route",-1))),c=n((()=>(0,s.Lk)("span",null,"Extra Route",-1))),d=["data-cy"],h=["onUpdate:modelValue","data-cy"],u=["disabled"],p=["onUpdate:modelValue","data-cy"],m=["onUpdate:modelValue","data-cy"],g=["onUpdate:modelValue","data-cy"],f={class:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 rounded-r-lg"},b={class:"py-1"},_=["name"],v=["name"],y={class:"py-1"},x=["name"],w=["name"],k={class:"py-1"},C=["onClick"],S=n((()=>(0,s.Lk)("span",null,"Edit Strategy",-1))),T={key:1,class:"nested-buttons"},A=["onClick"],M=["onClick"],L={class:"py-1"},R=["name"],E=["data-cy"],I=["onUpdate:modelValue","data-cy"],P=["disabled"],F=["onUpdate:modelValue","data-cy"],D=["onUpdate:modelValue","data-cy"],B={class:"flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 rounded-r-lg"},z={class:"py-1"},V=["name"],O=["name"],W={class:"py-1"},q=["name"],j=["name"],U={class:(0,a.C4)("group flex items-center px-4 py-2 text-sm")},N=n((()=>(0,s.Lk)("span",null,"Edit Strategy",-1))),H=["name"],X={id:"error-section",class:"text-sm text-red-400 p-2 rounded-lg mb-4"},$=["data-cy","innerHTML"],Q={class:"modal-header"},K={class:"header-title"},G=n((()=>(0,s.Lk)("svg",{class:"icon-class",width:"18.48",height:"18.48",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("rect",{x:"1.53",y:"1.53",width:"15.44",height:"15.44",rx:"3.84",ry:"3.84",style:{fill:"none",stroke:"black","stroke-width":"1.53"}}),(0,s.Lk)("text",{x:"5.38",y:"13.08","font-family":"Verdana","font-size":"11.55",fill:"black"},"H")],-1))),J=[G],Y={key:0},Z={class:"editor-footer"},ee={class:"editor-actions"},te={class:"modal-header"},ie=n((()=>(0,s.Lk)("span",{class:"header-title"},"Monaco Editor Hotkeys",-1))),se=(0,s.Fv)('<div class="modal-content" data-v-7a5be206><h3 data-v-7a5be206>Custom Shortcuts</h3><ul data-v-7a5be206><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + Space</kbd> - Show Suggestions</li><li data-v-7a5be206><kbd data-v-7a5be206>Shift + Alt + F</kbd> - Format Code</li></ul><h3 data-v-7a5be206>General</h3><ul data-v-7a5be206><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + X</kbd> - Cut line (empty selection)</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + C</kbd> - Copy line (empty selection)</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + V</kbd> - Paste</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + Z</kbd> - Undo</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + Y</kbd> - Redo</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + S</kbd> - Save</li></ul><h3 data-v-7a5be206>Cursor &amp; Selection</h3><ul data-v-7a5be206><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + A</kbd> - Select all</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + Shift + L</kbd> / <kbd data-v-7a5be206>Ctrl + F2</kbd> - Select all occurrences of current selection</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + D</kbd> - Select next occurrence of current selection</li><li data-v-7a5be206><kbd data-v-7a5be206>Alt + Click</kbd> - Insert cursor</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + Alt + Up/Down</kbd> - Insert cursor above/below</li><li data-v-7a5be206><kbd data-v-7a5be206>Shift + Alt + Drag</kbd> - Column (box) selection</li></ul><h3 data-v-7a5be206>Editing</h3><ul data-v-7a5be206><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + Space</kbd> - Trigger suggestion</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + Shift + Space</kbd> - Trigger parameter hints</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + /</kbd> - Toggle line comment</li><li data-v-7a5be206><kbd data-v-7a5be206>Shift + Alt + A</kbd> - Toggle block comment</li><li data-v-7a5be206><kbd data-v-7a5be206>Alt + Z</kbd> - Toggle word wrap</li><li data-v-7a5be206><kbd data-v-7a5be206>Shift + Alt + F</kbd> - Format code</li></ul><h3 data-v-7a5be206>Navigation</h3><ul data-v-7a5be206><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + G</kbd> - Go to Line...</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + P</kbd> - Quick Open, Go to File...</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + Shift + O</kbd> - Go to Symbol...</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + Shift + M</kbd> - Show Problems panel</li><li data-v-7a5be206><kbd data-v-7a5be206>F8</kbd> - Go to next error or warning</li><li data-v-7a5be206><kbd data-v-7a5be206>Shift + F8</kbd> - Go to previous error or warning</li></ul><h3 data-v-7a5be206>Code Folding</h3><ul data-v-7a5be206><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + Shift + [</kbd> - Fold (collapse) region</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + Shift + ]</kbd> - Unfold (uncollapse) region</li></ul><h3 data-v-7a5be206>Find &amp; Replace</h3><ul data-v-7a5be206><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + F</kbd> - Find</li><li data-v-7a5be206><kbd data-v-7a5be206>Ctrl + H</kbd> - Replace</li><li data-v-7a5be206><kbd data-v-7a5be206>F3</kbd> / <kbd data-v-7a5be206>Shift + F3</kbd> - Find next/previous</li><li data-v-7a5be206><kbd data-v-7a5be206>Alt + Enter</kbd> - Select all occurrences of Find match</li></ul></div>',1),ae={class:"modal-header"},re=n((()=>(0,s.Lk)("span",{class:"header-title"},"Editor Info",-1))),ne=n((()=>(0,s.Lk)("div",{class:"modal-content"},[(0,s.Lk)("p",null,"Comprehensive hovering tips and autocomplete suggestions are readily available for a wide range of Jesse functions, indicators, and API references."),(0,s.Lk)("p",null,[(0,s.eW)("To activate autocomplete suggestions, press "),(0,s.Lk)("kbd",null,"Ctrl + Space"),(0,s.eW)('. This feature is particularly effective with keywords such as "self.", "ta.", "ta.{indicator}", "utils.", and "def ".')]),(0,s.Lk)("p",null,"The code editor is equipped with automatic linting and error checking, which are triggered upon saving.")],-1))),oe={class:"chart-modal-header"},le=n((()=>(0,s.Lk)("span",{class:"header-title"},"Chart Title",-1))),ce={ref:"chartContainer",class:"chart-container"},de={style:{"font-size":"19px"}},he={style:{"font-size":"16px"}},ue=n((()=>(0,s.Lk)("strong",null,"Volume:",-1))),pe=n((()=>(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",width:"14",height:"14"},[(0,s.Lk)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M6.5 1.5l5 5.5-5 5.5M3 4l2.5 3L3 10"})],-1))),me=[pe],ge=n((()=>(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",width:"14",height:"14"},[(0,s.Lk)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"M7.5 12.5l-5 -5.5 5 -5.5M11 10l-2.5 -3L11 4"})],-1))),fe=[ge],be={class:"toolbox"},_e={key:0,class:"utility-box"},ve=n((()=>(0,s.Lk)("i",{class:"fas fa-crosshairs"},null,-1))),ye={style:{color:"chartTooltipTextColor",opacity:"0.8"}},xe={style:{color:"chartTooltipTextColor",opacity:"0.8"}};function we(e,t,i,n,G,pe){const ge=(0,s.g2)("PlusSmIcon"),we=(0,s.g2)("DividerWithButtons"),ke=(0,s.g2)("DotsVerticalIcon"),Ce=(0,s.g2)("MenuButton"),Se=(0,s.g2)("TrashIcon"),Te=(0,s.g2)("MenuItem"),Ae=(0,s.g2)("DuplicateIcon"),Me=(0,s.g2)("ArrowCircleUpIcon"),Le=(0,s.g2)("ArrowCircleDownIcon"),Re=(0,s.g2)("PencilIcon"),Ee=(0,s.g2)("CodeIcon"),Ie=(0,s.g2)("PuzzleIcon"),Pe=(0,s.g2)("ChartBarIcon"),Fe=(0,s.g2)("MenuItems"),De=(0,s.g2)("Menu"),Be=(0,s.g2)("Divider"),ze=(0,s.g2)("ExclamationIcon"),Ve=(0,s.g2)("QuestionMarkCircleIcon"),Oe=(0,s.g2)("MonacoEditor"),We=(0,s.g2)("font-awesome-icon"),qe=(0,s.gN)("tooltip");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",o,[(0,s.bF)(we,{title:"Routes"},{default:(0,s.k6)((()=>[(0,s.Lk)("button",{"data-cy":"add-route",type:"button",class:"inline-flex items-center shadow-sm px-4 py-1.5 border border-gray-300 dark:border-gray-900 text-sm leading-5 font-medium rounded-l-full text-gray-700 dark:text-gray-100 bg-white dark:bg-backdrop-dark hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none",onClick:t[0]||(t[0]=(...e)=>pe.addRoute&&pe.addRoute(...e))},[(0,s.bF)(ge,{class:"-ml-1.5 mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"}),l]),(0,s.Lk)("button",{"data-cy":"add-extra-route",type:"button",class:"inline-flex items-center shadow-sm px-4 py-1.5 border border-gray-300 dark:border-gray-900 text-sm leading-5 font-medium rounded-r-full text-gray-700 dark:text-gray-100 bg-white dark:bg-backdrop-dark hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none",onClick:t[1]||(t[1]=(...e)=>pe.addExtraRoute&&pe.addExtraRoute(...e))},[(0,s.bF)(ge,{class:"-ml-1.5 mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"}),c])])),_:1}),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.form.routes,((n,o)=>((0,s.uX)(),(0,s.CE)("div",{key:n.exchange+o,"data-cy":"trading-route"+o,class:"flex border dark:bg-backdrop-dark dark:border-gray-900 rounded-lg mb-4"},[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e=>n.exchange=e,"data-cy":"trading-route-exchange"+o,class:"dark:bg-backdrop-dark dark:border-gray-900 dark:hover:bg-gray-700 hover:bg-gray-50 cursor-pointer w-full pl-3 pr-10 py-6 border-0 border-r border-gray-200 focus:outline-none focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 rounded-l-lg"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(pe.exchanges,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.name,disabled:!pe.allowedToTradeIn(e.name)},(0,a.v_)(e.name)+" "+(0,a.v_)(pe.allowedToTradeIn(e.name)?"":" (premium only)"),9,u)))),128))],8,h),[[r.u1,n.exchange]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":e=>n.symbol=e,"data-cy":"trading-route-symbol"+o,type:"text",class:"dark:bg-backdrop-dark dark:border-gray-900 dark:hover:bg-gray-700 hover:bg-gray-50 w-full pl-3 pr-10 py-6 border-0 border-r border-gray-200 focus:outline-none focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500",placeholder:"ex: BTC-USDT"},null,8,p),[[r.Jo,n.symbol]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e=>n.timeframe=e,"data-cy":"trading-route-timeframe"+o,class:"dark:bg-backdrop-dark dark:border-gray-900 dark:hover:bg-gray-700 hover:bg-gray-50 cursor-pointer w-full pl-3 pr-10 py-6 border-0 border-r border-gray-200 focus:outline-none focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(pe.getSupportedTimeframes(n.exchange),(e=>((0,s.uX)(),(0,s.CE)("option",{key:e},(0,a.v_)(e),1)))),128))],8,m),[[r.u1,n.timeframe]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e=>n.strategy=e,"data-cy":"trading-route-strategy"+o,class:"dark:bg-backdrop-dark dark:border-gray-900 dark:hover:bg-gray-700 hover:bg-gray-50 cursor-pointer w-full pl-3 pr-10 py-6 border-0 border-r border-gray-200 focus:outline-none focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.strategies,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e},(0,a.v_)(e),1)))),128))],8,g),[[r.u1,n.strategy]]),(0,s.Lk)("div",f,[(0,s.bF)(De,{as:"div",class:"relative block h-full w-full"},{default:(0,s.k6)((()=>[(0,s.bF)(Ce,{"data-cy":"trading-route-menu-button"+o,class:"px-5 block text-left h-full w-full focus:outline-none",onClick:t[2]||(t[2]=t=>pe.toggleStrategyOptions(e.j))},{default:(0,s.k6)((()=>[(0,s.bF)(ke,{class:"h-8 w-8 text-gray-400"})])),_:2},1032,["data-cy"]),(0,s.bF)(r.eB,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:(0,s.k6)((()=>[(0,s.bF)(Fe,{class:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-backdrop-dark z-10 ring-1 ring-black dark:ring-gray-900 ring-opacity-5 divide-y divide-gray-100 dark:divide-gray-900 focus:outline-none"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",b,[(0,s.bF)(Te,{onClick:e=>pe.deleteRoute(n)},{default:(0,s.k6)((()=>[(0,s.Lk)("a",{name:"trading-delete-menu"+o,class:(0,a.C4)([i.form.routes.length>1?"dark:hover:bg-gray-700":"text-gray-200 dark:text-gray-600 cursor-not-allowed","group flex items-center px-4 py-2 text-sm"])},[(0,s.bF)(Se,{class:(0,a.C4)([i.form.routes.length>1?"text-gray-400 group-hover:text-gray-500":"text-gray-200 group-hover:text-gray-200 dark:text-gray-600 dark:group-hover:text-gray-600","mr-3 h-5 w-5"]),"aria-hidden":"true"},null,8,["class"]),(0,s.eW)(" Delete ")],10,_)])),_:2},1032,["onClick"]),(0,s.bF)(Te,{onClick:e=>pe.duplicateRoutes(n)},{default:(0,s.k6)((({active:e})=>[(0,s.Lk)("a",{name:"trading-duplicate-menu"+o,class:(0,a.C4)([e?"bg-gray-100 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100":"text-gray-700 dark:text-gray-300","group flex items-center px-4 py-2 text-sm"])},[(0,s.bF)(Ae,{class:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),(0,s.eW)(" Duplicate ")],10,v)])),_:2},1032,["onClick"])]),(0,s.Lk)("div",y,[(0,s.bF)(Te,{onClick:e=>pe.moveUpRoutes(n)},{default:(0,s.k6)((()=>[(0,s.Lk)("a",{name:"trading-moveup-menu"+o,class:(0,a.C4)([0!==i.form.routes.indexOf(n)?"dark:hover:bg-gray-700":"text-gray-200 dark:text-gray-600 cursor-not-allowed","group flex items-center px-4 py-2 text-sm"])},[(0,s.bF)(Me,{class:(0,a.C4)([0!==i.form.routes.indexOf(n)?"text-gray-400 group-hover:text-gray-500":"text-gray-200 group-hover:text-gray-200 dark:text-gray-600 dark:group-hover:text-gray-600","mr-3 h-5 w-5"]),"aria-hidden":"true"},null,8,["class"]),(0,s.eW)(" Move Up ")],10,x)])),_:2},1032,["onClick"]),(0,s.bF)(Te,{onClick:e=>pe.moveDownRoutes(n)},{default:(0,s.k6)((()=>[(0,s.Lk)("a",{name:"trading-movedown-menu"+o,class:(0,a.C4)([i.form.routes.indexOf(n)!==i.form.routes.length-1?"dark:hover:bg-gray-700":"text-gray-200 dark:text-gray-600 cursor-not-allowed","group flex items-center px-4 py-2 text-sm"])},[(0,s.bF)(Le,{class:(0,a.C4)([i.form.routes.indexOf(n)!==i.form.routes.length-1?"text-gray-400 group-hover:text-gray-500":"text-gray-200 group-hover:text-gray-200 dark:text-gray-600 dark:group-hover:text-gray-600","mr-3 h-5 w-5"]),"aria-hidden":"true"},null,8,["class"]),(0,s.eW)(" Move Down ")],10,w)])),_:2},1032,["onClick"]),(0,s.Lk)("div",k,[G.visibleStrategyOptions!==o?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"edit-strategy",onClick:e=>pe.toggleStrategyOptions(o)},[(0,s.bF)(Re,{class:"mr-2 h-5 w-5"}),S],8,C)):(0,s.Q3)("",!0),G.visibleStrategyOptions===o?((0,s.uX)(),(0,s.CE)("div",T,[(0,s.Lk)("button",{onClick:e=>pe.editStrategy(n)},[(0,s.bF)(Ee,{class:"mr-2 h-5 w-5"}),(0,s.eW)(" Code Editor ")],8,A),(0,s.Lk)("button",{onClick:e=>pe.openStrategyEditor(n)},[(0,s.bF)(Ie,{class:"mr-2 h-5 w-5"}),(0,s.eW)(" Strategy Editor ")],8,M)])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",L,[(0,s.bF)(Te,{onClick:e=>pe.openCharting(n)},{default:(0,s.k6)((()=>[(0,s.Lk)("a",{name:"trading-charting-menu"+o,class:"group flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 dark:hover:bg-gray-700"},[(0,s.bF)(Pe,{class:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),(0,s.eW)(" Charting ")],8,R)])),_:2},1032,["onClick"])])])])),_:2},1024)])),_:2},1024)])),_:2},1024)])],8,d)))),128)),i.form.extra_routes.length?((0,s.uX)(),(0,s.Wv)(Be,{key:0,title:"Extra Routes"})):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.form.extra_routes,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:e.exchange+t+e.timeframe,"data-cy":"extra-route"+t,class:"flex border dark:bg-backdrop-dark dark:border-gray-900 rounded-lg mb-4"},[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t=>e.exchange=t,"data-cy":"extra-route-exchange"+t,class:"dark:bg-backdrop-dark dark:hover:bg-gray-700 hover:bg-gray-50 cursor-pointer w-full pl-3 pr-10 py-6 border-0 border-r border-gray-200 dark:border-gray-900 focus:outline-none focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 rounded-l-lg"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(pe.exchanges,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.name,disabled:!pe.allowedToTradeIn(e.name)},(0,a.v_)(e.name)+" "+(0,a.v_)(pe.allowedToTradeIn(e.name)?"":" (premium only)"),9,P)))),128))],8,I),[[r.u1,e.exchange]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t=>e.symbol=t,"data-cy":"extra-route-symbol"+t,type:"text",class:"dark:bg-backdrop-dark dark:hover:bg-gray-700 hover:bg-gray-50 w-full pl-3 pr-10 py-6 border-0 border-r border-gray-200 dark:border-gray-900 focus:outline-none focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500",placeholder:"ex: BTC-USDT"},null,8,F),[[r.Jo,e.symbol]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t=>e.timeframe=t,"data-cy":"extra-route-timeframe"+t,class:"dark:bg-backdrop-dark dark:hover:bg-gray-700 hover:bg-gray-50 cursor-pointer w-full pl-3 pr-10 py-6 border-0 border-r border-gray-200 dark:border-gray-900 focus:outline-none focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(pe.getSupportedTimeframes(e.exchange),(e=>((0,s.uX)(),(0,s.CE)("option",{key:e},(0,a.v_)(e),1)))),128))],8,D),[[r.u1,e.timeframe]]),(0,s.Lk)("div",B,[(0,s.bF)(De,{as:"div",class:"relative block h-full w-full"},{default:(0,s.k6)((()=>[(0,s.bF)(Ce,{"data-cy":"extra-route-menu-button"+t,class:"px-5 block text-left h-full w-full focus:outline-none"},{default:(0,s.k6)((()=>[(0,s.bF)(ke,{class:"h-8 w-8 text-gray-400"})])),_:2},1032,["data-cy"]),(0,s.bF)(r.eB,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:(0,s.k6)((()=>[(0,s.bF)(Fe,{class:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-backdrop-dark dark:border-gray-900 z-10 ring-1 ring-black dark:ring-gray-900 ring-opacity-5 divide-y divide-gray-100 dark:divide-gray-900 focus:outline-none"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",z,[(0,s.bF)(Te,{onClick:t=>pe.deleteExtraRoute(e)},{default:(0,s.k6)((()=>[(0,s.Lk)("a",{name:"extra-delete-menu"+t,class:"dark:hover:bg-gray-700 group flex items-center px-4 py-2 text-sm"},[(0,s.bF)(Se,{class:"text-gray-400 group-hover:text-gray-500 mr-3 h-5 w-5","aria-hidden":"true"}),(0,s.eW)(" Delete ")],8,V)])),_:2},1032,["onClick"]),(0,s.bF)(Te,{onClick:t=>pe.duplicateExtraRoutes(e)},{default:(0,s.k6)((({active:e})=>[(0,s.Lk)("a",{name:"extra-duplicate-menu"+t,class:(0,a.C4)([e?"bg-gray-100 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100":"text-gray-700 dark:text-gray-300","group flex items-center px-4 py-2 text-sm"])},[(0,s.bF)(Ae,{class:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),(0,s.eW)(" Duplicate ")],10,O)])),_:2},1032,["onClick"])]),(0,s.Lk)("div",W,[(0,s.bF)(Te,{onClick:t=>pe.moveUpExtraRoutes(e)},{default:(0,s.k6)((()=>[(0,s.Lk)("a",{name:"extra-moveup-menu"+t,class:(0,a.C4)([0!==i.form.extra_routes.indexOf(e)?"dark:hover:bg-gray-700":"text-gray-200 dark:text-gray-600 cursor-not-allowed","group flex items-center px-4 py-2 text-sm"])},[(0,s.bF)(Me,{class:(0,a.C4)([0!==i.form.extra_routes.indexOf(e)?"text-gray-400 group-hover:text-gray-500":"text-gray-200 group-hover:text-gray-200 dark:text-gray-600 dark:group-hover:text-gray-600","mr-3 h-5 w-5"]),"aria-hidden":"true"},null,8,["class"]),(0,s.eW)(" Move Up ")],10,q)])),_:2},1032,["onClick"]),(0,s.bF)(Te,{onClick:t=>pe.moveDownExtraRoutes(e)},{default:(0,s.k6)((()=>[(0,s.Lk)("a",{name:"extra-movedown-menu"+t,class:(0,a.C4)([i.form.extra_routes.indexOf(e)!==i.form.extra_routes.length-1?"dark:hover:bg-gray-700":"text-gray-200 dark:text-gray-600 cursor-not-allowed","group flex items-center px-4 py-2 text-sm"])},[(0,s.bF)(Le,{class:(0,a.C4)([i.form.extra_routes.indexOf(e)!==i.form.extra_routes.length-1?"text-gray-400 group-hover:text-gray-500":"text-gray-200 group-hover:text-gray-200 dark:text-gray-600 dark:group-hover:text-gray-600","mr-3 h-5 w-5"]),"aria-hidden":"true"},null,8,["class"]),(0,s.eW)(" Move Down ")],10,j)])),_:2},1032,["onClick"]),(0,s.bF)(Te,{onClick:t=>pe.editStrategy(e)},{default:(0,s.k6)((()=>[(0,s.Lk)("a",U,[(0,s.bF)(Re,{class:"mr-2 h-5 w-5"}),N])])),_:2},1032,["onClick"]),(0,s.bF)(Te,{onClick:t=>pe.openCharting(e)},{default:(0,s.k6)((()=>[(0,s.Lk)("a",{name:"trading-charting-menu"+t,class:"group flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 dark:hover:bg-gray-700"},[(0,s.bF)(Pe,{class:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}),(0,s.eW)(" Charting ")],8,H)])),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024)])),_:2},1024)])],8,E)))),128)),(0,s.Lk)("div",X,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(G.totalRoutesError,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"flex justify-start items-center mb-2"},[(0,s.bF)(ze,{class:"-ml-1.5 mr-1 h-5 w-5"}),(0,s.Lk)("div",{"data-cy":"error"+t,innerHTML:e},null,8,$)])))),128))]),G.showEditor?((0,s.uX)(),(0,s.CE)("div",{key:1,class:"modal-overlay",onClick:t[11]||(t[11]=(...e)=>pe.handleOutsideClick&&pe.handleOutsideClick(...e))},[(0,s.Lk)("div",{class:(0,a.C4)([pe.themeClass,"editor-modal"]),onClick:t[10]||(t[10]=(0,r.D$)((()=>{}),["stop"]))},[(0,s.Lk)("div",Q,[(0,s.Lk)("span",K,(0,a.v_)(pe.formattedStrategyTitle),1),(0,s.bo)(((0,s.uX)(),(0,s.CE)("button",{class:"help-button",onClick:t[3]||(t[3]=(...e)=>pe.showHelp&&pe.showHelp(...e))},[(0,s.bF)(Ve,{class:"icon-class"})])),[[qe,"Information"]]),(0,s.bo)(((0,s.uX)(),(0,s.CE)("button",{class:"hotkey-button",onClick:t[4]||(t[4]=(...e)=>pe.showHotkeys&&pe.showHotkeys(...e))},J)),[[qe,"Hotkeys"]])]),((0,s.uX)(),(0,s.Wv)(Oe,{key:G.editorKey,value:G.code,"onUpdate:value":t[5]||(t[5]=e=>G.code=e),language:"python",options:G.editorOptions,"diff-editor":!1,theme:pe.editorTheme,original:G.originalCode,onEditorDidMount:pe.editorDidMount},null,8,["value","options","theme","original","onEditorDidMount"])),(0,s.Lk)("div",{class:"modal-error-message",style:(0,a.Tr)({"margin-bottom":pe.errorModalMargin})},[G.strategyError&&G.strategyError.length?((0,s.uX)(),(0,s.CE)("div",Y,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(G.strategyError,((e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:t},(0,a.v_)(e),1)))),128))])):(0,s.Q3)("",!0)],4),(0,s.Lk)("div",Z,[(0,s.Lk)("button",{class:"close-button",onClick:t[6]||(t[6]=(...e)=>pe.closeEditor&&pe.closeEditor(...e))},"Close"),(0,s.Lk)("div",ee,[(0,s.Lk)("button",{class:"undo-all-button",onClick:t[7]||(t[7]=(...e)=>pe.undoAll&&pe.undoAll(...e))},"Undo All"),(0,s.Lk)("button",{class:"undo-button",onClick:t[8]||(t[8]=(...e)=>pe.undoEdit&&pe.undoEdit(...e))},"Undo")]),(0,s.Lk)("button",{class:"save-button",onClick:t[9]||(t[9]=(...e)=>pe.saveCode&&pe.saveCode(...e))},"Save")])],2)])):(0,s.Q3)("",!0),G.showHotkeysModal?((0,s.uX)(),(0,s.CE)("div",{key:2,class:"hotkeys-modal-overlay",onClick:t[14]||(t[14]=(...e)=>pe.handleOutsideClickHotkeys&&pe.handleOutsideClickHotkeys(...e))},[(0,s.Lk)("div",{class:"hotkeys-modal",onClick:t[13]||(t[13]=(0,r.D$)((()=>{}),["stop"]))},[(0,s.Lk)("div",te,[ie,(0,s.Lk)("button",{class:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-xs",onClick:t[12]||(t[12]=(...e)=>pe.closeHotkeysModal&&pe.closeHotkeysModal(...e))},"X")]),se])])):(0,s.Q3)("",!0),G.showHelpModal?((0,s.uX)(),(0,s.CE)("div",{key:3,class:"help-modal-overlay",onClick:t[17]||(t[17]=(...e)=>pe.handleOutsideClickHelp&&pe.handleOutsideClickHelp(...e))},[(0,s.Lk)("div",{class:"help-modal",onClick:t[16]||(t[16]=(0,r.D$)((()=>{}),["stop"]))},[(0,s.Lk)("div",ae,[re,(0,s.Lk)("button",{class:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-xs",onClick:t[15]||(t[15]=(...e)=>pe.closeHelpModal&&pe.closeHelpModal(...e))},"X")]),ne])])):(0,s.Q3)("",!0)]),G.showChart?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"chart-modal-overlay",onClick:t[31]||(t[31]=(...e)=>pe.handleOutsideClickChart&&pe.handleOutsideClickChart(...e))},[(0,s.Lk)("div",{class:"chart-modal",style:(0,a.Tr)({backgroundColor:G.chartBackgroundColor}),onClick:t[30]||(t[30]=(0,r.D$)((()=>{}),["stop"]))},[(0,s.Lk)("div",oe,[le,(0,s.Lk)("button",{class:"close-button",onClick:t[18]||(t[18]=(...e)=>pe.closeChart&&pe.closeChart(...e))},"Close")]),(0,s.Lk)("div",ce,[pe.tooltipVisible?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"chart-tooltip",style:(0,a.Tr)({color:G.tooltipTextColor})},[(0,s.Lk)("div",de,(0,a.v_)(G.tooltipData.name),1),(0,s.Lk)("div",he,[(0,s.eW)(" O "),(0,s.Lk)("span",{style:(0,a.Tr)({color:G.lastValidTooltipData.color})},(0,a.v_)(G.tooltipData.open),5),(0,s.eW)(" H "),(0,s.Lk)("span",{style:(0,a.Tr)({color:G.tooltipData.color})},(0,a.v_)(G.tooltipData.high),5),(0,s.eW)(" L "),(0,s.Lk)("span",{style:(0,a.Tr)({color:G.tooltipData.color})},(0,a.v_)(G.tooltipData.low),5),(0,s.eW)(" C "),(0,s.Lk)("span",{style:(0,a.Tr)({color:G.tooltipData.color})},(0,a.v_)(G.tooltipData.close),5)]),(0,s.Lk)("div",null,(0,a.v_)(G.tooltipData.date),1),(0,s.Lk)("div",null,[ue,(0,s.eW)(" "+(0,a.v_)(G.tooltipData.volume)+" ",1),(0,s.bF)(We,{style:{"margin-left":"5px"},icon:G.volumeSeriesVisible?G.eyeIcon:G.eyeSlashIcon,onClick:pe.toggleVolumeSeriesVisibility},null,8,["icon","onClick"]),(0,s.bF)(We,{style:{"margin-left":"10px"},icon:G.colorIcon,onClick:t[19]||(t[19]=e=>G.showColorPicker=!G.showColorPicker)},null,8,["icon"]),G.showColorPicker?(0,s.bo)(((0,s.uX)(),(0,s.CE)("input",{key:0,"onUpdate:modelValue":t[20]||(t[20]=e=>G.volumeColor=e),style:{"margin-left":"10px",padding:"none",border:"none"},type:"color",onChange:t[21]||(t[21]=(...e)=>pe.updateVolumeSeriesColor&&pe.updateVolumeSeriesColor(...e))},null,544)),[[r.Jo,G.volumeColor]]):(0,s.Q3)("",!0)])],4)):(0,s.Q3)("",!0),G.showEndButton?((0,s.uX)(),(0,s.CE)("button",{key:1,class:"navi-button go-to-realtime-button",onClick:t[22]||(t[22]=(...e)=>pe.scrollToRealTime&&pe.scrollToRealTime(...e))},me)):(0,s.Q3)("",!0),(0,s.Lk)("button",{class:"navi-button go-to-beginning-button",onClick:t[23]||(t[23]=(...e)=>pe.scrollToBeginning&&pe.scrollToBeginning(...e))},fe),(0,s.Lk)("div",{class:(0,a.C4)({"night-mode":G.isNightMode})},[(0,s.Lk)("div",be,[(0,s.bo)(((0,s.uX)(),(0,s.CE)("button",{class:"gear-icon",onClick:t[24]||(t[24]=(...e)=>pe.toggleUtilityBox&&pe.toggleUtilityBox(...e))},[(0,s.bF)(We,{icon:G.cogIcon},null,8,["icon"])])),[[qe,"Toggle Utility Box"]]),G.showUtilityBox?((0,s.uX)(),(0,s.CE)("div",_e,[(0,s.bo)(((0,s.uX)(),(0,s.CE)("button",{class:"utility-button",onClick:t[25]||(t[25]=(...e)=>pe.resetSettings&&pe.resetSettings(...e))},[(0,s.bF)(We,{icon:G.undoIcon},null,8,["icon"]),(0,s.eW)(" Reset Settings ")])),[[qe,"Reset Settings"]]),(0,s.bo)(((0,s.uX)(),(0,s.CE)("button",{class:"utility-button",onClick:t[26]||(t[26]=(...e)=>pe.resetYScale&&pe.resetYScale(...e))},[(0,s.bF)(We,{icon:G.arrowsAltVIcon},null,8,["icon"]),(0,s.eW)(" Reset Y-Scale ")])),[[qe,"Reset Y-Scale"]]),(0,s.bo)(((0,s.uX)(),(0,s.CE)("button",{class:"utility-button",onClick:t[27]||(t[27]=(...e)=>pe.toggleChartNightMode&&pe.toggleChartNightMode(...e))},[(0,s.bF)(We,{icon:G.moonIcon},null,8,["icon"]),(0,s.eW)(" "+(0,a.v_)(G.isNightMode?"Day Mode":"Night Mode"),1)])),[[qe,G.isNightMode?"Day Mode":"Night Mode"]]),(0,s.bo)(((0,s.uX)(),(0,s.CE)("button",{class:"utility-button",onClick:t[28]||(t[28]=(...e)=>pe.toggleFibonacciRetracement&&pe.toggleFibonacciRetracement(...e))},[(0,s.bF)(We,{icon:G.chartLineIcon},null,8,["icon"]),(0,s.eW)(" Fibonacci Retracement ")])),[[qe,"Toggle Fibonacci Retracement"]])])):(0,s.Q3)("",!0)])],2),G.isMenuVisible?((0,s.uX)(),(0,s.CE)("div",{key:2,class:"chart-menu",style:(0,a.Tr)(pe.menuStyle)},[(0,s.Lk)("ul",null,[(0,s.Lk)("li",{onClick:t[29]||(t[29]=(...e)=>pe.toggleCrosshairSnapping&&pe.toggleCrosshairSnapping(...e))},[ve,(0,s.eW)(" "+(0,a.v_)(G.isCrosshairSnapping?"Disable":"Enable")+" Crosshair Snapping ",1)])])],4)):(0,s.Q3)("",!0),(0,s.bo)((0,s.Lk)("div",{class:"chart-tooltip",style:(0,a.Tr)({...G.chartTooltipStyle,color:G.chartTooltipTextColor,backgroundColor:G.chartTooltipBackgroundColor,borderColor:G.chartTooltipBorderColor,display:"flex",flexDirection:"column",alignItems:"center"})},[(0,s.Lk)("div",ye,(0,a.v_)(G.chartTooltipData.symbol),1),(0,s.Lk)("div",{style:(0,a.Tr)({fontSize:"22px",margin:"4px 0px",color:G.tooltipData.color,opacity:.8})},(0,a.v_)(G.chartTooltipData.price),5),(0,s.Lk)("div",xe,(0,a.v_)(G.chartTooltipData.date),1)],4),[[r.aG,G.isCrosshairSnappingMenu]])],512)],4)])):(0,s.Q3)("",!0)],64)}i(74423),i(44114);var ke=i(39496),Ce=i(24070),Se=i(8957),Te=i(22346),Ae=i(25780),Me=i(14869),Le=i(7437),Re=i(83297),Ee=i(41561),Ie=i(29968),Pe=i(95957),Fe=i(99065),De=i(99241),Be=i(46806),ze=i(82237),Ve=i(38839),Oe=i(87829),We=i(51988),qe=i(58031),je=i(93604);const Ue={acosc:{description:"Acceleration / Deceleration Oscillator (AC) is an indicator that measures the acceleration and deceleration of the current driving force.",autocompleteText:"acosc(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool = False",expectedReturn:"AC(osc, change)",bullishCondition:"A positive value of AC indicates a bullish condition.",bearishCondition:"A negative value of AC indicates a bearish condition.",category:"Momentum",commonPairings:["ADX","RSI"],bestUsedFor:"Identifying acceleration and deceleration of market momentum",historicalReliability:"Medium",customizationTips:"Use in conjunction with trend indicators for better signal confirmation."},ad:{description:"AD - Chaikin A/D Line is a volume-based indicator designed to measure the cumulative flow of money into and out of a security.",autocompleteText:"ad(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"An increasing A/D line suggests bullish conditions.",bearishCondition:"A decreasing A/D line suggests bearish conditions.",category:"Volume",commonPairings:["OBV","ADOSC"],bestUsedFor:"Assessing cumulative flow of money into and out of a security",historicalReliability:"High",customizationTips:"Consider trend context and volume spikes for accurate interpretation."},adosc:{description:"ADOSC - Chaikin A/D Oscillator combines price and volume to show how money may be flowing into or out of a stock.",autocompleteText:"adosc(candles, fast_period=self.hp['adosc_fast_period'], slow_period=self.hp['adosc_slow_period'], sequential=False)",arguments:"candles: np.ndarray, fast_period: int = 3, slow_period: int = 10, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A rising ADOSC indicates bullish conditions, especially if crossing above zero.",bearishCondition:"A falling ADOSC indicates bearish conditions, especially if crossing below zero.",category:"Volume",commonPairings:["ADX","Volume"],bestUsedFor:"Combining price and volume to show money flow trends",historicalReliability:"Medium",customizationTips:"Adjust periods based on trading timeframe; shorter for day trading, longer for swing trading.",parameterDescription:{fast_period:"Fast period setting for the ADOSC, typically a shorter time frame to capture quick changes in money flow.",slow_period:"Slow period setting for the ADOSC, representing a longer time frame to observe more gradual trends in money flow."},hyperparameters:[{name:"adosc_fast_period",type:"int",min:2,max:20,default:3,step:1},{name:"adosc_slow_period",type:"int",min:5,max:30,default:10,step:1}]},adx:{description:"ADX - Average Directional Movement Index quantifies trend strength by rising during uptrends and downtrends.",autocompleteText:"adx(candles, period=self.hp['adx_period'], sequential=False)",arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"An ADX rising above 25 indicates a strong bullish trend.",bearishCondition:"An ADX declining below 20 indicates weakening bullish trends, potentially turning bearish.",category:"Trend",commonPairings:["RSI","MACD"],bestUsedFor:"Evaluating trend strength and potential reversals in ranging markets",historicalReliability:"High",customizationTips:"For shorter-term trading, consider lowering the period; increase it for longer-term trend analysis.",parameterDescription:{period:"Determines the number of past data points to consider, affecting the sensitivity and smoothness of the ADX trend strength."},hyperparameters:[{name:"adx_period",type:"int",min:7,max:50,default:14,step:1}]},adxr:{description:"ADXR - Average Directional Movement Index Rating smooths the ADX indicator over time, aiming to reduce potential volatility.",autocompleteText:"adxr(candles, period=self.hp['adxr_period'], sequential=False)",arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A rising ADXR indicates strengthening bullish trends.",bearishCondition:"A falling ADXR suggests weakening trends and potential bearishness.",category:"Trend",commonPairings:["ADX","RSI"],bestUsedFor:"Smoothing the ADX indicator to reduce potential volatility and provide a clearer trend strength indication",historicalReliability:"Medium",customizationTips:"Use in tandem with ADX to confirm trend strength; consider adjusting the period for different market conditions.",parameterDescription:{period:"Defines the time frame over which the ADXR smooths the ADX indicator, impacting how trend strength volatility is interpreted."},hyperparameters:[{name:"adxr_period",type:"int",min:7,max:50,default:14,step:1}]},alligator:{description:"Alligator is a trend indicator that uses smoothed moving averages to identify sleep and awakening phases of the market.",autocompleteText:"alligator(candles, source_type='close', sequential=False)",arguments:"candles: np.ndarray, source_type: str = 'close', sequential: bool = False",expectedReturn:"AG(jaw, teeth, lips)",bullishCondition:"When the green line (lips) is above the red (teeth) and blue (jaw) lines, and the lines are aligned and moving apart, it suggests a bullish trend.",bearishCondition:"When the green line (lips) is below the red (teeth) and blue (jaw) lines, and the lines are aligned and moving apart, it indicates a bearish trend.",category:"Trend",commonPairings:["Fractals","AC"],bestUsedFor:"Identifying the beginning of a trend and its awakening phases",historicalReliability:"Medium",customizationTips:"Combine with momentum indicators for confirming signals during trend phases."},alma:{description:"ALMA - Arnaud Legoux Moving Average reduces noise and produces a smooth curve for identifying the true trend.",autocompleteText:"alma(candles, period=self.hp['alma_period'], sigma=self.hp['alma_sigma'], distribution_offset=self.hp['alma_distribution_offset'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the number of bars used for the moving average, impacting its sensitivity to price changes.",sigma:"Controls the standard deviation for the Gaussian window, affecting the smoothness of the moving average.",distribution_offset:"Determines the offset of the Gaussian bell curve, influencing the lag and reactivity of the ALMA to price movements."},arguments:"candles: np.ndarray, period: int = 9, sigma: float = 6.0, distribution_offset: float = 0.85, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish condition is indicated when the price is above the ALMA line.",bearishCondition:"A bearish condition is indicated when the price is below the ALMA line.",category:"Trend",commonPairings:["Bollinger Bands","MACD"],bestUsedFor:"Smooth trend identification, minimizing market noise",historicalReliability:"Medium to High",customizationTips:"Adjust sigma and distribution offset to fine-tune responsiveness to price changes.",hyperparameters:[{name:"alma_period",type:"int",min:3,max:30,default:9,step:1},{name:"alma_sigma",type:"float",min:.1,max:10,default:6,step:.1},{name:"alma_distribution_offset",type:"float",min:0,max:1,default:.85,step:.05}]},ao:{description:"Awesome Oscillator measures market momentum and is used to identify trends.",autocompleteText:"ao(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool = False",expectedReturn:"AO(osc, change)",bullishCondition:"The AO being above zero and/or increasing in value suggests bullish momentum.",bearishCondition:"The AO being below zero and/or decreasing in value suggests bearish momentum.",category:"Momentum",commonPairings:["ADX","Alligator"],bestUsedFor:"Measuring market momentum and identifying potential trend reversals",historicalReliability:"Medium",customizationTips:"Look for zero line crosses and saucer signals for trade entry; more effective in trending markets."},apo:{description:"APO - Absolute Price Oscillator indicates the difference between two moving averages.",autocompleteText:"apo(candles, fast_period=self.hp['apo_fast_period'], slow_period=self.hp['apo_slow_period'], matype=self.hp['apo_matype'], source_type='close', sequential=False)",parameterDescription:{fast_period:"The number of periods for the fast moving average, influencing the oscillator's sensitivity to price changes.",slow_period:"The number of periods for the slow moving average, setting the baseline for comparing the fast MA.",matype:"Type of moving average (e.g., simple, exponential) used in the calculation."},arguments:"candles: np.ndarray, fast_period: int = 12, slow_period: int = 26, matype: int = 0, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A positive APO value, indicating the fast MA is above the slow MA, suggests bullish conditions.",bearishCondition:"A negative APO value, indicating the fast MA is below the slow MA, suggests bearish conditions.",category:"Momentum",commonPairings:["MACD","RSI"],bestUsedFor:"Identifying short-term changes in trends through divergence and crossover of moving averages",historicalReliability:"Medium",customizationTips:"Adjust fast and slow periods according to trading style; shorter periods for day trading, longer for swing trading.",hyperparameters:[{name:"apo_fast_period",type:"int",min:2,max:50,default:12,step:1},{name:"apo_slow_period",type:"int",min:5,max:50,default:26,step:1},{name:"apo_matype",type:"int",min:0,max:4,default:0,step:1}]},aroon:{description:"AROON - Aroon indicators are used to identify when trends are likely to change direction.",autocompleteText:"aroon(candles, period=self.hp['aroon_period'], sequential=False)",parameterDescription:{period:"The number of periods used to calculate Aroon Up and Down, affecting trend change sensitivity."},arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"AROON(down, up)",bullishCondition:"Aroon Up above 70 and Aroon Down below 30 indicate potential bullish trends.",bearishCondition:"Aroon Down above 70 and Aroon Up below 30 indicate potential bearish trends.",category:"Trend",commonPairings:["ADX","AROONOSC"],bestUsedFor:"Identifying when trends are likely to change direction and strength of a trend",historicalReliability:"Medium",customizationTips:"Use with trend-confirming indicators to reduce false signals; adjust the period for market volatility.",hyperparameters:[{name:"aroon_period",type:"int",min:5,max:30,default:14,step:1}]},aroonosc:{description:"AROONOSC - Aroon Oscillator measures the strength and likelihood of a trend to continue.",autocompleteText:"aroonosc(candles, period=self.hp['aroonosc_period'], sequential=False)",parameterDescription:{period:"Sets the time frame for the oscillator, balancing between trend sensitivity and noise reduction."},arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A positive Aroon Oscillator suggests a potential bullish trend.",bearishCondition:"A negative Aroon Oscillator suggests a potential bearish trend.",category:"Momentum",commonPairings:["AROON","Stochastic"],bestUsedFor:"Measuring the strength of a trend and likelihood of its continuation",historicalReliability:"Medium",customizationTips:"Combine with other trend indicators for confirming signals; adjust period for sensitivity.",hyperparameters:[{name:"aroonosc_period",type:"int",min:5,max:30,default:14,step:1}]},atr:{description:"ATR - Average True Range is used to measure market volatility.",autocompleteText:"atr(candles, period=self.hp['atr_period'], sequential=False)",parameterDescription:{period:"Specifies the number of periods used to calculate the ATR, impacting the volatility sensitivity and smoothing."},arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Not typically used for bullish or bearish signals, but a rising ATR indicates increased market volatility.",bearishCondition:"Not typically used for bullish or bearish signals, but a decreasing ATR indicates decreased market volatility.",category:"Volatility",commonPairings:["RSI","Bollinger Bands"],bestUsedFor:"Measuring market volatility to manage risk, especially for stop-loss orders",historicalReliability:"High",customizationTips:"Use longer periods for a more stable ATR; shorter periods can be used for intraday trading.",hyperparameters:[{name:"atr_period",type:"int",min:7,max:30,default:14,step:1}]},avgprice:{description:"AVGPRICE - Average Price of a given period.",autocompleteText:"avgprice(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal when current price is above the average price.",bearishCondition:"A bearish signal when current price is below the average price.",category:"Price Action",commonPairings:["Volume","MACD"],bestUsedFor:"Determining average price for a single trading period",historicalReliability:"Medium",customizationTips:"Effective as a baseline for comparing current prices; use in combination with volume indicators."},beta:{description:"BETA - Beta measures the volatility of an asset in comparison to the market.",autocompleteText:"beta(candles, period=self.hp['beta_period'], sequential=False)",parameterDescription:{period:"The time frame over which the asset's volatility compared to the market is measured, influencing sensitivity."},arguments:"candles: np.ndarray, period: int = 5, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A higher beta indicates more volatility and potential for bullish movements if the market is rising.",bearishCondition:"A higher beta also indicates more volatility and potential for bearish movements if the market is falling.",category:"Volatility",commonPairings:["ATR","RSI"],bestUsedFor:"Measuring the volatility of an asset in comparison to the market",historicalReliability:"Medium to High",customizationTips:"Use in portfolio management for risk assessment; adjust period based on investment horizon.",hyperparameters:[{name:"beta_period",type:"int",min:3,max:20,default:5,step:1}]},bandpass:{description:"BandPass Filter is used to isolate a specific frequency component of a time series.",autocompleteText:"bandpass(candles, period=self.hp['bandpass_period'], bandwidth=self.hp['bandpass_bandwidth'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the length of the cycle being isolated by the filter, affecting cycle detection accuracy.",bandwidth:"Sets the width of the frequency band, balancing between filtering noise and retaining signal fidelity."},arguments:"candles: np.ndarray, period: int = 20, bandwidth: float = 0.3, source_type: str = 'close', sequential: bool = False",expectedReturn:"BandPass(bp, bp_normalized, signal, trigger)",bullishCondition:"Bullish signals may be inferred when the bandpass filter identifies a cyclical upswing in price.",bearishCondition:"Bearish signals may be inferred when the bandpass filter identifies a cyclical downswing in price.",category:"Oscillator",commonPairings:["RSI","MACD"],bestUsedFor:"Isolating specific frequency components in price data to identify cycles",historicalReliability:"Medium",customizationTips:"Adjust period and bandwidth to capture dominant market cycles; can be combined with trend indicators for confirmation.",hyperparameters:[{name:"bandpass_period",type:"int",min:10,max:50,default:20,step:1},{name:"bandpass_bandwidth",type:"float",min:.1,max:1,default:.3,step:.05}]},bollinger_bands:{description:"BBANDS - Bollinger Bands are volatility bands placed above and below a moving average.",autocompleteText:"bollinger_bands(candles, period=self.hp['bbands_period'], devup=self.hp['bbands_devup'], devdn=self.hp['bbands_devdn'], matype=self.hp['bbands_matype'], devtype=0, source_type='close', sequential=False)",parameterDescription:{period:"Number of periods used for the moving average and standard deviation calculations, affecting band sensitivity.",devup:"The number of standard deviations for the upper band, determining the upper volatility boundary.",devdn:"The number of standard deviations for the lower band, setting the lower volatility boundary.",matype:"Type of moving average used, impacting how the middle band is calculated."},arguments:"candles: np.ndarray, period: int = 20, devup: float = 2, devdn: float = 2, matype: int = 0, devtype: int = 0, source_type: str = 'close', sequential: bool = False",expectedReturn:"BollingerBands(upperband, middleband, lowerband)",bullishCondition:"A bullish signal when the price touches the lower band and starts to turn upwards.",bearishCondition:"A bearish signal when the price touches the upper band and starts to turn downwards.",category:"Volatility",commonPairings:["MACD","RSI"],bestUsedFor:"Identifying overbought and oversold conditions and potential price breakouts",historicalReliability:"High",customizationTips:"Vary the standard deviation and period for different trading styles; use with volume indicators for breakout confirmation.",hyperparameters:[{name:"bbands_period",type:"int",min:10,max:50,default:20,step:1},{name:"bbands_devup",type:"float",min:1,max:5,default:2,step:.1},{name:"bbands_devdn",type:"float",min:1,max:5,default:2,step:.1},{name:"bbands_matype",type:"int",min:0,max:4,default:0,step:1}]},bollinger_bands_width:{description:"BBW - Bollinger Bands Width measures the gap between the Bollinger Bands.",autocompleteText:"bollinger_bands_width(candles, period=self.hp['bbw_period'], devup=self.hp['bbw_devup'], devdn=self.hp['bbw_devdn'], matype=self.hp['bbw_matype'], source_type='close', sequential=False)",parameterDescription:{period:"The number of periods used for calculating the moving average and standard deviations, influencing band width.",devup:"The upper band's standard deviation multiplier, affecting the upper range of volatility.",devdn:"The lower band's standard deviation multiplier, impacting the lower range of volatility.",matype:"Specifies the type of moving average applied, which affects the middle band calculation."},arguments:"candles: np.ndarray, period: int = 20, devup: float = 2, devdn: float = 2, matype: int = 0, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Narrowing bands can indicate a potential breakout in either direction, often bullish if followed by a price increase.",bearishCondition:"Narrowing bands can indicate a potential breakout in either direction, often bearish if followed by a price decrease.",category:"Volatility",commonPairings:["ADX","Bollinger Bands"],bestUsedFor:"Measuring the gap between Bollinger Bands to identify market volatility",historicalReliability:"Medium",customizationTips:"Use in conjunction with Bollinger Bands to identify periods of high or low volatility; helpful in spotting market breakouts.",hyperparameters:[{name:"bbw_period",type:"int",min:10,max:50,default:20,step:1},{name:"bbw_devup",type:"float",min:1,max:5,default:2,step:.1},{name:"bbw_devdn",type:"float",min:1,max:5,default:2,step:.1},{name:"bbw_matype",type:"int",min:0,max:4,default:0,step:1}]},bop:{description:"BOP - Balance Of Power indicates the strength of buyers and sellers in the market.",autocompleteText:"bop(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A positive BOP value indicates bullish strength in the market.",bearishCondition:"A negative BOP value indicates bearish strength in the market.",category:"Momentum",commonPairings:["Volume","RSI"],bestUsedFor:"Identifying the strength of buyers vs. sellers in the market",historicalReliability:"Medium",customizationTips:"Effective in trending markets; combine with volume indicators for enhanced analysis."},cc:{description:"Coppock Curve is a momentum indicator for identifying long-term buying opportunities.",autocompleteText:"cc(candles, wma_period=self.hp['cc_wma_period'], roc_short_period=self.hp['cc_roc_short_period'], roc_long_period=self.hp['cc_roc_long_period'], source_type='close', sequential=False)",parameterDescription:{wma_period:"Sets the period for the Weighted Moving Average, impacting the smoothing of the ROC values.",roc_short_period:"Defines the short-term Rate of Change period, capturing quicker market movements.",roc_long_period:"Specifies the long-term Rate of Change period, reflecting more sustained market trends."},arguments:"candles: np.ndarray, wma_period: int = 10, roc_short_period: int = 11, roc_long_period: int = 14, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A rising Coppock Curve can be a bullish sign, especially when crossing above zero.",bearishCondition:"A falling Coppock Curve can be a bearish sign, especially when crossing below zero.",category:"Momentum",commonPairings:["MACD","RSI"],bestUsedFor:"Identifying long-term buying opportunities and trend reversals",historicalReliability:"Medium",customizationTips:"Adjust WMA and ROC periods to align with market conditions; combine with other momentum indicators for confirmation.",hyperparameters:[{name:"cc_wma_period",type:"int",min:5,max:20,default:10,step:1},{name:"cc_roc_short_period",type:"int",min:5,max:20,default:11,step:1},{name:"cc_roc_long_period",type:"int",min:10,max:30,default:14,step:1}]},cci:{description:"CCI - Commodity Channel Index identifies cyclical trends in a securitys price.",autocompleteText:"cci(candles, period=self.hp['cci_period'], sequential=False)",parameterDescription:{period:"The number of periods for calculating the CCI, influencing the sensitivity to price changes and volatility."},arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"CCI above +100 indicates strong upward momentum and potential bullish conditions.",bearishCondition:"CCI below -100 indicates strong downward momentum and potential bearish conditions.",category:"Momentum",commonPairings:["RSI","Stochastic Oscillator"],bestUsedFor:"Identifying overbought and oversold conditions in a securitys price",historicalReliability:"Medium",customizationTips:"Alter the period for different market conditions; combine with trend indicators to confirm potential reversals.",hyperparameters:[{name:"cci_period",type:"int",min:5,max:30,default:14,step:1}]},cfo:{description:"CFO - Chande Forcast Oscillator, a momentum oscillator that measures the difference between a securitys price and its moving average.",autocompleteText:"cfo(candles, period=self.hp['cfo_period'], scalar=self.hp['cfo_scalar'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the length of the moving average, affecting the comparison between current price and average.",scalar:"Adjusts the scale of the oscillator, modifying the amplitude and visibility of the CFO's output."},arguments:"candles: np.ndarray, period: int = 14, scalar: float = 100, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A positive CFO value suggests bullish momentum, indicating prices are above their moving average.",bearishCondition:"A negative CFO value suggests bearish momentum, indicating prices are below their moving average.",category:"Momentum",commonPairings:["ADX","MACD"],bestUsedFor:"Measuring the difference between a securitys price and its moving average",historicalReliability:"Medium",customizationTips:"Use with other momentum indicators for divergence/convergence analysis; adjust the period for market sensitivity.",hyperparameters:[{name:"cfo_period",type:"int",min:5,max:30,default:14,step:1},{name:"cfo_scalar",type:"float",min:10,max:200,default:100,step:10}]},cg:{description:"CG - Center of Gravity, a smoothing indicator that identifies support and resistance levels.",autocompleteText:"cg(candles, period=self.hp['cg_period'], source_type='close', sequential=False)",parameterDescription:{period:"The lookback period over which the Center of Gravity is calculated, impacting the sensitivity to price changes."},arguments:"candles: np.ndarray, period: int = 10, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A rising CG line suggests bullish conditions, indicating potential upward price movement.",bearishCondition:"A falling CG line suggests bearish conditions, indicating potential downward price movement.",category:"Oscillator",commonPairings:["RSI","Bollinger Bands"],bestUsedFor:"Identifying potential support and resistance levels",historicalReliability:"Low to Medium",customizationTips:"Effective in ranging markets; use with trend confirmation tools in trending markets for enhanced analysis.",hyperparameters:[{name:"cg_period",type:"int",min:5,max:20,default:10,step:1}]},cksp:{description:"CKSP - Chande Kroll Stop, a volatility-based indicator that identifies stop-loss levels.",autocompleteText:"cksp(candles, p=self.hp['cksp_p'], x=self.hp['cksp_x'], q=self.hp['cksp_q'], sequential=False)",parameterDescription:{p:"Sets the period for the basic calculation of the stop level, affecting the stop's proximity to the price.",x:"Multiplier for the ATR value, determining the distance between the stop level and the price.",q:"Defines the period for smoothing the stop level, impacting the stability and responsiveness of the stop."},arguments:"candles: np.ndarray, p: int = 10, x: float = 1.0, q: int = 9, sequential: bool = False",expectedReturn:"CKSP(long, short)",bullishCondition:"A bullish signal is given when the price is above the CKSP long stop line.",bearishCondition:"A bearish signal is given when the price is below the CKSP short stop line.",category:"Volatility",commonPairings:["ATR","Parabolic SAR"],bestUsedFor:"Setting dynamic stop-loss levels based on market volatility",historicalReliability:"Medium",customizationTips:"Adjust parameters to suit volatility; use in combination with trend-following indicators.",hyperparameters:[{name:"cksp_p",type:"int",min:5,max:20,default:10,step:1},{name:"cksp_x",type:"float",min:.5,max:2,default:1,step:.1},{name:"cksp_q",type:"int",min:5,max:20,default:9,step:1}]},chande:{description:"Chandelier Exits, used to set trailing stop-loss orders based on volatility.",autocompleteText:"chande(candles, period=self.hp['chande_period'], mult=self.hp['chande_mult'], direction='long', sequential=False)",parameterDescription:{period:"The number of periods used in the ATR calculation, affecting the volatility sensitivity of the exit.",mult:"Multiplier for the ATR value, setting the distance of the Chandelier Exit from the highest high or lowest low."},arguments:"candles: np.ndarray, period: int = 22, mult: float = 3.0, direction: str = 'long', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal occurs when the price is above the Chandelier Exit for a long position.",bearishCondition:"A bearish signal occurs when the price is below the Chandelier Exit for a short position.",category:"Volatility",commonPairings:["ATR","MACD"],bestUsedFor:"Determining trailing stop-loss orders based on volatility",historicalReliability:"Medium",customizationTips:"Vary the multiplier and period for different trading styles; combine with directional indicators for optimal entry/exit points.",hyperparameters:[{name:"chande_period",type:"int",min:10,max:30,default:22,step:1},{name:"chande_mult",type:"float",min:1,max:5,default:3,step:.1}]},chop:{description:"CHOP - Choppiness Index, measures the market's trendiness or choppiness.",autocompleteText:"chop(candles, period=self.hp['chop_period'], scalar=self.hp['chop_scalar'], drift=self.hp['chop_drift'], sequential=False)",parameterDescription:{period:"Determines the lookback period, influencing the calculation of market choppiness or trendiness.",scalar:"Adjusts the scaling of the index, affecting the interpretation of trending versus choppy conditions.",drift:"The period change used in calculating the highest highs and lowest lows, impacting the index's sensitivity."},arguments:"candles: np.ndarray, period: int = 14, scalar: float = 100, drift: int = 1, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Lower CHOP index values (below 38.2) suggest a trending market, potentially bullish.",bearishCondition:"Higher CHOP index values (above 61.8) suggest a non-trending, choppy market, potentially bearish.",category:"Volatility",commonPairings:["ATR","Bollinger Bands"],bestUsedFor:"Identifying market phases, ranging or trending",historicalReliability:"Medium",customizationTips:"Use in conjunction with trend indicators to determine market phase; adjust period for market sensitivity.",hyperparameters:[{name:"chop_period",type:"int",min:5,max:30,default:14,step:1},{name:"chop_scalar",type:"float",min:50,max:150,default:100,step:10},{name:"chop_drift",type:"int",min:1,max:5,default:1,step:1}]},cmo:{description:"CMO - Chande Momentum Oscillator, measures the momentum of price changes.",autocompleteText:"cmo(candles, period=self.hp['cmo_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the time frame for calculating momentum, affecting the oscillator's responsiveness to price changes."},arguments:"candles: np.ndarray, period: int = 14, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"CMO values above +50 indicate strong bullish momentum.",bearishCondition:"CMO values below -50 indicate strong bearish momentum.",category:"Momentum",commonPairings:["RSI","MACD"],bestUsedFor:"Measuring the momentum of price changes",historicalReliability:"Medium",customizationTips:"Can be used to spot divergences; adjust the period to control sensitivity.",hyperparameters:[{name:"cmo_period",type:"int",min:5,max:30,default:14,step:1}]},correlation_cycle:{description:"Correlation Cycle indicates the market state and correlation angle.",autocompleteText:"correlation_cycle(candles, period=self.hp['correlation_cycle_period'], threshold=self.hp['correlation_cycle_threshold'], source_type='close', sequential=False)",parameterDescription:{period:"The number of bars used to calculate the correlation, impacting the cycle's detection and smoothness.",threshold:"Defines the threshold for assessing the strength of the correlation, influencing market state interpretation."},arguments:"candles: np.ndarray, period: int = 20, threshold: int = 9, source_type: str = 'close', sequential: bool = False",expectedReturn:"CC(real, imag, angle, state)",bullishCondition:"High positive correlation in the cycle indicates a bullish market state.",bearishCondition:"High negative correlation in the cycle indicates a bearish market state.",category:"Market State",commonPairings:["MACD","ADX"],bestUsedFor:"Identifying correlation in market cycles",historicalReliability:"Low to Medium",customizationTips:"Combine with trend indicators for comprehensive market analysis; adjust threshold for different market conditions.",hyperparameters:[{name:"correlation_cycle_period",type:"int",min:10,max:30,default:20,step:1},{name:"correlation_cycle_threshold",type:"int",min:5,max:15,default:9,step:1}]},correl:{description:"CORREL - Pearson's Correlation Coefficient, measures the linear correlation between two variables.",autocompleteText:"correl(candles, period=self.hp['correl_period'], sequential=False)",parameterDescription:{period:"Defines the number of periods for calculating the correlation coefficient, affecting the sensitivity to changes in correlation."},arguments:"candles: np.ndarray, period: int = 5, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"High positive CORREL value indicates a strong positive correlation, potentially bullish in a rising market.",bearishCondition:"High negative CORREL value indicates a strong negative correlation, potentially bearish in a declining market.",category:"Statistical",commonPairings:["Linear Regression","SMA"],bestUsedFor:"Measuring linear correlation between two variables",historicalReliability:"Medium",customizationTips:"Effective for pairs trading or comparing securities; vary the period for different market dynamics.",hyperparameters:[{name:"correl_period",type:"int",min:3,max:20,default:5,step:1}]},cvi:{description:"CVI - Chaikins Volatility, measures the volatility of a security.",autocompleteText:"cvi(candles, period=self.hp['cvi_period'], sequential=False)",parameterDescription:{period:"The time frame for calculating volatility, influencing how rapidly the CVI reflects changes in market volatility."},arguments:"candles: np.ndarray, period: int = 5, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A declining CVI suggests decreased volatility, which can precede a bullish market phase.",bearishCondition:"An increasing CVI indicates rising volatility, often associated with bearish market conditions.",category:"Volatility",commonPairings:["ATR","Bollinger Bands"],bestUsedFor:"Measuring the volatility of a security",historicalReliability:"Medium",customizationTips:"Useful for identifying potential breakouts; pair with trend indicators for confirming signals.",hyperparameters:[{name:"cvi_period",type:"int",min:3,max:20,default:5,step:1}]},cwma:{description:"Cubed Weighted Moving Average, a variation of the moving average.",autocompleteText:"cwma(candles, period=self.hp['cwma_period'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the length of the moving average, impacting the smoothness and responsiveness of the CWMA to price changes."},arguments:"candles: np.ndarray, period: int = 14, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal is indicated when the price is above the CWMA line.",bearishCondition:"A bearish signal is indicated when the price is below the CWMA line.",category:"Trend",commonPairings:["EMA","MACD"],bestUsedFor:"Identifying longer-term trends",historicalReliability:"Medium",customizationTips:"Adjust period for different market dynamics; shorter periods for shorter trends, longer for more stability.",hyperparameters:[{name:"cwma_period",type:"int",min:5,max:30,default:14,step:1}]},damiani_volatmeter:{description:"Damiani Volatmeter, an indicator to measure market volatility.",autocompleteText:"damiani_volatmeter(candles, vis_atr=self.hp['damiani_volatmeter_vis_atr'], vis_std=self.hp['damiani_volatmeter_vis_std'], sed_atr=self.hp['damiani_volatmeter_sed_atr'], sed_std=self.hp['damiani_volatmeter_sed_std'], threshold=self.hp['damiani_volatmeter_threshold'], source_type='close', sequential=False)",parameterDescription:{vis_atr:"Sets the ATR period for the visible line, affecting its sensitivity to short-term volatility.",vis_std:"Determines the standard deviation period for the visible line, impacting its reaction to price fluctuations.",sed_atr:"Configures the ATR period for the sedative line, influencing its response to longer-term volatility.",sed_std:"Sets the standard deviation period for the sedative line, affecting its stability and smoothing.",threshold:"Threshold value used to distinguish between high and low market volatility periods."},arguments:"candles: np.ndarray, vis_atr: int = 13, vis_std: int = 20, sed_atr: int = 40, sed_std: int = 100, threshold: float = 1.4, source_type: str = 'close', sequential: bool = False",expectedReturn:"DamianiVolatmeter(vol, anti)",bullishCondition:"Low volatility readings may indicate a potential bullish setup, especially in a consolidating market.",bearishCondition:"High volatility readings can signal bearish conditions, especially in a tumultuous market.",category:"Volatility",commonPairings:["ATR","Bollinger Bands"],bestUsedFor:"Detecting periods of high and low market volatility",historicalReliability:"Medium to High",customizationTips:"Use in combination with trend indicators to identify potential breakout conditions.",hyperparameters:[{name:"damiani_volatmeter_vis_atr",type:"int",min:5,max:25,default:13,step:1},{name:"damiani_volatmeter_vis_std",type:"int",min:10,max:40,default:20,step:1},{name:"damiani_volatmeter_sed_atr",type:"int",min:20,max:60,default:40,step:1},{name:"damiani_volatmeter_sed_std",type:"int",min:50,max:150,default:100,step:10},{name:"damiani_volatmeter_threshold",type:"float",min:1,max:2,default:1.4,step:.1}]},decycler:{description:"Ehlers Simple Decycler, used to identify and filter out cycle components from market data.",autocompleteText:"decycler(candles, hp_period=self.hp['decycler_hp_period'], source_type='close', sequential=False)",parameterDescription:{hp_period:"Specifies the high-pass period for filtering out cycle components, affecting the clarity of trend detection."},arguments:"candles: np.ndarray, hp_period: int = 125, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"When the decycler line is moving upwards, it indicates potential bullish market conditions.",bearishCondition:"When the decycler line is moving downwards, it indicates potential bearish market conditions.",category:"Filter",commonPairings:["EMA","SMA"],bestUsedFor:"Filtering out short-term cycles from price data",historicalReliability:"Medium",customizationTips:"Use as a filter to remove noise; pair with momentum indicators for more precise entries and exits.",hyperparameters:[{name:"decycler_hp_period",type:"int",min:50,max:200,default:125,step:5}]},dec_osc:{description:"Ehlers Decycler Oscillator, a tool for identifying market cycle periods.",autocompleteText:"dec_osc(candles, hp_period=self.hp['dec_osc_hp_period'], k=self.hp['dec_osc_k'], source_type='close', sequential=False)",parameterDescription:{hp_period:"Sets the high-pass period for the oscillator, influencing the detection of market cycle periods.",k:"Adjusts the scaling factor for the oscillator, modifying the amplitude and sensitivity of the output."},arguments:"candles: np.ndarray, hp_period: int = 125, k: float = 1, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A positive decycler oscillator value indicates a bullish market phase.",bearishCondition:"A negative decycler oscillator value indicates a bearish market phase.",category:"Oscillator",commonPairings:["Stochastic Oscillator","RSI"],bestUsedFor:"Identifying market cycle periods",historicalReliability:"Low to Medium",customizationTips:"Combine with other cycle indicators for comprehensive analysis; adjust period for different cycle lengths.",hyperparameters:[{name:"dec_osc_hp_period",type:"int",min:50,max:200,default:125,step:5},{name:"dec_osc_k",type:"float",min:.5,max:2,default:1,step:.1}]},dema:{description:"DEMA - Double Exponential Moving Average, a faster and smoother moving average.",autocompleteText:"dema(candles, period=self.hp['dema_period'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the length of the moving average, impacting the smoothness and responsiveness of the DEMA to price changes."},arguments:"candles: np.ndarray, period: int = 30, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish condition is signaled when the price moves above the DEMA line.",bearishCondition:"A bearish condition is signaled when the price moves below the DEMA line.",category:"Trend",commonPairings:["Trix","MACD"],bestUsedFor:"Smooth trend identification with reduced lag",historicalReliability:"Medium",customizationTips:"Ideal for confirming trends; adjust period based on trading style (short for day trading, long for swing trading).",hyperparameters:[{name:"dema_period",type:"int",min:10,max:60,default:30,step:1}]},devstop:{description:"Kase Dev Stops, used for setting stop-loss orders based on volatility.",autocompleteText:"devstop(candles, period=self.hp['devstop_period'], mult=self.hp['devstop_mult'], devtype=self.hp['devstop_devtype'], direction='long', sequential=False)",parameterDescription:{period:"The number of periods used for the calculation, impacting the sensitivity to price changes.",mult:"Multiplier for the standard deviation, determining the distance of the stop from the price.",devtype:"Type of deviation used in the calculation, influencing the stop's responsiveness to market volatility."},arguments:"candles: np.ndarray, period: int = 20, mult: float = 0, devtype: int = 0, direction: str = 'long', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Kase Dev Stop for a long position.",bearishCondition:"Bearish when the price is below the Kase Dev Stop for a short position.",category:"Volatility",commonPairings:["ADX","ATR"],bestUsedFor:"Determining stop-loss levels based on volatility",historicalReliability:"Medium",customizationTips:"Adjust multiplier and period for different market conditions; use with trend indicators for better stop placement.",hyperparameters:[{name:"devstop_period",type:"int",min:10,max:40,default:20,step:1},{name:"devstop_mult",type:"float",min:0,max:5,default:0,step:.1},{name:"devstop_devtype",type:"int",min:0,max:3,default:0,step:1}]},di:{description:"DI - Directional Indicator, part of the ADX system, measures trend direction and strength.",autocompleteText:"di(candles, period=self.hp['di_period'], sequential=False)",parameterDescription:{period:"Sets the calculation period for the DI, affecting its sensitivity to trend direction and strength."},arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"DI(plus, minus)",bullishCondition:"A bullish signal is given when the +DI line crosses above the -DI line.",bearishCondition:"A bearish signal is given when the -DI line crosses above the +DI line.",category:"Trend",commonPairings:["ADX","DM"],bestUsedFor:"Trend strength and direction analysis",historicalReliability:"Medium to High",customizationTips:"Combine with ADX for comprehensive trend analysis; modify period for sensitivity adjustments.",hyperparameters:[{name:"di_period",type:"int",min:5,max:30,default:14,step:1}]},dm:{description:"DM - Directional Movement, another part of the ADX system, used to determine trend direction.",autocompleteText:"dm(candles, period=self.hp['dm_period'], sequential=False)",parameterDescription:{period:"Determines the time frame over which the DM is calculated, influencing the accuracy of trend direction identification."},arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"DM(plus, minus)",bullishCondition:"A bullish condition occurs when the +DM is above the -DM, indicating upward trend strength.",bearishCondition:"A bearish condition occurs when the -DM is above the +DM, indicating downward trend strength.",category:"Trend",commonPairings:["ADX","DI"],bestUsedFor:"Identifying trend direction",historicalReliability:"Medium",customizationTips:"Pair with ADX for detailed trend strength and direction analysis; adjust period based on market volatility.",hyperparameters:[{name:"dm_period",type:"int",min:5,max:30,default:14,step:1}]},donchian:{description:"Donchian Channels, a volatility indicator that identifies potential breakout levels.",autocompleteText:"donchian(candles, period=self.hp['donchian_period'], sequential=False)",parameterDescription:{period:"Sets the number of periods for the Donchian Channels, affecting the sensitivity to price highs and lows."},arguments:"candles: np.ndarray, period: int = 20, sequential: bool = False",expectedReturn:"DonchianChannel(upperband, middleband, lowerband)",bullishCondition:"A bullish breakout is indicated when price breaches the upper Donchian Channel.",bearishCondition:"A bearish breakout is indicated when price falls below the lower Donchian Channel.",category:"Volatility",commonPairings:["Bollinger Bands","ATR"],bestUsedFor:"Breakout identification and volatility analysis",historicalReliability:"Medium",customizationTips:"Use for breakout strategies; adjust period for market conditions; combine with volume indicators for confirmation.",hyperparameters:[{name:"donchian_period",type:"int",min:10,max:40,default:20,step:1}]},dpo:{description:"DPO - Detrended Price Oscillator, used to identify cycles and overbought/oversold conditions.",autocompleteText:"dpo(candles, period=self.hp['dpo_period'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the length of the moving average from which the oscillator is detrended, impacting the cycle identification."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A positive DPO value indicates an above-average price, suggesting bullish conditions.",bearishCondition:"A negative DPO value indicates a below-average price, suggesting bearish conditions.",category:"Oscillator",commonPairings:["SMA","EMA"],bestUsedFor:"Identifying overbought/oversold conditions",historicalReliability:"Low to Medium",customizationTips:"Combine with moving averages for trend confirmation; adjust period for market cycles.",hyperparameters:[{name:"dpo_period",type:"int",min:3,max:20,default:5,step:1}]},dti:{description:"DTI by William Blau, measures the market's trend and momentum.",autocompleteText:"dti(candles, r=self.hp['dti_r'], s=self.hp['dti_s'], u=self.hp['dti_u'], sequential=False)",parameterDescription:{r:"The period for the initial smoothing of the data, influencing the trend strength calculation.",s:"Sets the secondary smoothing period, affecting the trend's momentum measurement.",u:"Determines the final smoothing period, refining the trend and momentum signals."},arguments:"candles: np.ndarray, r: int = 14, s: int = 10, u: int = 5, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A rising DTI suggests increasing trend strength and momentum, indicating bullish conditions.",bearishCondition:"A falling DTI suggests decreasing trend strength and momentum, indicating bearish conditions.",category:"Trend",commonPairings:["MACD","RSI"],bestUsedFor:"Trend and momentum analysis",historicalReliability:"Medium",customizationTips:"Use in trending markets for best results; pair with momentum indicators for entry/exit signals.",hyperparameters:[{name:"dti_r",type:"int",min:5,max:30,default:14,step:1},{name:"dti_s",type:"int",min:5,max:20,default:10,step:1},{name:"dti_u",type:"int",min:3,max:10,default:5,step:1}]},dx:{description:"DX - Directional Movement Index, part of the ADX system, quantifies trend strength.",autocompleteText:"dx(candles, period=self.hp['dx_period'], sequential=False)",parameterDescription:{period:"Defines the number of periods for calculating the DX, affecting its ability to gauge trend strength."},arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"High DX values (above 25) suggest a strong bullish trend when combined with a rising ADX.",bearishCondition:"High DX values (above 25) suggest a strong bearish trend when combined with a falling ADX.",category:"Trend Strength",commonPairings:["ADX","DI"],bestUsedFor:"Quantifying trend strength",historicalReliability:"Medium",customizationTips:"Combine with ADX and DI for comprehensive trend analysis; adjust the period for market volatility.",hyperparameters:[{name:"dx_period",type:"int",min:5,max:30,default:14,step:1}]},edcf:{description:"Ehlers Distance Coefficient Filter, used for smoothing price data while preserving cycle components.",autocompleteText:"edcf(candles, period=self.hp['edcf_period'], source_type='hl2', sequential=False)",parameterDescription:{period:"The time frame over which the EDCF is calculated, influencing its effectiveness in smoothing price data while preserving cycles."},arguments:"candles: np.ndarray, period: int = 15, source_type: str = 'hl2', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"An upward trend in the EDCF line can indicate bullish market conditions.",bearishCondition:"A downward trend in the EDCF line can indicate bearish market conditions.",category:"Filter",commonPairings:["EMA","MACD"],bestUsedFor:"Smoothing price data while preserving cycle components",historicalReliability:"Medium",customizationTips:"Use to filter out short-term noise; adjust period based on market conditions; pair with momentum indicators.",hyperparameters:[{name:"edcf_period",type:"int",min:5,max:30,default:15,step:1}]},efi:{description:"EFI - Elders Force Index, combines price and volume to measure the strength of bulls and bears.",autocompleteText:"efi(candles, period=self.hp['efi_period'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the length of the moving average applied to the EFI, impacting the sensitivity to price and volume changes."},arguments:"candles: np.ndarray, period: int = 13, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A positive EFI suggests strong buying pressure, indicating bullish conditions.",bearishCondition:"A negative EFI suggests strong selling pressure, indicating bearish conditions.",category:"Volume",commonPairings:["EMA","VWAP"],bestUsedFor:"Measuring the force of price movements with volume",historicalReliability:"Medium",customizationTips:"Combine with volume trends for confirmation; pair with moving averages for price movement context.",hyperparameters:[{name:"efi_period",type:"int",min:5,max:30,default:13,step:1}]},ema:{description:"EMA - Exponential Moving Average, a type of moving average that places a greater weight on recent data.",autocompleteText:"ema(candles, period=self.hp['ema_period'], source_type='close', sequential=False)",parameterDescription:{period:"Specifies the number of periods used in the EMA calculation, affecting the average's responsiveness to recent price changes."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal is indicated when the price is above the EMA line.",bearishCondition:"A bearish signal is indicated when the price is below the EMA line.",category:"Trend",commonPairings:["SMA","MACD"],bestUsedFor:"Identifying trend direction and strength",historicalReliability:"High",customizationTips:"Use multiple EMA periods for trend crossovers; adjust period for short or long-term analysis.",hyperparameters:[{name:"ema_period",type:"int",min:3,max:50,default:5,step:1}]},emd:{description:"Empirical Mode Decomposition by John F. Ehlers and Ric Way, used for analyzing market cycles.",autocompleteText:"emd(candles, period=self.hp['emd_period'], delta=self.hp['emd_delta'], fraction=self.hp['emd_fraction'], sequential=False)",parameterDescription:{period:"The number of periods used for decomposition, impacting the detection of market cycles.",delta:"Determines the sensitivity of the EMD to price changes, affecting cycle amplitude.",fraction:"Sets the fraction of the cycle period used for filtering, influencing the clarity of cycle trends."},arguments:"candles: np.ndarray, period: int = 20, delta: float = 0.5, fraction: float = 0.1, sequential: bool = False",expectedReturn:"EMD(upperband, middleband, lowerband)",bullishCondition:"A bullish condition is signaled when the price is in the upper half of the EMD bands.",bearishCondition:"A bearish condition is signaled when the price is in the lower half of the EMD bands.",category:"Cycle",commonPairings:["RSI","Stochastic Oscillator"],bestUsedFor:"Analyzing market cycles",historicalReliability:"Medium",customizationTips:"Effective in cyclic markets; use with other cycle indicators for confirmation; adjust period for cycle length.",hyperparameters:[{name:"emd_period",type:"int",min:10,max:40,default:20,step:1},{name:"emd_delta",type:"float",min:.1,max:1,default:.5,step:.1},{name:"emd_fraction",type:"float",min:.05,max:.2,default:.1,step:.01}]},emv:{description:"EMV - Ease of Movement, measures the ease of price movement in a security.",autocompleteText:"emv(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A rising EMV value suggests ease of upward price movement, indicating bullish conditions.",bearishCondition:"A falling EMV value suggests ease of downward price movement, indicating bearish conditions.",category:"Volume and Price",commonPairings:["Volume","Price Oscillators"],bestUsedFor:"Identifying ease of price movement",historicalReliability:"Medium",customizationTips:"Use with volume indicators for confirmation; adjust sensitivity for market volatility."},epma:{description:"EPMA - End Point Moving Average, focuses on the most recent data points to calculate the average.",autocompleteText:"epma(candles, period=self.hp['epma_period'], offset=self.hp['epma_offset'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the length of the moving average, affecting its sensitivity to recent price changes.",offset:"Determines the end point offset, influencing the focus on the most recent data points."},arguments:"candles: np.ndarray, period: int = 11, offset: int = 4, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal occurs when the price is above the EPMA line.",bearishCondition:"A bearish signal occurs when the price is below the EPMA line.",category:"Trend",commonPairings:["SMA","EMA"],bestUsedFor:"Highlighting recent price trends",historicalReliability:"Medium",customizationTips:"Effective for short-term trends; adjust offset for responsiveness; pair with longer-term moving averages.",hyperparameters:[{name:"epma_period",type:"int",min:5,max:20,default:11,step:1},{name:"epma_offset",type:"int",min:0,max:10,default:4,step:1}]},er:{description:"ER - The Kaufman Efficiency indicator, measures the efficiency of the price movement.",autocompleteText:"er(candles, period=self.hp['er_period'], source_type='close', sequential=False)",parameterDescription:{period:"Defines the number of periods for calculating the Efficiency Ratio, impacting its sensitivity to trend efficiency."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Higher ER values indicate a strong and efficient bullish trend.",bearishCondition:"Lower ER values indicate a weak or inefficient bearish trend.",category:"Trend Strength",commonPairings:["ADX","RSI"],bestUsedFor:"Measuring trend efficiency",historicalReliability:"Medium to High",customizationTips:"Combine with trend-following indicators; adjust period for market conditions.",hyperparameters:[{name:"er_period",type:"int",min:3,max:20,default:5,step:1}]},eri:{description:"ERI - Elder Ray Index, combines bull and bear power to assess market conditions.",autocompleteText:"eri(candles, period=self.hp['eri_period'], matype=self.hp['eri_matype'], source_type='close', sequential=False)",parameterDescription:{period:"The lookback period for calculating bull and bear power, affecting the sensitivity of the ERI.",matype:"Specifies the type of moving average used, influencing how the bull and bear power are calculated."},arguments:"candles: np.ndarray, period: int = 13, matype: int = 1, source_type: str = 'close', sequential: bool = False",expectedReturn:"ERI(bull, bear)",bullishCondition:"A bullish condition is indicated when the Bull Power is greater than Bear Power in ERI.",bearishCondition:"A bearish condition is indicated when the Bear Power is greater than Bull Power in ERI.",category:"Momentum",commonPairings:["MACD","Stochastic Oscillator"],bestUsedFor:"Assessing bull and bear power",historicalReliability:"Medium",customizationTips:"Use in conjunction with other momentum indicators; adjust MA type for different market perspectives.",hyperparameters:[{name:"eri_period",type:"int",min:5,max:30,default:13,step:1},{name:"eri_matype",type:"int",min:0,max:4,default:1,step:1}]},fisher:{description:"The Fisher Transform helps identify price reversals by transforming prices into a Gaussian normal distribution.",autocompleteText:"fisher(candles, period=self.hp['fisher_period'], sequential=False)",parameterDescription:{period:"Determines the length of the lookback window for transforming prices, impacting the sensitivity to price reversals."},arguments:"candles: np.ndarray, period: int = 9, sequential: bool = False",expectedReturn:"FisherTransform(fisher, signal)",bullishCondition:"A bullish signal occurs when the Fisher Transform crosses above its signal line or is above zero.",bearishCondition:"A bearish signal occurs when the Fisher Transform crosses below its signal line or is below zero.",category:"Momentum",commonPairings:["MACD","RSI"],bestUsedFor:"Identifying price reversals",historicalReliability:"Medium",customizationTips:"Pair with trend indicators for confirmation; adjust period to capture significant market moves.",hyperparameters:[{name:"fisher_period",type:"int",min:5,max:20,default:9,step:1}]},fosc:{description:"FOSC - Forecast Oscillator, compares the closing price to the average price over a period.",autocompleteText:"fosc(candles, period=self.hp['fosc_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the period over which the forecast price is calculated, influencing the comparison with the closing price."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A positive FOSC value suggests the closing price is above the forecast price, indicating bullish conditions.",bearishCondition:"A negative FOSC value suggests the closing price is below the forecast price, indicating bearish conditions.",category:"Momentum",commonPairings:["MACD","RSI"],bestUsedFor:"Comparing closing price to forecast price",historicalReliability:"Medium",customizationTips:"Adjust period for forecast accuracy; useful for medium-term trends.",hyperparameters:[{name:"fosc_period",type:"int",min:3,max:20,default:5,step:1}]},frama:{description:"Fractal Adaptive Moving Average (FRAMA) uses fractal geometry to dynamically adjust its smoothing period.",autocompleteText:"frama(candles, window=self.hp['frama_window'], FC=self.hp['frama_FC'], SC=self.hp['frama_SC'], sequential=False)",parameterDescription:{window:"The window size for calculating the FRAMA, affecting its adaptability to market conditions.",FC:"Fast constant used to adjust the sensitivity of the FRAMA to recent price changes.",SC:"Slow constant for the FRAMA, determining its responsiveness to longer-term market trends."},arguments:"candles: np.ndarray, window: int = 10, FC: int = 1, SC: int = 300, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal is indicated when the price is above the FRAMA line.",bearishCondition:"A bearish signal is indicated when the price is below the FRAMA line.",category:"Trend",commonPairings:["EMA","SMA"],bestUsedFor:"Adapting to market volatility",historicalReliability:"High",customizationTips:"Vary window and scaling factors for different market phases; combine with price action analysis.",hyperparameters:[{name:"frama_window",type:"int",min:5,max:30,default:10,step:1},{name:"frama_FC",type:"int",min:1,max:10,default:1,step:1},{name:"frama_SC",type:"int",min:50,max:500,default:300,step:10}]},fwma:{description:"FWMA - Fibonacci's Weighted Moving Average, a moving average weighted by Fibonacci ratios.",autocompleteText:"fwma(candles, period=self.hp['fwma_period'], source_type='close', sequential=False)",parameterDescription:{period:"The number of periods over which the FWMA is calculated, influencing its sensitivity to price changes based on Fibonacci ratios."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal occurs when the price is above the FWMA line.",bearishCondition:"A bearish signal occurs when the price is below the FWMA line.",category:"Trend",commonPairings:["Fibonacci Retracement","EMA"],bestUsedFor:"Incorporating Fibonacci sequence in trend analysis",historicalReliability:"Medium",customizationTips:"Use in conjunction with Fibonacci levels; adjust period for trend sensitivity.",hyperparameters:[{name:"fwma_period",type:"int",min:3,max:20,default:5,step:1}]},gatorosc:{description:"Gator Oscillator by Bill M. Williams, used to identify converging and diverging trends.",autocompleteText:"gatorosc(candles, source_type='close', sequential=False)",arguments:"candles: np.ndarray, source_type: str = 'close', sequential: bool = False",expectedReturn:"GATOR(upper, lower, upper_change, lower_change)",bullishCondition:"A bullish trend is indicated when the Gator Oscillator shows green bars (expanding upward).",bearishCondition:"A bearish trend is indicated when the Gator Oscillator shows red bars (expanding downward).",category:"Momentum",commonPairings:["Alligator Indicator","Fractals"],bestUsedFor:"Identifying trend phases and convergence/divergence",historicalReliability:"Medium",customizationTips:"Use with Alligator Indicator for trend confirmation; monitor bar colors for trend strength."},gauss:{description:"Gaussian Filter, a smoothing technique that reduces noise and lag in data.",autocompleteText:"gauss(candles, period=self.hp['gauss_period'], poles=self.hp['gauss_poles'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the length of the filter, impacting how the Gaussian smoothing is applied to the data.",poles:"The number of poles used in the filter, affecting the degree of smoothing and responsiveness."},arguments:"candles: np.ndarray, period: int = 14, poles: int = 4, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal is indicated when the price is above the Gaussian Filter line.",bearishCondition:"A bearish signal is indicated when the price is below the Gaussian Filter line.",category:"Trend",commonPairings:["SMA","EMA"],bestUsedFor:"Reducing noise and lag in data",historicalReliability:"Medium to High",customizationTips:"Adjust period and poles for smoothing; effective in identifying major trends.",hyperparameters:[{name:"gauss_period",type:"int",min:5,max:30,default:14,step:1},{name:"gauss_poles",type:"int",min:1,max:5,default:4,step:1}]},heikin_ashi_candles:{description:"Heikin Ashi candlesticks, a technique that averages price data to create a Japanese candlestick chart that filters out market noise.",autocompleteText:"heikin_ashi_candles(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool = False",expectedReturn:"HA(open, close, high, low)",bullishCondition:"A bullish trend is indicated by a series of Heikin Ashi candlesticks with no lower shadows and larger bodies.",bearishCondition:"A bearish trend is indicated by Heikin Ashi candlesticks with no upper shadows and larger bodies.",category:"Trend",commonPairings:["Candlestick Patterns","EMA"],bestUsedFor:"Identifying trend direction and strength",historicalReliability:"Medium",customizationTips:"Use in conjunction with traditional candlestick patterns for trend confirmation."},high_pass:{description:"1-pole High Pass Filter by John F. Ehlers, used to reduce lower frequency components of a time series.",autocompleteText:"high_pass(candles, period=self.hp['high_pass_period'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the cutoff period for the high pass filter, affecting its ability to isolate higher frequency components."},arguments:"candles: np.ndarray, period: int = 48, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish trend is suggested when the high pass filter line is moving upwards.",bearishCondition:"A bearish trend is suggested when the high pass filter line is moving downwards.",category:"Filter",commonPairings:["EMA","MACD"],bestUsedFor:"Reducing lower frequency components in a time series",historicalReliability:"Medium",customizationTips:"Adjust the period for sensitivity to shorter cycles; combine with oscillators for trend confirmation.",hyperparameters:[{name:"high_pass_period",type:"int",min:10,max:60,default:48,step:1}]},high_pass_2_pole:{description:"2-pole High Pass Filter by John F. Ehlers, designed to isolate shorter cycles in a time series.",autocompleteText:"high_pass_2_pole(candles, period=self.hp['high_pass_2_pole_period'], source_type='close', sequential=False)",parameterDescription:{period:"Specifies the period for the 2-pole high pass filter, influencing its effectiveness in isolating shorter cycles."},arguments:"candles: np.ndarray, period: int = 48, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish trend is indicated when the 2-pole high pass filter line is trending upwards.",bearishCondition:"A bearish trend is indicated when the 2-pole high pass filter line is trending downwards.",category:"Filter",commonPairings:["Stochastic Oscillator","RSI"],bestUsedFor:"Isolating shorter cycles in a time series",historicalReliability:"Medium",customizationTips:"Use to enhance shorter cycle identification; effective in choppy or sideways markets.",hyperparameters:[{name:"high_pass_2_pole_period",type:"int",min:10,max:60,default:48,step:1}]},hma:{description:"Hull Moving Average, a fast and smooth moving average to reduce lag and increase responsiveness.",autocompleteText:"hma(candles, period=self.hp['hma_period'], source_type='close', sequential=False)",parameterDescription:{period:"The number of periods used to calculate the Hull Moving Average, impacting its smoothness and responsiveness."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal is indicated when the price moves above the Hull Moving Average line.",bearishCondition:"A bearish signal is indicated when the price moves below the Hull Moving Average line.",category:"Trend",commonPairings:["Candlestick Patterns","Bollinger Bands"],bestUsedFor:"Reducing lag and increasing responsiveness",historicalReliability:"High",customizationTips:"Vary the period for different trading styles; combine with momentum indicators for trend confirmation.",hyperparameters:[{name:"hma_period",type:"int",min:3,max:30,default:5,step:1}]},ht_dcperiod:{description:"HT_DCPERIOD - Hilbert Transform - Dominant Cycle Period, identifies the dominant cycle period in a time series.",autocompleteText:"ht_dcperiod(candles, source_type='close', sequential=False)",arguments:"candles: np.ndarray, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish or bearish conditions are less directly indicated, as HT_DCPERIOD focuses on identifying the dominant cycle period.",bearishCondition:"Bullish or bearish conditions are less directly indicated, as HT_DCPERIOD focuses on identifying the dominant cycle period.",category:"Cycle",commonPairings:["Oscillators","HT_Trendline"],bestUsedFor:"Identifying dominant cycle periods",historicalReliability:"Medium",customizationTips:"Use in conjunction with other Hilbert Transform indicators for cycle analysis; less useful for direct trading signals."},ht_dcphase:{description:"HT_DCPHASE - Hilbert Transform - Dominant Cycle Phase, measures the phase of the dominant cycle.",autocompleteText:"ht_dcphase(candles, source_type='close', sequential=False)",arguments:"candles: np.ndarray, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish conditions may be inferred when the HT_DCPHASE is rising, indicating a positive phase of the dominant cycle.",bearishCondition:"Bearish conditions may be inferred when the HT_DCPHASE is falling, indicating a negative phase of the dominant cycle.",category:"Cycle",commonPairings:["HT_Trendline","HT_Sine"],bestUsedFor:"Measuring the phase of the dominant cycle",historicalReliability:"Medium",customizationTips:"Combine with other Hilbert Transform indicators for comprehensive cycle analysis."},ht_phasor:{description:"HT_PHASOR - Hilbert Transform - Phasor Components, used to calculate the in-phase and quadrature components.",autocompleteText:"ht_phasor(candles, source_type='close', sequential=False)",arguments:"candles: np.ndarray, source_type: str = 'close', sequential: bool = False",expectedReturn:"IQ(inphase, quadrature)",bullishCondition:"Bullish conditions are suggested when the in-phase component is above the quadrature component.",bearishCondition:"Bearish conditions are suggested when the in-phase component is below the quadrature component.",category:"Cycle",commonPairings:["Oscillators","Momentum Indicators"],bestUsedFor:"Cycle analysis in different market phases",historicalReliability:"Medium",customizationTips:"Use with trend-following indicators for phase alignment analysis."},ht_sine:{description:"HT_SINE - Hilbert Transform - SineWave, identifies market cycles and their turning points.",autocompleteText:"ht_sine(candles, source_type='close', sequential=False)",arguments:"candles: np.ndarray, source_type: str = 'close', sequential: bool = False",expectedReturn:"SINEWAVE(sine, lead)",bullishCondition:"A bullish signal is given when the sine wave crosses above the lead sine.",bearishCondition:"A bearish signal is given when the sine wave crosses below the lead sine.",category:"Cycle",commonPairings:["MACD","Stochastic Oscillator"],bestUsedFor:"Identifying market cycles and turning points",historicalReliability:"Medium",customizationTips:"Ideal for timing entries and exits in cyclical markets."},ht_trendline:{description:"HT_TRENDLINE - Hilbert Transform - Instantaneous Trendline, a smooth, responsive trendline indicator.",autocompleteText:"ht_trendline(candles, source_type='close', sequential=False)",arguments:"candles: np.ndarray, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish trend is indicated when the price is above the HT_TRENDLINE.",bearishCondition:"A bearish trend is indicated when the price is below the HT_TRENDLINE.",category:"Trend",commonPairings:["EMA","Bollinger Bands"],bestUsedFor:"Providing a smooth, responsive trendline indicator",historicalReliability:"High",customizationTips:"Effective as a standalone trend indicator or in conjunction with oscillators."},ht_trendmode:{description:"HT_TRENDMODE - Hilbert Transform - Trend vs Cycle Mode, differentiates between trending and cyclical market phases.",autocompleteText:"ht_trendmode(candles, source_type='close', sequential=False)",arguments:"candles: np.ndarray, source_type: str = 'close', sequential: bool = False",expectedReturn:"int | np.ndarray",bullishCondition:"A value of 1 (trending mode) can suggest bullish conditions if the overall trend is upward.",bearishCondition:"A value of 1 (trending mode) can suggest bearish conditions if the overall trend is downward.",category:"Cycle",commonPairings:["ADX","RSI"],bestUsedFor:"Differentiating between trending and cyclical market phases",historicalReliability:"Medium",customizationTips:"Combine with trend indicators to distinguish between trend and consolidation phases."},hurst_exponent:{description:"Hurst Exponent, measures the long-term memory of time series, indicating a trending or mean-reverting market.",autocompleteText:"hurst_exponent(candles, min_chunksize=self.hp['hurst_min_chunksize'], max_chunksize=self.hp['hurst_max_chunksize'], num_chunksize=self.hp['hurst_num_chunksize'], method=self.hp['hurst_method'], source_type='close')",parameterDescription:{min_chunksize:"The minimum size for data chunks used in calculations, affecting the sensitivity to shorter time frames.",max_chunksize:"The maximum chunk size for analysis, influencing the long-term trend assessment.",num_chunksize:"The number of different chunk sizes to use, impacting the robustness of the trend analysis.",method:"Determines the calculation method for the Hurst Exponent, affecting the interpretation of market trends."},arguments:"candles: np.ndarray, min_chunksize: int = 8, max_chunksize: int = 200, num_chunksize: int = 5, method: int = 1, source_type: str = 'close'",expectedReturn:"float",bullishCondition:"A Hurst exponent close to 1 indicates a strong bullish trend.",bearishCondition:"A Hurst exponent close to 0 indicates a strong bearish trend.",category:"Statistical",commonPairings:["MACD","Moving Averages"],bestUsedFor:"Identifying a trending or mean-reverting market",historicalReliability:"Medium",customizationTips:"Useful for longer-term trend analysis and prediction.",hyperparameters:[{name:"hurst_min_chunksize",type:"int",min:4,max:20,default:8,step:1},{name:"hurst_max_chunksize",type:"int",min:50,max:300,default:200,step:10},{name:"hurst_num_chunksize",type:"int",min:1,max:10,default:5,step:1},{name:"hurst_method",type:"int",min:0,max:2,default:1,step:1}]},hwma:{description:"Holt-Winter Moving Average, a smoothing technique that accounts for trends and seasonality in time series data.",autocompleteText:"hwma(candles, na=self.hp['hwma_na'], nb=self.hp['hwma_nb'], nc=self.hp['hwma_nc'], source_type='close', sequential=False)",parameterDescription:{na:"The alpha parameter, controlling the level of smoothing applied to the series.",nb:"The beta parameter, affecting the trend component of the series.",nc:"The gamma parameter, adjusting the seasonal component of the series."},arguments:"candles: np.ndarray, na: float = 0.2, nb: float = 0.1, nc: float = 0.1, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal is indicated when the price is above the Holt-Winter Moving Average.",bearishCondition:"A bearish signal is indicated when the price is below the Holt-Winter Moving Average.",category:"Trend",commonPairings:["MACD","RSI"],bestUsedFor:"Identifying trends in seasonal data",historicalReliability:"Medium",customizationTips:"Adjust alpha, beta, gamma values to fit the seasonal cycle of the market.",hyperparameters:[{name:"hwma_na",type:"float",min:.1,max:.5,default:.2,step:.05},{name:"hwma_nb",type:"float",min:.05,max:.3,default:.1,step:.05},{name:"hwma_nc",type:"float",min:.05,max:.3,default:.1,step:.05}]},ichimoku_cloud:{description:"Ichimoku Cloud, a comprehensive indicator that provides information about trend, momentum, and support/resistance levels.",autocompleteText:"ichimoku_cloud(candles, conversion_line_period=self.hp['ichimoku_conversion_line_period'], base_line_period=self.hp['ichimoku_base_line_period'], lagging_line_period=self.hp['ichimoku_lagging_line_period'], displacement=self.hp['ichimoku_displacement'])",parameterDescription:{conversion_line_period:"The period for the Conversion Line, influencing short-term trend signals.",base_line_period:"The period for the Base Line, used to assess medium-term trends.",lagging_line_period:"The period for the Lagging Line, providing a longer-term trend context.",displacement:"Shifts the Cloud forward or backward, affecting how it relates to current prices."},arguments:"candles: np.ndarray, conversion_line_period: int = 9, base_line_period: int = 26, lagging_line_period: int = 52, displacement: int = 26",expectedReturn:"IchimokuCloud(conversion_line, base_line, span_a, span_b)",bullishCondition:"Bullish when the price is above the Cloud and the Conversion Line is above the Base Line.",bearishCondition:"Bearish when the price is below the Cloud and the Conversion Line is below the Base Line.",category:"Trend",commonPairings:["RSI","MACD"],bestUsedFor:"Trend identification and support/resistance levels",historicalReliability:"High",customizationTips:"Use with other trend confirmation tools for effective trading strategies.",hyperparameters:[{name:"ichimoku_conversion_line_period",type:"int",min:5,max:20,default:9,step:1},{name:"ichimoku_base_line_period",type:"int",min:10,max:40,default:26,step:1},{name:"ichimoku_lagging_line_period",type:"int",min:20,max:80,default:52,step:1},{name:"ichimoku_displacement",type:"int",min:10,max:40,default:26,step:1}]},ichimoku_cloud_seq:{description:"Ichimoku Cloud Sequential, a variant of the Ichimoku Cloud with sequential data processing.",autocompleteText:"ichimoku_cloud_seq(candles, conversion_line_period=self.hp['ichimoku_conversion_line_seq_period'], base_line_period=self.hp['ichimoku_base_line_seq_period'], lagging_line_period=self.hp['ichimoku_lagging_line_seq_period'], displacement=self.hp['ichimoku_displacement_seq'], sequential=False)",parameterDescription:{conversion_line_period:"Period for the Conversion Line, affecting short-term trend analysis in a sequential manner.",base_line_period:"Period for the Base Line, used for medium-term trend assessment in sequence.",lagging_line_period:"Period for the Lagging Line, giving a sequential longer-term trend perspective.",displacement:"Determines the Cloud's position relative to current prices, impacting its predictive capacity."},arguments:"candles: np.ndarray, conversion_line_period: int = 9, base_line_period: int = 26, lagging_line_period: int = 52, displacement: int = 26, sequential: bool = False",expectedReturn:"IchimokuCloud(conversion_line, base_line, span_a, span_b, lagging_line, future_span_a, future_span_b)",bullishCondition:"Similar to the regular Ichimoku Cloud, bullish when the price is above the Cloud with a positive Conversion and Base Line crossover.",bearishCondition:"Similar to the regular Ichimoku Cloud, bearish when the price is below the Cloud with a negative Conversion and Base Line crossover.",category:"Trend",commonPairings:["Stochastic Oscillator","Bollinger Bands"],bestUsedFor:"In-depth trend analysis and potential future price movements",historicalReliability:"High",customizationTips:"Utilize sequential data processing for dynamic trend analysis.",hyperparameters:[{name:"ichimoku_conversion_line_seq_period",type:"int",min:5,max:20,default:9,step:1},{name:"ichimoku_base_line_seq_period",type:"int",min:10,max:40,default:26,step:1},{name:"ichimoku_lagging_line_seq_period",type:"int",min:20,max:80,default:52,step:1},{name:"ichimoku_displacement_seq",type:"int",min:10,max:40,default:26,step:1}]},ift_rsi:{description:"Modified Inverse Fisher Transform applied on RSI, used to sharpen and normalize the RSI indicator.",autocompleteText:"ift_rsi(candles, rsi_period=self.hp['ift_rsi_period'], wma_period=self.hp['ift_rsi_wma_period'], source_type='close', sequential=False)",parameterDescription:{rsi_period:"The period for calculating the RSI, influencing the underlying momentum measurement.",wma_period:"The period for the weighted moving average applied to the RSI, affecting the smoothing and signal generation."},arguments:"candles: np.ndarray, rsi_period: int = 5, wma_period: int = 9, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal occurs when the IFT RSI crosses above its signal line or is above zero.",bearishCondition:"A bearish signal occurs when the IFT RSI crosses below its signal line or is below zero.",category:"Momentum",commonPairings:["Stochastic","CCI"],bestUsedFor:"Sharpening and normalizing RSI indicator",historicalReliability:"Medium",customizationTips:"Combine with classic RSI for enhanced signal interpretation.",hyperparameters:[{name:"ift_rsi_period",type:"int",min:3,max:20,default:5,step:1},{name:"ift_rsi_wma_period",type:"int",min:3,max:20,default:9,step:1}]},itrend:{description:"Instantaneous Trendline, uses an alpha factor to reduce lag in moving averages and highlight trends.",autocompleteText:"itrend(candles, alpha=self.hp['itrend_alpha'], source_type='hl2', sequential=False)",parameterDescription:{alpha:"The smoothing factor that reduces lag in the moving average, enhancing the detection of trend changes."},arguments:"candles: np.ndarray, alpha: float = 0.07, source_type: str = 'hl2', sequential: bool = False",expectedReturn:"ITREND(signal, it, trigger)",bullishCondition:"A bullish condition is indicated when the price is above the Instantaneous Trendline.",bearishCondition:"A bearish condition is indicated when the price is below the Instantaneous Trendline.",category:"Trend",commonPairings:["ADX","EMA"],bestUsedFor:"Reducing lag in moving averages and highlighting trends",historicalReliability:"Medium",customizationTips:"Ideal for identifying start of trends; combine with oscillators for exits.",hyperparameters:[{name:"itrend_alpha",type:"float",min:.01,max:.2,default:.07,step:.01}]},jma:{description:"Jurik Moving Average, known for its smoothness and low lag in reflecting price movements.",autocompleteText:"jma(candles, period=self.hp['jma_period'], phase=self.hp['jma_phase'], power=self.hp['jma_power'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the calculation period for the JMA, affecting its responsiveness to price movements.",phase:"Controls the amount of lag or lead in the moving average, adjusting its alignment with current trends.",power:"Sets the degree of smoothing, balancing between reducing noise and maintaining signal integrity."},arguments:"candles: np.ndarray, period: int = 7, phase: float = 50, power: int = 2, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal is indicated when the price is above the Jurik Moving Average.",bearishCondition:"A bearish signal is indicated when the price is below the Jurik Moving Average.",category:"Trend",commonPairings:["RSI","MACD"],bestUsedFor:"Smooth trend following and reducing market noise",historicalReliability:"High",customizationTips:"Adjust the phase and power parameters to balance smoothness and responsiveness.",hyperparameters:[{name:"jma_period",type:"int",min:3,max:20,default:7,step:1},{name:"jma_phase",type:"float",min:-100,max:100,default:50,step:10},{name:"jma_power",type:"int",min:1,max:4,default:2,step:1}]},jsa:{description:"Jsa Moving Average, a moving average indicator with specific smoothing characteristics.",autocompleteText:"jsa(candles, period=self.hp['jsa_period'], source_type='close', sequential=False)",parameterDescription:{period:"Specifies the number of periods used in calculating the Jsa Moving Average, influencing its trend detection capability."},arguments:"candles: np.ndarray, period: int = 30, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish condition is suggested when the price is above the Jsa Moving Average.",bearishCondition:"A bearish condition is suggested when the price is below the Jsa Moving Average.",category:"Trend",commonPairings:["Bollinger Bands","Stochastic"],bestUsedFor:"Identifying trend direction and strength",historicalReliability:"Medium",customizationTips:"Use in combination with momentum indicators for trend confirmation.",hyperparameters:[{name:"jsa_period",type:"int",min:10,max:50,default:30,step:1}]},kama:{description:"KAMA - Kaufman Adaptive Moving Average, adapts to price volatility and is used to identify market trends.",autocompleteText:"kama(candles, period=self.hp['kama_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the lookback period for the KAMA, impacting its adaptability to market volatility and trend direction."},arguments:"candles: np.ndarray, period: int = 30, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal is indicated when the price is above the Kaufman Adaptive Moving Average.",bearishCondition:"A bearish signal is indicated when the price is below the Kaufman Adaptive Moving Average.",category:"Trend",commonPairings:["ADX","CCI"],bestUsedFor:"Identifying trend direction in volatile markets",historicalReliability:"Medium",customizationTips:"Adjust the period for different market conditions to improve adaptability.",hyperparameters:[{name:"kama_period",type:"int",min:10,max:50,default:30,step:1}]},kaufmanstop:{description:"Perry Kaufman's Stops, a volatility-based indicator for setting stop-loss or take-profit levels.",autocompleteText:"kaufmanstop(candles, period=self.hp['kaufmanstop_period'], mult=self.hp['kaufmanstop_mult'], direction='long', matype=self.hp['kaufmanstop_matype'], sequential=False)",parameterDescription:{period:"The number of periods used for calculating the moving average, influencing the stop level.",mult:"Multiplier for the average true range, determining the distance of the stop from the price.",matype:"Type of moving average used, affecting the calculation of the stop level."},arguments:"candles: np.ndarray, period: int = 22, mult: float = 2, direction: str = 'long', matype: int = 0, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above Kaufman's Stops for a long position.",bearishCondition:"Bearish when the price is below Kaufman's Stops for a short position.",category:"Volatility",commonPairings:["ATR","Parabolic SAR"],bestUsedFor:"Setting dynamic stop-loss or take-profit levels",historicalReliability:"Medium",customizationTips:"Combine with trend indicators to set optimal stop-loss levels.",hyperparameters:[{name:"kaufmanstop_period",type:"int",min:10,max:30,default:22,step:1},{name:"kaufmanstop_mult",type:"float",min:1,max:4,default:2,step:.1},{name:"kaufmanstop_matype",type:"int",min:0,max:4,default:0,step:1}]},kdj:{description:"The KDJ Oscillator, a stochastic oscillator that includes a 'J' line for better accuracy in predicting price movements.",autocompleteText:"kdj(candles, fastk_period=self.hp['kdj_fastk_period'], slowk_period=self.hp['kdj_slowk_period'], slowk_matype=self.hp['kdj_slowk_matype'], slowd_period=self.hp['kdj_slowd_period'], slowd_matype=self.hp['kdj_slowd_matype'], sequential=False)",parameterDescription:{fastk_period:"Period for the fast %K line, affecting the oscillator's sensitivity to price movements.",slowk_period:"Period for smoothing the %K line, influencing the slow %K line calculation.",slowk_matype:"Moving average type for the slow %K line, affecting its smoothness.",slowd_period:"Period for calculating the slow %D line, impacting the signal line's responsiveness.",slowd_matype:"Type of moving average used for the slow %D line, affecting its calculation."},arguments:"candles: np.ndarray, fastk_period: int = 9, slowk_period: int = 3, slowk_matype: int = 0, slowd_period: int = 3, slowd_matype: int = 0, sequential: bool = False",expectedReturn:"KDJ(k, d, j)",bullishCondition:"Bullish signals are given when the K and D lines cross above the J line or when they are moving upwards from oversold conditions.",bearishCondition:"Bearish signals are given when the K and D lines cross below the J line or when they are moving downwards from overbought conditions.",category:"Momentum",commonPairings:["MACD","RSI"],bestUsedFor:"Identifying overbought or oversold conditions",historicalReliability:"Medium",customizationTips:"Adjust the periods for different market conditions for improved signal accuracy.",hyperparameters:[{name:"kdj_fastk_period",type:"int",min:3,max:20,default:9,step:1},{name:"kdj_slowk_period",type:"int",min:1,max:10,default:3,step:1},{name:"kdj_slowk_matype",type:"int",min:0,max:4,default:0,step:1},{name:"kdj_slowd_period",type:"int",min:1,max:10,default:3,step:1},{name:"kdj_slowd_matype",type:"int",min:0,max:4,default:0,step:1}]},keltner:{description:"Keltner Channels, a volatility-based envelope set above and below an exponential moving average, used to identify trend direction.",autocompleteText:"keltner(candles, period=self.hp['keltner_period'], multiplier=self.hp['keltner_multiplier'], matype=self.hp['keltner_matype'], source_type='close', sequential=False)",parameterDescription:{period:"The base period for the moving average at the center of the channels, affecting trend identification.",multiplier:"Multiplier for the average true range, determining the width of the channels.",matype:"Type of moving average used, impacting the calculation of the central line."},arguments:"candles: np.ndarray, period: int = 20, multiplier: float = 2, matype: int = 1, source_type: str = 'close', sequential: bool = False",expectedReturn:"KeltnerChannel(upperband, middleband, lowerband)",bullishCondition:"A bullish signal is indicated when the price moves above the upper Keltner Channel.",bearishCondition:"A bearish signal is indicated when the price moves below the lower Keltner Channel.",category:"Volatility",commonPairings:["Bollinger Bands","ATR"],bestUsedFor:"Identifying potential breakouts and trend strength",historicalReliability:"High",customizationTips:"Vary the multiplier for different volatility levels.",hyperparameters:[{name:"keltner_period",type:"int",min:10,max:40,default:20,step:1},{name:"keltner_multiplier",type:"float",min:1,max:4,default:2,step:.1},{name:"keltner_matype",type:"int",min:0,max:4,default:1,step:1}]},kst:{description:"Know Sure Thing (KST), a momentum oscillator that combines multiple smoothed rates of change.",autocompleteText:"kst(candles, sma_period1=self.hp['kst_sma_period1'], sma_period2=self.hp['kst_sma_period2'], sma_period3=self.hp['kst_sma_period3'], sma_period4=self.hp['kst_sma_period4'], roc_period1=self.hp['kst_roc_period1'], roc_period2=self.hp['kst_roc_period2'], roc_period3=self.hp['kst_roc_period3'], roc_period4=self.hp['kst_roc_period4'], signal_period=self.hp['kst_signal_period'], source_type='close', sequential=False)",parameterDescription:{sma_period1:"The period for the first smoothed rate of change, influencing the oscillator's short-term sensitivity.",sma_period2:"The period for the second smoothed rate of change, affecting mid-term trend analysis.",sma_period3:"The period for the third smoothed rate of change, contributing to longer-term trend signals.",sma_period4:"The period for the fourth smoothed rate of change, impacting the oscillator's overall trend perspective.",roc_period1:"Rate of change period for the first component, affecting short-term momentum.",roc_period2:"Rate of change period for the second component, influencing mid-term momentum.",roc_period3:"Rate of change period for the third component, contributing to the assessment of longer-term momentum.",roc_period4:"Rate of change period for the fourth component, playing a role in the comprehensive momentum analysis.",signal_period:"The smoothing period for the signal line, impacting the timing of trend change signals."},arguments:"candles: np.ndarray, sma_period1: int = 10, sma_period2: int = 10, sma_period3: int = 10, sma_period4: int = 15, roc_period1: int = 10, roc_period2: int = 15, roc_period3: int = 20, roc_period4: int = 30, signal_period: int = 9, source_type: str = 'close', sequential: bool = False",expectedReturn:"KST(line, signal)",bullishCondition:"A bullish signal occurs when the KST line crosses above its signal line or is trending upwards.",bearishCondition:"A bearish signal occurs when the KST line crosses below its signal line or is trending downwards.",category:"Momentum",commonPairings:["Stochastic","RSI"],bestUsedFor:"Identifying major trend changes",historicalReliability:"Medium",customizationTips:"Use longer periods for smoother, more reliable signals.",hyperparameters:[{name:"kst_sma_period1",type:"int",min:5,max:20,default:10,step:1},{name:"kst_sma_period2",type:"int",min:5,max:20,default:10,step:1},{name:"kst_sma_period3",type:"int",min:5,max:20,default:10,step:1},{name:"kst_sma_period4",type:"int",min:10,max:25,default:15,step:1},{name:"kst_roc_period1",type:"int",min:5,max:20,default:10,step:1},{name:"kst_roc_period2",type:"int",min:10,max:25,default:15,step:1},{name:"kst_roc_period3",type:"int",min:15,max:30,default:20,step:1},{name:"kst_roc_period4",type:"int",min:20,max:40,default:30,step:1},{name:"kst_signal_period",type:"int",min:3,max:20,default:9,step:1}]},kurtosis:{description:"Kurtosis, measures the 'tailedness' of the probability distribution of a real-valued random variable.",autocompleteText:"kurtosis(candles, period=self.hp['kurtosis_period'], source_type='hl2', sequential=False)",parameterDescription:{period:"The number of periods used to calculate the kurtosis, impacting the assessment of distribution tails."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'hl2', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"High positive kurtosis may suggest a bullish market with infrequent but extreme returns.",bearishCondition:"High negative kurtosis may suggest a bearish market with infrequent but extreme returns.",category:"Statistical",commonPairings:["Standard Deviation","Variance"],bestUsedFor:"Assessing the tails or outliers in price distribution",historicalReliability:"Medium",customizationTips:"Combine with other volatility indicators for comprehensive market analysis.",hyperparameters:[{name:"kurtosis_period",type:"int",min:3,max:20,default:5,step:1}]},kvo:{description:"KVO - Klinger Volume Oscillator, measures volume flow to predict trend reversals.",autocompleteText:"kvo(candles, short_period=self.hp['kvo_short_period'], long_period=self.hp['kvo_long_period'], sequential=False)",parameterDescription:{short_period:"The period for the short-term volume force, affecting the oscillator's sensitivity to recent volume changes.",long_period:"The period for the long-term volume force, influencing the identification of broader volume trends."},arguments:"candles: np.ndarray, short_period: int = 2, long_period: int = 5, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish trend reversal is suggested when the KVO crosses above its signal line.",bearishCondition:"A bearish trend reversal is suggested when the KVO crosses below its signal line.",category:"Volume",commonPairings:["OBV","Volume"],bestUsedFor:"Identifying volume trends and potential reversals",historicalReliability:"Medium",customizationTips:"Optimize periods based on historical performance for specific assets.",hyperparameters:[{name:"kvo_short_period",type:"int",min:1,max:10,default:2,step:1},{name:"kvo_long_period",type:"int",min:3,max:10,default:5,step:1}]},linearreg:{description:"LINEARREG - Linear Regression, provides a linear regression line over a specified period.",autocompleteText:"linearreg(candles, period=self.hp['linearreg_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the number of periods used in the linear regression calculation, affecting the trend line's accuracy and responsiveness."},arguments:"candles: np.ndarray, period: int = 14, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish trend is suggested when the linear regression line is angled upwards.",bearishCondition:"A bearish trend is suggested when the linear regression line is angled downwards.",category:"Trend",commonPairings:["SMA","EMA"],bestUsedFor:"Identifying the direction of the trend",historicalReliability:"High",customizationTips:"Use in conjunction with trend indicators to confirm trend direction.",hyperparameters:[{name:"linearreg_period",type:"int",min:5,max:30,default:14,step:1}]},linearreg_angle:{description:"LINEARREG_ANGLE - Linear Regression Angle, measures the angle of a linear regression line.",autocompleteText:"linearreg_angle(candles, period=self.hp['linearreg_angle_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the number of periods used for the linear regression, affecting the angle calculation and trend direction indication."},arguments:"candles: np.ndarray, period: int = 14, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A positive angle indicates a bullish trend direction in the linear regression angle.",bearishCondition:"A negative angle indicates a bearish trend direction in the linear regression angle.",category:"Trend",commonPairings:["Linear Regression","SMA"],bestUsedFor:"Measuring the angle of the trend",historicalReliability:"Medium",customizationTips:"Adjust the period to capture different trend lengths.",hyperparameters:[{name:"linearreg_angle_period",type:"int",min:5,max:30,default:14,step:1}]},linearreg_intercept:{description:"LINEARREG_INTERCEPT - Linear Regression Intercept, calculates the intercept of the linear regression line.",autocompleteText:"linearreg_intercept(candles, period=self.hp['linearreg_intercept_period'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the calculation period for the linear regression, impacting where the regression line intersects the Y-axis."},arguments:"candles: np.ndarray, period: int = 14, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A rising linear regression intercept suggests a bullish trend.",bearishCondition:"A falling linear regression intercept suggests a bearish trend.",category:"Trend",commonPairings:["Linear Regression Slope","EMA"],bestUsedFor:"Identifying where the regression line intersects the Y-axis",historicalReliability:"Medium",customizationTips:"Combine with slope for a comprehensive trend analysis.",hyperparameters:[{name:"linearreg_intercept_period",type:"int",min:5,max:30,default:14,step:1}]},linearreg_slope:{description:"LINEARREG_SLOPE - Linear Regression Slope, calculates the slope of the linear regression line.",autocompleteText:"linearreg_slope(candles, period=self.hp['linearreg_slope_period'], source_type='close', sequential=False)",parameterDescription:{period:"The number of periods used to calculate the linear regression slope, influencing the determination of trend direction and strength."},arguments:"candles: np.ndarray, period: int = 14, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A positive slope suggests a bullish trend in linear regression slope.",bearishCondition:"A negative slope suggests a bearish trend in linear regression slope.",category:"Trend",commonPairings:["Linear Regression","ADX"],bestUsedFor:"Determining the direction and strength of a trend",historicalReliability:"High",customizationTips:"Use in different time frames for trend confirmation.",hyperparameters:[{name:"linearreg_slope_period",type:"int",min:5,max:30,default:14,step:1}]},lrsi:{description:"RSI Laguerre Filter, uses Laguerre transform for a more responsive RSI indicator.",autocompleteText:"lrsi(candles, alpha=self.hp['lrsi_alpha'], sequential=False)",parameterDescription:{alpha:"The alpha factor in the Laguerre transform, determining the responsiveness and smoothness of the RSI."},arguments:"candles: np.ndarray, alpha: float = 0.2, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Laguerre RSI is rising or crosses above a specific threshold (e.g., 0.5).",bearishCondition:"Bearish when the Laguerre RSI is falling or crosses below a specific threshold (e.g., 0.5).",category:"Momentum",commonPairings:["Stochastic RSI","MACD"],bestUsedFor:"Identifying overbought or oversold conditions",historicalReliability:"Medium",customizationTips:"Modify alpha for sensitivity adjustment.",hyperparameters:[{name:"lrsi_alpha",type:"float",min:.01,max:.5,default:.2,step:.01}]},ma:{description:"MA - (nearly) All Moving Averages of Jesse, provides a general function for various moving averages.",autocompleteText:"ma(candles, period=self.hp['ma_period'], matype=self.hp['ma_matype'], source_type='close', sequential=False)",parameterDescription:{period:"The period for the moving average, affecting its sensitivity to price changes.",matype:"Specifies the type of moving average to use, offering various ways to interpret the trend."},arguments:"candles: np.ndarray, period: int = 30, matype: int = 0, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal is indicated when the price is above the selected moving average.",bearishCondition:"A bearish signal is indicated when the price is below the selected moving average.",category:"Trend",commonPairings:["Bollinger Bands","EMA"],bestUsedFor:"Smoothed trend identification",historicalReliability:"High",customizationTips:"Experiment with different MA types for varied market perspectives.",hyperparameters:[{name:"ma_period",type:"int",min:5,max:100,default:30,step:1},{name:"ma_matype",type:"int",min:0,max:39,default:0,step:1}]},maaq:{description:"Moving Average Adaptive Q, a moving average that adapts based on market volatility.",autocompleteText:"maaq(candles, period=self.hp['maaq_period'], fast_period=self.hp['maaq_fast_period'], slow_period=self.hp['maaq_slow_period'], source_type='close', sequential=False)",parameterDescription:{period:"The primary period for the moving average, influencing overall trend identification.",fast_period:"The period for the fast component, affecting the moving average's responsiveness to recent price changes.",slow_period:"The period for the slow component, determining the moving average's sensitivity to longer-term trends."},arguments:"candles: np.ndarray, period: int = 11, fast_period: int = 2, slow_period: int = 30, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A bullish signal is indicated when the price is above the MAAQ line.",bearishCondition:"A bearish signal is indicated when the price is below the MAAQ line.",category:"Trend",commonPairings:["MACD","Stochastic Oscillator"],bestUsedFor:"Adaptive trend analysis",historicalReliability:"Medium",customizationTips:"Adjust fast and slow periods for market responsiveness.",hyperparameters:[{name:"maaq_period",type:"int",min:5,max:50,default:11,step:1},{name:"maaq_fast_period",type:"int",min:1,max:10,default:2,step:1},{name:"maaq_slow_period",type:"int",min:10,max:100,default:30,step:1}]},mab:{description:"Moving Average Bands, creates bands around a moving average for trend and volatility analysis.",autocompleteText:"mab(candles, fast_period=self.hp['mab_fast_period'], slow_period=self.hp['mab_slow_period'], devup=self.hp['mab_devup'], devdn=self.hp['mab_devdn'], fast_matype=self.hp['mab_fast_matype'], slow_matype=self.hp['mab_slow_matype'], source_type='close', sequential=False)",parameterDescription:{fast_period:"Period for the fast moving average, affecting the center of the bands.",slow_period:"Period for the slow moving average, influencing the broader trend.",devup:"Multiplier for the upper deviation, setting the upper band's distance from the middle band.",devdn:"Multiplier for the lower deviation, determining the lower band's distance from the middle band.",fast_matype:"Type of moving average used for the fast MA, impacting short-term trend sensitivity.",slow_matype:"Type of moving average used for the slow MA, affecting long-term trend analysis."},arguments:"candles: np.ndarray, fast_period: int = 10, slow_period: int = 50, devup: float = 1, devdn: float = 1, fast_matype: int = 0, slow_matype: int = 0, source_type: str = 'close', sequential: bool = False",expectedReturn:"MAB(upperband, middleband, lowerband)",bullishCondition:"Bullish when the price is above the upper Moving Average Band.",bearishCondition:"Bearish when the price is below the lower Moving Average Band.",category:"Volatility",commonPairings:["Bollinger Bands","ATR"],bestUsedFor:"Volatility and trend identification",historicalReliability:"Medium",customizationTips:"Adjust the periods and deviation values to match the assets volatility.",hyperparameters:[{name:"mab_fast_period",type:"int",min:5,max:30,default:10,step:1},{name:"mab_slow_period",type:"int",min:20,max:100,default:50,step:1},{name:"mab_devup",type:"float",min:.5,max:3,default:1,step:.1},{name:"mab_devdn",type:"float",min:.5,max:3,default:1,step:.1},{name:"mab_fast_matype",type:"int",min:0,max:4,default:0,step:1},{name:"mab_slow_matype",type:"int",min:0,max:4,default:0,step:1}]},macd:{description:"MACD - Moving Average Convergence/Divergence, a trend-following momentum indicator showing the relationship between two moving averages.",autocompleteText:"macd(candles, fast_period=self.hp['macd_fast_period'], slow_period=self.hp['macd_slow_period'], signal_period=self.hp['macd_signal_period'], source_type='close', sequential=False)",parameterDescription:{fast_period:"The period for the fast moving average, impacting the MACD line's sensitivity to price changes.",slow_period:"The period for the slow moving average, influencing the MACD line's longer-term trend detection.",signal_period:"The period for the signal line, determining the timing of potential crossover signals."},arguments:"candles: np.ndarray, fast_period: int = 12, slow_period: int = 26, signal_period: int = 9, source_type: str = 'close', sequential: bool = False",expectedReturn:"MACD(macd, signal, hist)",bullishCondition:"Bullish when the MACD line crosses above the signal line or moves above zero.",bearishCondition:"Bearish when the MACD line crosses below the signal line or moves below zero.",category:"Momentum",commonPairings:["RSI","Stochastic Oscillator"],bestUsedFor:"Trend following and momentum",historicalReliability:"High",customizationTips:"Experiment with different periods for faster or slower signal generation.",hyperparameters:[{name:"macd_fast_period",type:"int",min:5,max:30,default:12,step:1},{name:"macd_slow_period",type:"int",min:10,max:50,default:26,step:1},{name:"macd_signal_period",type:"int",min:3,max:20,default:9,step:1}]},macdext:{description:"MACDEXT - MACD with controllable MA type, allows for more customization of the MACD indicator.",autocompleteText:"macdext(candles, fast_period=self.hp['macdext_fast_period'], fast_matype=self.hp['macdext_fast_matype'], slow_period=self.hp['macdext_slow_period'], slow_matype=self.hp['macdext_slow_matype'], signal_period=self.hp['macdext_signal_period'], signal_matype=self.hp['macdext_signal_matype'], source_type='close', sequential=False)",parameterDescription:{fast_period:"Sets the period for the fast moving average, impacting short-term trend sensitivity.",fast_matype:"Type of moving average used for the fast MA, influencing the indicator's responsiveness.",slow_period:"Defines the period for the slow moving average, affecting long-term trend analysis.",slow_matype:"Type of moving average for the slow MA, modifying the indicator's reaction to price movements.",signal_period:"The period for the signal line, determining the timing for potential crossover signals.",signal_matype:"Moving average type for the signal line, impacting its calculation."},arguments:"candles: np.ndarray, fast_period: int = 12, fast_matype: int = 0, slow_period: int = 26, slow_matype: int = 0, signal_period: int = 9, signal_matype: int = 0, source_type: str = 'close', sequential: bool = False",expectedReturn:"MACDEXT(macd, signal, hist)",bullishCondition:"Bullish when the extended MACD line crosses above the signal line.",bearishCondition:"Bearish when the extended MACD line crosses below the signal line.",category:"Momentum",commonPairings:["Bollinger Bands","ADX"],bestUsedFor:"Custom trend and momentum analysis",historicalReliability:"High",customizationTips:"Use different MA types to fine-tune the indicators responsiveness.",hyperparameters:[{name:"macdext_fast_period",type:"int",min:5,max:30,default:12,step:1},{name:"macdext_fast_matype",type:"int",min:0,max:4,default:0,step:1},{name:"macdext_slow_period",type:"int",min:10,max:50,default:26,step:1},{name:"macdext_slow_matype",type:"int",min:0,max:4,default:0,step:1},{name:"macdext_signal_period",type:"int",min:3,max:20,default:9,step:1},{name:"macdext_signal_matype",type:"int",min:0,max:4,default:0,step:1}]},mama:{description:"MAMA - MESA Adaptive Moving Average, designed to adapt quickly to market changes.",autocompleteText:"mama(candles, fastlimit=self.hp['mama_fastlimit'], slowlimit=self.hp['mama_slowlimit'], source_type='close', sequential=False)",parameterDescription:{fastlimit:"Controls the maximum rate of the MAMA line, affecting its sensitivity to price changes.",slowlimit:"Sets the minimum rate of the MAMA line, influencing how quickly it adapts to market changes."},arguments:"candles: np.ndarray, fastlimit: float = 0.5, slowlimit: float = 0.05, source_type: str = 'close', sequential: bool = False",expectedReturn:"MAMA(mama, fama)",bullishCondition:"Bullish when the MAMA line crosses above the FAMA line.",bearishCondition:"Bearish when the MAMA line crosses below the FAMA line.",category:"Trend",commonPairings:["FAMA","T3"],bestUsedFor:"Adaptive trend following",historicalReliability:"Medium",customizationTips:"Adjust fastlimit and slowlimit for sensitivity to market changes.",hyperparameters:[{name:"mama_fastlimit",type:"float",min:.1,max:1,default:.5,step:.05},{name:"mama_slowlimit",type:"float",min:.01,max:.1,default:.05,step:.01}]},marketfi:{description:"MARKETFI - Market Facilitation Index, measures the efficiency of price movement and helps to identify trend strength and reversals.",autocompleteText:"marketfi(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"A rising Market Facilitation Index suggests bullish conditions, especially when accompanied by increasing volume.",bearishCondition:"A falling Market Facilitation Index suggests bearish conditions, particularly when accompanied by decreasing volume.",category:"Volume",commonPairings:["Volume Oscillator","OBV"],bestUsedFor:"Assessing the efficiency of price movement with volume",historicalReliability:"Low to Medium",customizationTips:"Combine with volume indicators for a comprehensive market analysis."},mass:{description:"MASS - Mass Index, used to identify trend reversals by comparing the range between high and low prices.",autocompleteText:"mass(candles, period=self.hp['mass_period'], sequential=False)",parameterDescription:{period:"The period for calculating the Mass Index, influencing the detection of potential trend reversals."},arguments:"candles: np.ndarray, period: int = 5, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish trend reversals are suggested when the Mass Index rises above a certain threshold (e.g., 27) and then falls.",bearishCondition:"Bearish trend reversals are suggested when the Mass Index rises above a certain threshold and then falls.",category:"Volatility",commonPairings:["RSI","MACD"],bestUsedFor:"Identifying trend reversals and volatility",historicalReliability:"Medium",customizationTips:"Use in conjunction with trend-following indicators for confirmation.",hyperparameters:[{name:"mass_period",type:"int",min:3,max:20,default:5,step:1}]},mcginley_dynamic:{description:"McGinley Dynamic, a moving average variant that automatically adjusts to market speed.",autocompleteText:"mcginley_dynamic(candles, period=self.hp['mcginley_dynamic_period'], k=self.hp['mcginley_dynamic_k'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the period for the McGinley Dynamic, impacting the smoothing effect and responsiveness.",k:"The factor used for adjusting the indicator to market speed, affecting its sensitivity to price movements."},arguments:"candles: np.ndarray, period: int = 10, k: float = 0.6, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the McGinley Dynamic line.",bearishCondition:"Bearish when the price is below the McGinley Dynamic line.",category:"Trend",commonPairings:["SMA","EMA"],bestUsedFor:"Dynamic trend following and smoothing market fluctuations",historicalReliability:"Medium",customizationTips:"Adjust the period and k factor based on asset volatility.",hyperparameters:[{name:"mcginley_dynamic_period",type:"int",min:5,max:30,default:10,step:1},{name:"mcginley_dynamic_k",type:"float",min:.1,max:1,default:.6,step:.1}]},mean_ad:{description:"Mean Absolute Deviation, measures the average absolute deviation from a central point.",autocompleteText:"mean_ad(candles, period=self.hp['mean_ad_period'], source_type='hl2', sequential=False)",parameterDescription:{period:"Determines the number of periods used to calculate the Mean Absolute Deviation, affecting the assessment of market volatility."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'hl2', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Lower Mean Absolute Deviation may suggest less volatility, which can be bullish in stable trends.",bearishCondition:"Higher Mean Absolute Deviation may indicate increasing volatility, potentially signaling bearish conditions.",category:"Volatility",commonPairings:["Bollinger Bands","ATR"],bestUsedFor:"Measuring average price deviation and market volatility",historicalReliability:"Low",customizationTips:"Combine with trend indicators to contextualize volatility.",hyperparameters:[{name:"mean_ad_period",type:"int",min:3,max:20,default:5,step:1}]},median_ad:{description:"Median Absolute Deviation, similar to mean absolute deviation but uses the median.",autocompleteText:"median_ad(candles, period=self.hp['median_ad_period'], source_type='hl2', sequential=False)",parameterDescription:{period:"The number of periods used to calculate the Median Absolute Deviation, affecting the measure of volatility based on median deviations."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'hl2', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Lower Median Absolute Deviation may suggest less volatility and a bullish trend in a stable market.",bearishCondition:"Higher Median Absolute Deviation may indicate increasing volatility, potentially signaling bearish conditions.",category:"Volatility",commonPairings:["Standard Deviation","Variance"],bestUsedFor:"Assessing volatility using median deviations",historicalReliability:"Low",customizationTips:"Useful in robust statistical analysis, less impacted by outliers.",hyperparameters:[{name:"median_ad_period",type:"int",min:3,max:20,default:5,step:1}]},medprice:{description:"MEDPRICE - Median Price, calculates the median of high and low prices.",autocompleteText:"medprice(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the current price is above the median price.",bearishCondition:"Bearish when the current price is below the median price.",category:"Price Level",commonPairings:["Moving Averages","Pivot Points"],bestUsedFor:"Determining average price levels for a period",historicalReliability:"Medium",customizationTips:"Effective as a baseline for other indicators or for setting support/resistance levels."},mfi:{description:"MFI - Money Flow Index, a momentum indicator that uses price and volume to identify overbought or oversold conditions.",autocompleteText:"mfi(candles, period=self.hp['mfi_period'], sequential=False)",parameterDescription:{period:"Sets the number of periods for the Money Flow Index, influencing its sensitivity to price and volume changes."},arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Money Flow Index is above 80, suggesting overbought conditions that may lead to a reversal.",bearishCondition:"Bearish when the Money Flow Index is below 20, suggesting oversold conditions that may lead to a reversal.",category:"Momentum",commonPairings:["RSI","Volume"],bestUsedFor:"Identifying overbought and oversold conditions, and spotting divergences",historicalReliability:"High",customizationTips:"Adjust period for more sensitivity in shorter timeframes; use with volume data for confirmation.",hyperparameters:[{name:"mfi_period",type:"int",min:5,max:30,default:14,step:1}]},midpoint:{description:"MIDPOINT - MidPoint over period, calculates the midpoint of the prices over a specified period.",autocompleteText:"midpoint(candles, period=self.hp['midpoint_period'], source_type='close', sequential=False)",parameterDescription:{period:"The period over which the midpoint of prices is calculated, influencing trend analysis based on average price levels."},arguments:"candles: np.ndarray, period: int = 14, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the current price is above the midpoint of the specified period.",bearishCondition:"Bearish when the current price is below the midpoint of the specified period.",category:"Trend",commonPairings:["SMA","EMA"],bestUsedFor:"Determining mid-range price levels over a specific period; useful for spotting average trends",historicalReliability:"Medium",customizationTips:"Combine with other trend indicators like moving averages for confirming trends.",hyperparameters:[{name:"midpoint_period",type:"int",min:5,max:30,default:14,step:1}]},midprice:{description:"MIDPRICE - Midpoint Price over period, determines the midpoint of the highest and lowest prices over a defined period.",autocompleteText:"midprice(candles, period=self.hp['midprice_period'], sequential=False)",parameterDescription:{period:"The period for determining the midpoint between the highest and lowest prices, affecting the assessment of potential support and resistance levels."},arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the current price is above the midpoint price over the defined period.",bearishCondition:"Bearish when the current price is below the midpoint price over the defined period.",category:"Price Level",commonPairings:["Support/Resistance Levels","Pivot Points"],bestUsedFor:"Identifying potential support and resistance levels based on past high and low prices",historicalReliability:"Medium",customizationTips:"Effective for longer periods to establish strong support/resistance levels.",hyperparameters:[{name:"midprice_period",type:"int",min:5,max:30,default:14,step:1}]},minmax:{description:"minmax - Get extrema (ZigZag), identifies the minimum and maximum points in a price series.",autocompleteText:"minmax(candles, order=self.hp['minmax_order'], sequential=False)",parameterDescription:{order:"Determines the range used to identify minimum and maximum points in the price series, affecting the detection of significant highs and lows."},arguments:"candles: np.ndarray, order: int = 3, sequential: bool = False",expectedReturn:"EXTREMA(is_min, is_max, last_min, last_max)",bullishCondition:"Bullish at points identified as minimums, suggesting potential reversal points from bearish to bullish trends.",bearishCondition:"Bearish at points identified as maximums, suggesting potential reversal points from bullish to bearish trends.",category:"Trend",commonPairings:["MACD","RSI"],bestUsedFor:"Identifying significant highs and lows in price for trend reversal analysis",historicalReliability:"Low to Medium",customizationTips:"Use with momentum indicators to confirm potential trend reversals; be aware of signal delays.",hyperparameters:[{name:"minmax_order",type:"int",min:1,max:10,default:3,step:1}]},mom:{description:"MOM - Momentum, measures the rate of change in prices to identify strength of price movements.",autocompleteText:"mom(candles, period=self.hp['mom_period'], source_type='close', sequential=False)",parameterDescription:{period:"The period over which the rate of change in prices is measured, influencing the momentum indicator's sensitivity to price movements."},arguments:"candles: np.ndarray, period: int = 10, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Momentum (MOM) indicator is rising, indicating increasing upward price momentum.",bearishCondition:"Bearish when the Momentum (MOM) indicator is falling, indicating increasing downward price momentum.",category:"Momentum",commonPairings:["RSI","MACD"],bestUsedFor:"Determining the strength of a trend by measuring the rate of change in prices.",historicalReliability:"Medium",customizationTips:"Vary the period for different time frames; lower for short-term, higher for long-term analysis.",hyperparameters:[{name:"mom_period",type:"int",min:3,max:30,default:10,step:1}]},mwdx:{description:"MWDX Average, a moving average that applies a specific weighting factor.",autocompleteText:"mwdx(candles, factor=self.hp['mwdx_factor'], source_type='close', sequential=False)",parameterDescription:{factor:"The weighting factor applied in the MWDX Average, affecting the emphasis on recent price movements."},arguments:"candles: np.ndarray, factor: float = 0.2, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the MWDX Average, indicating upward momentum.",bearishCondition:"Bearish when the price is below the MWDX Average, indicating downward momentum.",category:"Trend",commonPairings:["SMA","EMA"],bestUsedFor:"Tracking the overall trend direction with a focus on recent price movements.",historicalReliability:"Medium",customizationTips:"Adjust the factor for more or less sensitivity to recent price changes.",hyperparameters:[{name:"mwdx_factor",type:"float",min:.1,max:1,default:.2,step:.05}]},msw:{description:"MSW - Mesa Sine Wave, used to identify market cycles through sine wave analysis.",autocompleteText:"msw(candles, period=self.hp['msw_period'], source_type='close', sequential=False)",parameterDescription:{period:"The period for the Mesa Sine Wave analysis, crucial for identifying the length of market cycles and potential trend changes."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'close', sequential: bool = False",expectedReturn:"MSW(sine, lead)",bullishCondition:"Bullish signals are generated when the MSW sine crosses above the lead sine.",bearishCondition:"Bearish signals are generated when the MSW sine crosses below the lead sine.",category:"Cycle",commonPairings:["Stochastic Oscillator","MACD"],bestUsedFor:"Identifying market cycles and potential trend changes.",historicalReliability:"Medium",customizationTips:"Combine with momentum indicators to confirm cycle-based predictions.",hyperparameters:[{name:"msw_period",type:"int",min:3,max:20,default:5,step:1}]},natr:{description:"NATR - Normalized Average True Range, normalizes the ATR, making it more comparable across different instruments.",autocompleteText:"natr(candles, period=self.hp['natr_period'], sequential=False)",parameterDescription:{period:"Determines the number of periods used in the NATR calculation, influencing the measure of volatility relative to the price."},arguments:"candles: np.ndarray, period: int = 14, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Higher NATR values might suggest increasing market volatility, which can be bullish in uptrends.",bearishCondition:"Higher NATR values might suggest increasing market volatility, which can be bearish in downtrends.",category:"Volatility",commonPairings:["Bollinger Bands","ATR"],bestUsedFor:"Measuring volatility relative to the price, useful for comparing across different instruments.",historicalReliability:"High",customizationTips:"Ideal for assessing volatility in varying market conditions.",hyperparameters:[{name:"natr_period",type:"int",min:5,max:30,default:14,step:1}]},nma:{description:"Natural Moving Average, adjusts more fluidly to market conditions compared to traditional moving averages.",autocompleteText:"nma(candles, period=self.hp['nma_period'], source_type='close', sequential=False)",parameterDescription:{period:"Specifies the period for the Natural Moving Average, affecting its responsiveness to market conditions and trend identification."},arguments:"candles: np.ndarray, period: int = 40, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Natural Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Natural Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["RSI","MACD"],bestUsedFor:"Smooth trend identification with reduced lag.",historicalReliability:"Medium to High",customizationTips:"Use in combination with other trend and momentum indicators for confirmation.",hyperparameters:[{name:"nma_period",type:"int",min:10,max:100,default:40,step:1}]},nvi:{description:"NVI - Negative Volume Index, focuses on days with decreased volume, often indicating less-informed trader activity.",autocompleteText:"nvi(candles, source_type='close', sequential=False)",arguments:"candles: np.ndarray, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the NVI is trending upwards, indicating buying interest on low-volume days.",bearishCondition:"Bearish when the NVI is trending downwards, indicating selling pressure on low-volume days.",category:"Volume",commonPairings:["PVI","RSI"],bestUsedFor:"Identifying long-term trend reversals, especially in low-volume market conditions.",historicalReliability:"Medium",customizationTips:"Combine with volume and trend indicators for comprehensive market analysis."},obv:{description:"OBV - On-Balance Volume, uses volume flow to anticipate stock price changes, under the principle that volume precedes price movement.",autocompleteText:"obv(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when OBV is rising, suggesting accumulation and buying pressure.",bearishCondition:"Bearish when OBV is falling, suggesting distribution and selling pressure.",category:"Volume",commonPairings:["SMA","MACD"],bestUsedFor:"Tracking volume flow to predict price movements, particularly in identifying accumulation and distribution phases.",historicalReliability:"High",customizationTips:"Use with price action analysis to validate trend strength or weakness."},pattern_recognition:{description:"Pattern Recognition, identifies various candlestick patterns in the price chart.",autocompleteText:"pattern_recognition(candles, pattern_type='CDL2CROWS', penetration=0, sequential=False)",arguments:"candles: np.ndarray, penetration: int = 0, pattern_type: str, sequential: bool = False",expectedReturn:"int | np.ndarray",category:"Pattern",commonPairings:["Volume","Oscillators"],bestUsedFor:"Identifying and confirming classical candlestick patterns for potential market reversals or trend continuations.",historicalReliability:"Varies based on pattern",customizationTips:"Combine with other technical indicators to confirm signals provided by recognized patterns.",returnValues:{"+2":"bullish pattern with confirmation","+1":"bullish pattern (most cases)",0:"no pattern","-1":"bearish pattern","-2":"bearish pattern with confirmation"},penetration:"Penetration, the percentage of penetration of a candlestick pattern. It only affects CDLABANDONEDBABY, CDLDARKCLOUDCOVER, CDLEVENINGDOJISTAR, CDLEVENINGSTAR, CDLMATHOLD, CDLMORNINGDOJISTAR, CDLMORNINGSTAR.",patternType:{"Two Crows":"CDL2CROWS","Three Black Crows":"CDL3BLACKCROWS","Three Inside Up/Down":"CDL3INSIDE","Three-Line Strike":"CDL3LINESTRIKE","Three Outside Up/Down":"CDL3OUTSIDE","Three Stars In The South":"CDL3STARSINSOUTH","Three Advancing White Soldiers":"CDL3WHITESOLDIERS","Abandoned Baby":"CDLABANDONEDBABY","Advance Block":"CDLADVANCEBLOCK","Belt-hold":"CDLBELTHOLD",Breakaway:"CDLBREAKAWAY","Closing Marubozu":"CDLCLOSINGMARUBOZU","Concealing Baby Swallow":"CDLCONCEALBABYSWALL",Counterattack:"CDLCOUNTERATTACK","Dark Cloud Cover":"CDLDARKCLOUDCOVER",Doji:"CDLDOJI","Doji Star":"CDLDOJISTAR","Dragonfly Doji":"CDLDRAGONFLYDOJI","Engulfing Pattern":"CDLENGULFING","Evening Doji Star":"CDLEVENINGDOJISTAR","Evening Star":"CDLEVENINGSTAR","Up/Down-gap side-by-side white lines":"CDLGAPSIDESIDEWHITE","Gravestone Doji":"CDLGRAVESTONEDOJI",Hammer:"CDLHAMMER","Hanging Man":"CDLHANGINGMAN","Harami Pattern":"CDLHARAMI","Harami Cross Pattern":"CDLHARAMICROSS","High-Wave Candle":"CDLHIGHWAVE","Hikkake Pattern":"CDLHIKKAKE","Modified Hikkake Pattern":"CDLHIKKAKEMOD","Homing Pigeon":"CDLHOMINGPIGEON","Identical Three Crows":"CDLIDENTICAL3CROWS","In-Neck Pattern":"CDLINNECK","Inverted Hammer":"CDLINVERTEDHAMMER",Kicking:"CDLKICKING","Kicking - bull/bear determined by the longer marubozu":"CDLKICKINGBYLENGTH","Ladder Bottom":"CDLLADDERBOTTOM","Long Legged Doji":"CDLLONGLEGGEDDOJI","Long Line Candle":"CDLLONGLINE",Marubozu:"CDLMARUBOZU","Matching Low":"CDLMATCHINGLOW","Mat Hold":"CDLMATHOLD","Morning Doji Star":"CDLMORNINGDOJISTAR","Morning Star":"CDLMORNINGSTAR","On-Neck Pattern":"CDLONNECK","Piercing Pattern":"CDLPIERCING","Rickshaw Man":"CDLRICKSHAWMAN","Separating Lines":"CDLSEPARATINGLINES","Shooting Star":"CDLSHOOTINGSTAR","Short Line Candle":"CDLSHORTLINE","Stalled Pattern":"CDLSTALLEDPATTERN","Takuri (Dragonfly Doji with very long lower shadow)":"CDLTAKURI","Thrusting Pattern":"CDLTHRUSTING","Unique 3 River":"CDLUNIQUE3RIVER","Upside/Downside Gap Three Methods":"CDLXSIDEGAP3METHODS"}},pfe:{description:"Polarized Fractal Efficiency (PFE), measures the efficiency of price movements.",autocompleteText:"pfe(candles, period=self.hp['pfe_period'], smoothing=self.hp['pfe_smoothing'], source_type='close', sequential=False)",parameterDescription:{period:"Defines the calculation period for PFE, impacting the sensitivity to price movement efficiency.",smoothing:"The smoothing factor for PFE, used to reduce noise and make the indicator more or less responsive."},arguments:"candles: np.ndarray, period: int = 10, smoothing: int = 5, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when PFE is positive and rising, indicating efficient upward price movement.",bearishCondition:"Bearish when PFE is negative and falling, indicating efficient downward price movement.",category:"Momentum",commonPairings:["RSI","MACD"],bestUsedFor:"Identifying the efficiency of price movements and trend direction.",historicalReliability:"Medium",customizationTips:"Adjust period and smoothing values to match the assets volatility and your trading style.",hyperparameters:[{name:"pfe_period",type:"int",min:5,max:20,default:10,step:1},{name:"pfe_smoothing",type:"int",min:1,max:10,default:5,step:1}]},pivot:{description:"Pivot Points, a technical analysis indicator used to determine financial market levels.",autocompleteText:"pivot(candles, mode=0, sequential=False)",arguments:"candles: np.ndarray, mode: int = 0, sequential: bool = False",expectedReturn:"PIVOT(r4, r3, r2, r1, pp, s1, s2, s3, s4)",bullishCondition:"Bullish when prices are above the pivot point, suggesting upward momentum.",bearishCondition:"Bearish when prices are below the pivot point, suggesting downward momentum.",category:"Support/Resistance",commonPairings:["RSI","MACD"],bestUsedFor:"Determining potential support and resistance levels.",historicalReliability:"High",customizationTips:"Use in conjunction with other indicators to confirm potential reversal points. Consider varying pivot modes based on market conditions.",pivot_mode:{"Standard Pivot Points / Floor Pivot Points":{description:"r2, r1, pp, s1, s2",number:0},"Fibonacci Pivot Points":{description:"r3, r2, r1, pp, s1, s2, s3",number:1},"Demark Pivot Points":{description:"r1, pp, s1",number:2},"Camarilla Pivot Points":{description:"r4, r3, r2, r1, pp, s1, s2, s3, s4",number:3},"Woodie's Pivot Points":{description:"r4, r3, r2, r1, pp, s1, s2, s3, s4",number:4}},hyperparameters:[{name:"pivot_mode",type:"int",min:0,max:4,default:0,step:1}]},pma:{description:"Ehlers Predictive Moving Average, smooths price data to identify trends.",autocompleteText:"pma(candles, source_type='hl2', sequential=False)",arguments:"candles: np.ndarray, source_type: str = 'hl2', sequential: bool = False",expectedReturn:"PMA(predict, trigger)",bullishCondition:"Bullish when the price is above the Predictive Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Predictive Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["ADX","Stochastic"],bestUsedFor:"Identifying trend direction and potential reversal points.",historicalReliability:"Medium to High",customizationTips:"Experiment with different source types to improve signal accuracy."},ppo:{description:"PPO - Percentage Price Oscillator, a momentum oscillator that measures the difference between two moving averages as a percentage of the larger moving average.",autocompleteText:"ppo(candles, fast_period=self.hp['ppo_fast_period'], slow_period=self.hp['ppo_slow_period'], matype=self.hp['ppo_matype'], source_type='close', sequential=False)",parameterDescription:{fast_period:"Controls the shorter moving average period in PPO, influencing its sensitivity to price changes.",slow_period:"Determines the longer moving average period, affecting the baseline for measuring momentum.",matype:"Specifies the type of moving average used, ranging from simple to exponential, impacting the indicator's calculation."},arguments:"candles: np.ndarray, fast_period: int = 12, slow_period: int = 26, matype: int = 0, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the PPO line crosses above its signal line or is above zero.",bearishCondition:"Bearish when the PPO line crosses below its signal line or is below zero.",category:"Momentum",commonPairings:["MACD","RSI"],bestUsedFor:"Identifying momentum shifts and potential trend reversals.",historicalReliability:"Medium",customizationTips:"Adjust the fast and slow periods to fit the specific asset and trading strategy.",hyperparameters:[{name:"ppo_fast_period",type:"int",min:5,max:20,default:12,step:1},{name:"ppo_slow_period",type:"int",min:10,max:40,default:26,step:1},{name:"ppo_matype",type:"int",min:0,max:4,default:0,step:1}]},pvi:{description:"PVI - Positive Volume Index, focuses on days where volume increases from the previous day.",autocompleteText:"pvi(candles, source_type='close', sequential=False)",arguments:"candles: np.ndarray, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Positive Volume Index is trending upwards, suggesting buying interest on higher volume days.",bearishCondition:"Bearish when the Positive Volume Index is trending downwards, suggesting selling pressure on higher volume days.",category:"Volume",commonPairings:["NVI","OBV"],bestUsedFor:"Assessing the impact of increasing volume on price trends.",historicalReliability:"Medium",customizationTips:"Use in combination with NVI for comprehensive volume analysis. Effective in trending markets."},pwma:{description:"PWMA - Pascals Weighted Moving Average, a type of moving average that assigns more weight to recent data.",autocompleteText:"pwma(candles, period=self.hp['pwma_period'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the length of the moving average. A shorter period makes PWMA more responsive but potentially more erratic."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Pascals Weighted Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Pascals Weighted Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["MACD","RSI"],bestUsedFor:"Smoothing price data while giving more weight to recent prices, useful in trend analysis.",historicalReliability:"Medium",customizationTips:"Adjust the period to be more or less sensitive to recent price changes.",hyperparameters:[{name:"pwma_period",type:"int",min:3,max:20,default:5,step:1}]},qstick:{description:"Qstick, a momentum indicator that quantifies the 'stickiness' of a trend based on the difference between open and close prices.",autocompleteText:"qstick(candles, period=self.hp['qstick_period'], sequential=False)",parameterDescription:{period:"Defines the time frame for measuring the average difference between the open and close prices. Longer periods provide a broader view of momentum."},arguments:"candles: np.ndarray, period: int = 5, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Qstick is positive and rising, indicating that the closing price is consistently higher than the opening price.",bearishCondition:"Bearish when the Qstick is negative and falling, indicating that the closing price is consistently lower than the opening price.",category:"Momentum",commonPairings:["Stochastic","ADX"],bestUsedFor:"Identifying the dominance of either buyers or sellers over a given period.",historicalReliability:"Medium",customizationTips:"Change the period length to suit the volatility of the asset.",hyperparameters:[{name:"qstick_period",type:"int",min:3,max:20,default:5,step:1}]},reflex:{description:"Reflex indicator by John F. Ehlers, identifies market phases and trend strengths.",autocompleteText:"reflex(candles, period=self.hp['reflex_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the observation window for the Reflex indicator. Longer periods may offer a smoother indicator line but can delay signal responsiveness."},arguments:"candles: np.ndarray, period: int = 20, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Reflex indicator is rising, suggesting upward trend strength.",bearishCondition:"Bearish when the Reflex indicator is falling, suggesting downward trend strength.",category:"Trend",commonPairings:["Bollinger Bands","EMA"],bestUsedFor:"Detecting trend strengths and market phases.",historicalReliability:"Medium to High",customizationTips:"Can be combined with cycle indicators for identifying market phase transitions.",hyperparameters:[{name:"reflex_period",type:"int",min:10,max:40,default:20,step:1}]},roc:{description:"ROC - Rate of change, calculates the percentage change in price over a specified period.",autocompleteText:"roc(candles, period=self.hp['roc_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the duration over which the rate of price change is measured. Shorter periods may highlight immediate momentum, while longer periods capture broader trends."},arguments:"candles: np.ndarray, period: int = 10, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Rate of Change is positive and increasing, indicating upward price momentum.",bearishCondition:"Bearish when the Rate of Change is negative and decreasing, indicating downward price momentum.",category:"Momentum",commonPairings:["RSI","MACD"],bestUsedFor:"Measuring the speed of price changes, indicating momentum.",historicalReliability:"Medium",customizationTips:"Use a shorter period for short-term trading and a longer period for longer-term trend analysis.",hyperparameters:[{name:"roc_period",type:"int",min:5,max:30,default:10,step:1}]},rocp:{description:"ROCP - Rate of change Percentage, shows the percentage difference between the current and previous price.",autocompleteText:"rocp(candles, period=self.hp['rocp_period'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the length of time used to calculate the percentage change in price. Shorter periods can be more sensitive to recent price movements, while longer periods provide a more general view of price changes."},arguments:"candles: np.ndarray, period: int = 10, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the ROCP is positive and rising, indicating an increase in price compared to the previous period.",bearishCondition:"Bearish when the ROCP is negative and falling, indicating a decrease in price compared to the previous period.",category:"Momentum",commonPairings:["SMA","Stochastic"],bestUsedFor:"Showing the percentage change in price, helpful in identifying momentum.",historicalReliability:"Medium",customizationTips:"Adjust the period according to the timeframe of your trading strategy.",hyperparameters:[{name:"rocp_period",type:"int",min:5,max:30,default:10,step:1}]},rocr:{description:"ROCR - Rate of change ratio, a simple ratio of the current price to past prices.",autocompleteText:"rocr(candles, period=self.hp['rocr_period'], source_type='close', sequential=False)",parameterDescription:{period:"Dictates the timeframe for comparing the current price against the past price. A shorter period may be more reactive to recent changes, whereas a longer period offers a broader perspective on price shifts."},arguments:"candles: np.ndarray, period: int = 10, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the ROCR is above 1, indicating that the current price is higher than the past price.",bearishCondition:"Bearish when the ROCR is below 1, indicating that the current price is lower than the past price.",category:"Momentum",commonPairings:["MACD","Stochastic"],bestUsedFor:"Assessing the rate of change in prices relative to previous prices, useful for momentum trading.",historicalReliability:"Medium",customizationTips:"Modify the period to adjust sensitivity to price changes.",hyperparameters:[{name:"rocr_period",type:"int",min:5,max:30,default:10,step:1}]},rocr100:{description:"ROCR100 - Rate of change ratio 100 scale, scales the rate of change ratio by 100.",autocompleteText:"rocr100(candles, period=self.hp['rocr100_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the timeframe for comparing current prices to past prices. A higher period offers a broader view, while a lower period focuses on recent changes."},arguments:"candles: np.ndarray, period: int = 10, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the ROCR100 is above 100, indicating the current price is higher than the price from the specified period ago.",bearishCondition:"Bearish when the ROCR100 is below 100, indicating the current price is lower than the price from the specified period ago.",category:"Momentum",commonPairings:["Bollinger Bands","EMA"],bestUsedFor:"Analyzing the percentage rate of change in price for trend confirmation.",historicalReliability:"Medium",customizationTips:"Experiment with different periods for varying market conditions.",hyperparameters:[{name:"rocr100_period",type:"int",min:5,max:30,default:10,step:1}]},roofing:{description:"Roofing Filter by John F. Ehlers, designed to filter out market noise and smooth price data.",autocompleteText:"roofing(candles, hp_period=self.hp['roofing_hp_period'], lp_period=self.hp['roofing_lp_period'], source_type='close', sequential=False)",parameterDescription:{hp_period:"Determines the high-pass filter period, influencing how the filter handles shorter cycles.",lp_period:"Sets the low-pass filter period, affecting the detection of primary trends."},arguments:"candles: np.ndarray, hp_period: int = 48, lp_period: int = 10, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Roofing Filter line, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Roofing Filter line, indicating a downward trend.",category:"Trend",commonPairings:["RSI","MACD"],bestUsedFor:"Filtering out shorter cycles to focus on primary trends.",historicalReliability:"Medium to High",customizationTips:"Adjust the high-pass and low-pass periods to fine-tune trend identification.",hyperparameters:[{name:"roofing_hp_period",type:"int",min:20,max:60,default:48,step:1},{name:"roofing_lp_period",type:"int",min:5,max:20,default:10,step:1}]},rsi:{description:"RSI - Relative Strength Index, a popular momentum indicator that measures the speed and change of price movements.",autocompleteText:"rsi(candles, period=self.hp['rsi_period'], source_type='close', sequential=False)",parameterDescription:{period:"Controls the time span for RSI calculation. A shorter period may react quicker to price changes, while a longer period smooths out volatility."},arguments:"candles: np.ndarray, period: int = 14, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the RSI is above 70, potentially indicating overbought conditions that could lead to a trend reversal.",bearishCondition:"Bearish when the RSI is below 30, potentially indicating oversold conditions that could lead to a trend reversal.",category:"Momentum",commonPairings:["MACD","SMA"],bestUsedFor:"Identifying overbought or oversold conditions in a market.",historicalReliability:"High",customizationTips:"Use in conjunction with trend indicators for confirmation of trend strength.",hyperparameters:[{name:"rsi_period",type:"int",min:5,max:30,default:14,step:1}]},rsx:{description:"RSX - Relative Strength Xtra, a smoother and more responsive version of the traditional RSI.",autocompleteText:"rsx(candles, period=self.hp['rsx_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the duration for analyzing price movements. Shorter periods provide quicker responses to price changes, suitable for volatile markets, while longer periods offer more stability, beneficial for trend following in less volatile conditions."},arguments:"candles: np.ndarray, period: int = 14, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the RSX is rising or crosses above a certain threshold (e.g., 50).",bearishCondition:"Bearish when the RSX is falling or crosses below a certain threshold (e.g., 50).",category:"Momentum",commonPairings:["MACD","Bollinger Bands"],bestUsedFor:"Enhanced trend strength identification with reduced noise.",historicalReliability:"Medium to High",customizationTips:"Adjust period for different market conditions; shorter for fast markets, longer for slow.",hyperparameters:[{name:"rsx_period",type:"int",min:5,max:30,default:14,step:1}]},rsmk:{description:"RSMK - Relative Strength, compares the performance of one security against another or a benchmark over a specific period.",autocompleteText:"rsmk(candles, candles_compare, lookback=self.hp['rsmk_lookback'], period=self.hp['rsmk_period'], signal_period=self.hp['rsmk_signal_period'], matype=self.hp['rsmk_matype'], signal_matype=self.hp['rsmk_signal_matype'], source_type='close', sequential=False)",parameterDescription:{lookback:"Defines the historical period for performance comparison. A longer lookback can provide a broader perspective on relative performance trends.",period:"Sets the timeframe for calculating the relative strength. Shorter periods can capture rapid changes in performance, while longer periods smooth out short-term fluctuations.",signal_period:"Determines the period for the signal line, offering an additional layer for trend confirmation and potential trading signals.",matype:"Specifies the type of moving average to be used for the main line calculation, allowing for customization of the indicators responsiveness.",signal_matype:"Selects the moving average type for the signal line, fine-tuning the indicator's sensitivity to market movements."},arguments:"candles: np.ndarray, candles_compare: np.ndarray, lookback: int = 90, period: int = 3, signal_period: int = 20, matype: int = 1, signal_matype: int = 1, source_type: str = 'close', sequential: bool = False",expectedReturn:"RSMK(indicator, signal)",bullishCondition:"Bullish when the RSMK indicator is rising, indicating outperformance compared to the benchmark or another security.",bearishCondition:"Bearish when the RSMK indicator is falling, indicating underperformance compared to the benchmark or another security.",category:"Relative Strength",commonPairings:["SMA","EMA"],bestUsedFor:"Comparing the performance of one security against another or a benchmark over a specific period.",historicalReliability:"Medium",customizationTips:"Alter lookback period and MA types for different comparison dynamics.",hyperparameters:[{name:"rsmk_lookback",type:"int",min:30,max:120,default:90,step:1},{name:"rsmk_period",type:"int",min:1,max:10,default:3,step:1},{name:"rsmk_signal_period",type:"int",min:5,max:30,default:20,step:1},{name:"rsmk_matype",type:"int",min:0,max:4,default:1,step:1},{name:"rsmk_signal_matype",type:"int",min:0,max:4,default:1,step:1}]},rvi:{description:"RVI - Relative Volatility Index, measures the direction of volatility. It is similar to the RSI but focuses on the standard deviation of high and low prices.",autocompleteText:"rvi(candles, period=self.hp['rvi_period'], ma_len=self.hp['rvi_ma_len'], matype=self.hp['rvi_matype'], devtype=self.hp['rvi_devtype'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the period for volatility measurement. Shorter periods offer quicker insights into recent volatility changes, while longer periods provide a more stable volatility overview.",ma_len:"Determines the length of the moving average used in the standard deviation calculation, affecting the sensitivity of the RVI.",matype:"Specifies the type of moving average used, allowing customization of the indicators responsiveness.",devtype:"Selects the method of standard deviation calculation, providing flexibility in volatility measurement."},arguments:"candles: np.ndarray, period: int = 10, ma_len: int = 14, matype: int = 1, devtype: int = 0, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the RVI is rising or crosses above its signal line, indicating increasing bullish volatility.",bearishCondition:"Bearish when the RVI is falling or crosses below its signal line, indicating increasing bearish volatility.",category:"Volatility",commonPairings:["Bollinger Bands","ATR"],bestUsedFor:"Identifying periods of high and low volatility in market prices.",historicalReliability:"Medium",customizationTips:"Combine with trend indicators for a comprehensive analysis of market volatility.",hyperparameters:[{name:"rvi_period",type:"int",min:5,max:20,default:10,step:1},{name:"rvi_ma_len",type:"int",min:5,max:30,default:14,step:1},{name:"rvi_matype",type:"int",min:0,max:4,default:1,step:1},{name:"rvi_devtype",type:"int",min:0,max:4,default:0,step:1}]},safezonestop:{description:"Safezone Stops, determines stop-loss levels by considering volatility and recent price movements.",autocompleteText:"safezonestop(candles, period=self.hp['safezonestop_period'], mult=self.hp['safezonestop_mult'], max_lookback=self.hp['safezonestop_max_lookback'], direction='long', sequential=False)",parameterDescription:{period:"Determines the time frame for analyzing price movements, influencing the sensitivity of the stop-loss levels.",mult:"Multiplier for volatility measurement, affecting the distance of stop-loss levels from the price.",max_lookback:"Sets the maximum number of periods to look back for volatility calculation, impacting stop-loss placement."},arguments:"candles: np.ndarray, period: int = 22, mult: float = 2.5, max_lookback: int = 3, direction: str = 'long', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Safezone Stop level for a long position.",bearishCondition:"Bearish when the price is below the Safezone Stop level for a short position.",category:"Volatility",commonPairings:["Moving Averages","RSI"],bestUsedFor:"Determining stop-loss levels based on recent volatility and price movements.",historicalReliability:"Medium",customizationTips:"Adjust the multiplier and lookback period based on personal risk tolerance and trading style.",hyperparameters:[{name:"safezonestop_period",type:"int",min:10,max:30,default:22,step:1},{name:"safezonestop_mult",type:"float",min:1,max:5,default:2.5,step:.1},{name:"safezonestop_max_lookback",type:"int",min:1,max:5,default:3,step:1}]},sar:{description:"SAR - Parabolic SAR, a trend-following indicator, provides potential reversals in price movement.",autocompleteText:"sar(candles, acceleration=self.hp['sar_acceleration'], maximum=self.hp['sar_maximum'], sequential=False)",parameterDescription:{acceleration:"Controls the rate of acceleration of the SAR points, influencing how quickly the indicator reacts to price changes.",maximum:"Sets the maximum value for the acceleration factor, limiting the rate at which the SAR points converge towards the price."},arguments:"candles: np.ndarray, acceleration: float = 0.02, maximum: float = 0.2, sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Parabolic SAR points, indicating an uptrend.",bearishCondition:"Bearish when the price is below the Parabolic SAR points, indicating a downtrend.",category:"Trend",commonPairings:["ADX","EMA"],bestUsedFor:"Identifying potential reversals in price movement, particularly in trending markets.",historicalReliability:"Medium",customizationTips:"Modify acceleration factors to suit the instruments volatility.",hyperparameters:[{name:"sar_acceleration",type:"float",min:.01,max:.05,default:.02,step:.01},{name:"sar_maximum",type:"float",min:.1,max:.5,default:.2,step:.1}]},sarext:{description:"SAREXT - Parabolic SAR Extended, an advanced version of the SAR indicator with additional customization options.",autocompleteText:"sarext(candles, startvalue=0, offsetonreverse=0, accelerationinitlong=0, accelerationlong=0, accelerationmaxlong=0, accelerationinitshort=0, accelerationshort=0, accelerationmaxshort=0, sequential=False)",arguments:"candles: np.ndarray, startvalue: float, offsetonreverse: float, accelerationinitlong: float, accelerationlong: float, accelerationmaxlong: float, accelerationinitshort: float, accelerationshort: float, accelerationmaxshort: float, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Extended Parabolic SAR points, indicating an uptrend.",bearishCondition:"Bearish when the price is below the Extended Parabolic SAR points, indicating a downtrend.",category:"Trend",commonPairings:["MACD","Stochastic Oscillator"],bestUsedFor:"Customizable trend following and reversal spotting with extended parameters.",historicalReliability:"Medium",customizationTips:"Experiment with different acceleration and offset parameters for fine-tuning to specific market conditions."},sinwma:{description:"SINWMA - Sine Weighted Moving Average, a moving average that places greater emphasis on the most recent data points using a sine weighting function.",autocompleteText:"sinwma(candles, period=self.hp['sinwma_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the length of the moving average. A shorter period makes the SINWMA more sensitive to recent price changes, while a longer period smooths out price fluctuations over time."},arguments:"candles: np.ndarray, period: int = 14, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Sine Weighted Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Sine Weighted Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["RSI","MACD"],bestUsedFor:"Smooth trend identification with emphasis on recent price action.",historicalReliability:"Medium",customizationTips:"Alter the period for sensitivity to recent price changes. Shorter periods for quicker markets.",hyperparameters:[{name:"sinwma_period",type:"int",min:5,max:30,default:14,step:1}]},skew:{description:"Skewness, a measure of the asymmetry of the probability distribution of returns.",autocompleteText:"skew(candles, period=self.hp['skew_period'], source_type='hl2', sequential=False)",parameterDescription:{period:"Defines the timeframe for measuring skewness. Shorter periods can capture recent asymmetry in price distributions, while longer periods provide a broader view of market trends."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'hl2', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Positive skewness may suggest potential for upward price movements.",bearishCondition:"Negative skewness may suggest potential for downward price movements.",category:"Volatility",commonPairings:["Standard Deviation","Bollinger Bands"],bestUsedFor:"Assessing asymmetry in price distribution, useful in volatility analysis.",historicalReliability:"Low to Medium",customizationTips:"Use in combination with other volatility measures for comprehensive insights.",hyperparameters:[{name:"skew_period",type:"int",min:3,max:20,default:5,step:1}]},sma:{description:"SMA - Simple Moving Average, calculates the average of a selected range of prices, typically closing prices, by the number of periods in that range.",autocompleteText:"sma(candles, period=self.hp['sma_period'], source_type='close', sequential=False)",parameterDescription:{period:"Adjustable length for the moving average. Shorter periods respond quicker to price changes, suitable for short-term trading. Longer periods provide a more stable trend view, suitable for longer-term strategies."},arguments:"candles: np.ndarray, period: int = 5, source_type: str = 'close', sequential: bool = False",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Simple Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Simple Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["EMA","Stochastic Oscillator"],bestUsedFor:"Basic trend following and moving average crossovers.",historicalReliability:"High",customizationTips:"Adjust the period to suit trading style: shorter for short-term trends, longer for long-term trends.",hyperparameters:[{name:"sma_period",type:"int",min:3,max:50,default:5,step:1}]},smma:{category:"Trend",commonPairings:["RSI","ADX"],bestUsedFor:"Reducing market noise and emphasizing the direction of the trend.",historicalReliability:"Medium",customizationTips:"Experiment with different periods to find the optimal balance between responsiveness and smoothing.",autocompleteText:"smma(candles, period=self.hp['smma_period'], source_type='close', sequential=False)",parameterDescription:{period:"The length of the smoothing period. Longer periods provide smoother lines, ideal for identifying stable trends. Shorter periods make the SMMA more reactive to price movements."},arguments:'candles: np.ndarray, period: int = 5, source_type: str = "close", sequential: bool = False',expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Smoothed Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Smoothed Moving Average, indicating a downward trend.",hyperparameters:[{name:"smma_period",type:"int",min:3,max:30,default:5,step:1}]},sqwma:{description:"Square Weighted Moving Average, emphasizes more recent data with a quadratic weighting.",autocompleteText:"sqwma(candles, period=self.hp['sqwma_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the period for this quadratic weighting moving average. Shorter periods are more sensitive to recent price changes, while longer periods offer smoother trend lines."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Square Weighted Moving Average, indicating upward momentum.",bearishCondition:"Bearish when the price is below the Square Weighted Moving Average, indicating downward momentum.",category:"Trend",commonPairings:["CCI","ATR"],bestUsedFor:"Identifying trends with a unique weighting approach that emphasizes recent data more heavily.",historicalReliability:"Medium",customizationTips:"Vary the period length according to market volatility; shorter in volatile markets.",hyperparameters:[{name:"sqwma_period",type:"int",min:5,max:30,default:14,step:1}]},srsi:{description:"Stochastic RSI, a momentum oscillator that measures the level of the RSI relative to its high-low range over a set period of time.",autocompleteText:"srsi(candles, period=self.hp['srsi_period'], source_type='close', sequential=False)",parameterDescription:{period:"The duration over which the Stochastic RSI is calculated. A shorter period makes the SRSI more responsive to recent price changes, while a longer period smoothens it out."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"StochasticRSI(k, d)",bullishCondition:"Bullish when the Stochastic RSI is rising or crosses above a certain threshold (e.g., 0.8).",bearishCondition:"Bearish when the Stochastic RSI is falling or crosses below a certain threshold (e.g., 0.2).",category:"Momentum",commonPairings:["MACD","Bollinger Bands"],bestUsedFor:"Identifying overbought or oversold conditions in trending markets.",historicalReliability:"Medium",customizationTips:"Adjust the period for sensitivity; lower for more frequent signals.",hyperparameters:[{name:"srsi_period",type:"int",min:5,max:30,default:14,step:1}]},srwma:{description:"Square Root Weighted Moving Average, similar to sqwma but uses the square root for weighting, providing a smoother curve.",autocompleteText:"srwma(candles, period=self.hp['srwma_period'], source_type='close', sequential=False)",parameterDescription:{period:"The length of the square root weighting. Shorter periods emphasize recent price movements more heavily, while longer periods provide smoother trend lines."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Square Root Weighted Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Square Root Weighted Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["RSI","ADX"],bestUsedFor:"Smoothing price data with emphasis on recent price action for trend analysis.",historicalReliability:"Medium",customizationTips:"Vary the period to balance between trend responsiveness and noise reduction.",hyperparameters:[{name:"srwma_period",type:"int",min:5,max:30,default:14,step:1}]},stc:{description:"STC - Schaff Trend Cycle, an oscillator that combines elements of MACD and Stochastic indicators.",autocompleteText:"stc(candles, fast_period=self.hp['stc_fast_period'], fast_matype=self.hp['stc_fast_matype'], slow_period=self.hp['stc_slow_period'], slow_matype=self.hp['stc_slow_matype'], k_period=self.hp['stc_k_period'], d_period=self.hp['stc_d_period'], source_type='close', sequential=False)",parameterDescription:{fast_period:"The period for the fast MA in the Schaff Trend Cycle.",fast_matype:"MA type for the fast MA.",slow_period:"The period for the slow MA.",slow_matype:"MA type for the slow MA.",k_period:"The time period for the Stochastic oscillator.",d_period:"The period for the signal line of the Stochastic."},arguments:"candles: np.ndarray, fast_period: int, fast_matype: int, slow_period: int, slow_matype: int, k_period: int, d_period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Schaff Trend Cycle moves above a certain threshold (e.g., 25) or trends upward.",bearishCondition:"Bearish when the Schaff Trend Cycle moves below a certain threshold (e.g., 75) or trends downward.",category:"Oscillator",commonPairings:["EMA","RSI"],bestUsedFor:"Identifying trend direction and potential reversals.",historicalReliability:"Medium",customizationTips:"Experiment with different periods and MA types to fine-tune to market conditions.",hyperparameters:[{name:"stc_fast_period",type:"int",min:10,max:30,default:23,step:1},{name:"stc_fast_matype",type:"int",min:0,max:4,default:1,step:1},{name:"stc_slow_period",type:"int",min:30,max:60,default:50,step:1},{name:"stc_slow_matype",type:"int",min:0,max:4,default:1,step:1},{name:"stc_k_period",type:"int",min:5,max:15,default:10,step:1},{name:"stc_d_period",type:"int",min:1,max:10,default:3,step:1}]},stddev:{description:"STDDEV - Standard Deviation, measures the market's volatility by calculating the standard deviation of a series over a specified period.",autocompleteText:"stddev(candles, period=self.hp['stddev_period'], nbdev=self.hp['stddev_nbdev'], source_type='close', sequential=False)",parameterDescription:{period:"The time frame over which the standard deviation is calculated. Shorter periods can react quickly to market changes, while longer periods offer a more stable measure.",nbdev:"The number of standard deviations to include. Higher values can help identify more significant deviations."},arguments:"candles: np.ndarray, period: int, nbdev: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Higher standard deviation can indicate increasing market volatility, which might be bullish in a rising market.",bearishCondition:"Higher standard deviation can indicate increasing market volatility, which might be bearish in a falling market.",category:"Volatility",commonPairings:["Bollinger Bands","Mean Deviation"],bestUsedFor:"Measuring market volatility and identifying potential breakouts.",historicalReliability:"High",customizationTips:"Adjust the period to suit the desired trading timeframe.",hyperparameters:[{name:"stddev_period",type:"int",min:3,max:20,default:5,step:1},{name:"stddev_nbdev",type:"int",min:1,max:5,default:1,step:1}]},stoch:{description:"The Stochastic Oscillator, a momentum indicator comparing a particular closing price to a range of prices over a certain period.",autocompleteText:"stoch(candles, fastk_period=self.hp['stoch_fastk_period'], slowk_period=self.hp['stoch_slowk_period'], slowk_matype=self.hp['stoch_slowk_matype'], slowd_period=self.hp['stoch_slowd_period'], slowd_matype=self.hp['stoch_slowd_matype'], sequential=False)",parameterDescription:{fastk_period:"The period for the fast K line, determining the oscillator's sensitivity.",slowk_period:"The period for the slow K line, often a smoothed version of the fast K.",slowk_matype:"The MA type for the slow K line, affecting how it is smoothed.",slowd_period:"The period for the slow D line, usually a moving average of the slow K.",slowd_matype:"The MA type for the slow D line, influencing its calculation."},arguments:"candles: np.ndarray, fastk_period: int, slowk_period: int, slowk_matype: int, slowd_period: int, slowd_matype: int, sequential: bool",expectedReturn:"Stochastic(k, d)",bullishCondition:"Bullish when the Stochastic Oscillator crosses above the signal line or exits the oversold area (below 20).",bearishCondition:"Bearish when the Stochastic Oscillator crosses below the signal line or enters the overbought area (above 80).",category:"Momentum",commonPairings:["MACD","RSI"],bestUsedFor:"Determining overbought and oversold levels in a range-bound market.",historicalReliability:"Medium",customizationTips:"Alter periods for sensitivity; shorter periods for more frequent signals.",hyperparameters:[{name:"stoch_fastk_period",type:"int",min:5,max:20,default:14,step:1},{name:"stoch_slowk_period",type:"int",min:1,max:10,default:3,step:1},{name:"stoch_slowk_matype",type:"int",min:0,max:4,default:0,step:1},{name:"stoch_slowd_period",type:"int",min:1,max:10,default:3,step:1},{name:"stoch_slowd_matype",type:"int",min:0,max:4,default:0,step:1}]},stochf:{description:"Stochastic Fast, provides a faster version of the Stochastic Oscillator, often leading to quicker signals.",autocompleteText:"stochf(candles, fastk_period=self.hp['stochf_fastk_period'], fastd_period=self.hp['stochf_fastd_period'], fastd_matype=self.hp['stochf_fastd_matype'], sequential=False)",parameterDescription:{fastk_period:"Controls the sensitivity of the indicator. Shorter periods may provide faster signals.",fastd_period:"The smoothing period for the Fast D line, which can provide signal confirmation.",fastd_matype:"The type of moving average to use for smoothing the Fast D line, affecting signal clarity."},arguments:"candles: np.ndarray, fastk_period: int, fastd_period: int, fastd_matype: int, sequential: bool",expectedReturn:"StochasticFast(k, d)",bullishCondition:"Bullish when the Fast Stochastic Oscillator crosses above the signal line or exits the oversold area.",bearishCondition:"Bearish when the Fast Stochastic Oscillator crosses below the signal line or enters the overbought area.",category:"Momentum",commonPairings:["SMA","EMA"],bestUsedFor:"Quick identification of market momentum changes.",historicalReliability:"Medium",customizationTips:"Use in combination with trend indicators for confirmation of signals.",hyperparameters:[{name:"stochf_fastk_period",type:"int",min:3,max:15,default:5,step:1},{name:"stochf_fastd_period",type:"int",min:1,max:10,default:3,step:1},{name:"stochf_fastd_matype",type:"int",min:0,max:4,default:0,step:1}]},supersmoother:{description:"Super Smoother Filter 2pole Butterworth, designed by John F. Ehlers, smoothens price data with minimal lag.",autocompleteText:"supersmoother(candles, period=self.hp['supersmoother_period'], source_type='close', sequential=False)",parameterDescription:{period:"The length of the period over which the filter is applied. Adjusting this can help in focusing on different aspects of the trend."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Super Smoother Filter, indicating a potential upward trend.",bearishCondition:"Bearish when the price is below the Super Smoother Filter, indicating a potential downward trend.",category:"Trend",commonPairings:["MACD","Stochastic"],bestUsedFor:"Filtering out shorter-term cycles to focus on the main trend.",historicalReliability:"Medium",customizationTips:"Adjust period for sensitivity to price changes.",hyperparameters:[{name:"supersmoother_period",type:"int",min:5,max:30,default:14,step:1}]},supersmoother_3_pole:{description:"Super Smoother Filter 3pole Butterworth, an advanced version by John F. Ehlers, offering smoother price data with minimized lag.",autocompleteText:"supersmoother_3_pole(candles, period=self.hp['supersmoother_3_pole_period'], source_type='close', sequential=False)",parameterDescription:{period:"Defines the calculation period for the filter. A higher period offers smoother results but may increase lag."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Super Smoother 3-Pole Filter, suggesting an upward trend.",bearishCondition:"Bearish when the price is below the Super Smoother 3-Pole Filter, suggesting a downward trend.",category:"Trend",commonPairings:["RSI","ADX"],bestUsedFor:"Reducing lag in trend detection and smooth price data.",historicalReliability:"Medium",customizationTips:"Vary period length according to market volatility.",hyperparameters:[{name:"supersmoother_3_pole_period",type:"int",min:5,max:30,default:14,step:1}]},swma:{description:"Symmetric Weighted Moving Average (SWMA), provides a balanced weight distribution, offering a middle ground between recent and older data.",autocompleteText:"swma(candles, period=self.hp['swma_period'], source_type='close', sequential=False)",parameterDescription:{period:"The length of the period over which the average is calculated. Adjusting this can affect the sensitivity to recent price movements."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Symmetric Weighted Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Symmetric Weighted Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["Bollinger Bands","EMA"],bestUsedFor:"Balancing price data for medium-term trend analysis.",historicalReliability:"Medium",customizationTips:"Combine with momentum indicators for trend confirmation.",hyperparameters:[{name:"swma_period",type:"int",min:3,max:20,default:5,step:1}]},supertrend:{description:"Supertrend combines volatility and price data to identify trend direction and reversals, offering clear buy and sell signals.",autocompleteText:"supertrend(candles, period=self.hp['supertrend_period'], factor=self.hp['supertrend_factor'], sequential=False)",parameterDescription:{period:"Determines the calculation period for the trend. A longer period may smooth out market noise but can delay signal generation.",factor:"Adjusts the sensitivity of the trend indicator. Higher values can lead to fewer, but possibly more reliable, signals."},arguments:"candles: np.ndarray, period: int, factor: float, sequential: bool",expectedReturn:"SuperTrend(trend, changed)",bullishCondition:"Bullish when the price is above the Supertrend line, indicating a potential upward trend.",bearishCondition:"Bearish when the price is below the Supertrend line, indicating a potential downward trend.",category:"Trend",commonPairings:["ATR","RSI"],bestUsedFor:"Identifying potential trend reversals and ongoing trend strength.",historicalReliability:"High",customizationTips:"Adjust period and factor settings based on asset volatility.",hyperparameters:[{name:"supertrend_period",type:"int",min:5,max:30,default:10,step:1},{name:"supertrend_factor",type:"float",min:1,max:5,default:3,step:.1}]},t3:{description:"T3 (Triple Exponential Moving Average) offers a smooth moving average with reduced lag, ideal for identifying trends.",autocompleteText:"t3(candles, period=self.hp['t3_period'], vfactor=self.hp['t3_vfactor'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the length of the moving average. Adjusting this affects the sensitivity to price changes.",vfactor:"Controls the volume factor in the calculation, affecting the smoothness of the moving average."},arguments:"candles: np.ndarray, period: int, vfactor: float, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the T3 indicator, suggesting an upward trend.",bearishCondition:"Bearish when the price is below the T3 indicator, suggesting a downward trend.",category:"Trend",commonPairings:["MACD","Stochastic"],bestUsedFor:"Identifying the underlying trend with reduced lag.",historicalReliability:"High",customizationTips:"Modify the vfactor to control the amount of smoothing.",hyperparameters:[{name:"t3_period",type:"int",min:3,max:30,default:5,step:1},{name:"t3_vfactor",type:"float",min:0,max:1,default:0,step:.1}]},tema:{description:"TEMA, or Triple Exponential Moving Average, provides a smoother and more responsive moving average, ideal for trend identification.",autocompleteText:"tema(candles, period=self.hp['tema_period'], source_type='close', sequential=False)",parameterDescription:{period:"Defines the calculation period for the moving average. A longer period may result in a smoother but less responsive indicator."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Triple Exponential Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Triple Exponential Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["RSI","CCI"],bestUsedFor:"Smooth trend following with minimal lag.",historicalReliability:"High",customizationTips:"Experiment with different periods for varying market conditions.",hyperparameters:[{name:"tema_period",type:"int",min:3,max:30,default:9,step:1}]},trange:{description:"TRANGE represents the True Range, measuring market volatility by decomposing the entire range of an asset price for that period.",autocompleteText:"trange(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"An increasing True Range can suggest increased market volatility, which might be bullish in a rising market or bearish in a declining market, depending on context.",bearishCondition:"A decreasing True Range can suggest decreased market volatility, which might be bearish in a declining market or bullish in a rising market, depending on context.",category:"Volatility",commonPairings:["ATR","RSI"],bestUsedFor:"Measuring market volatility and potential breakout signals.",historicalReliability:"High",customizationTips:"Use in conjunction with directional indicators for validating volatility."},trendflex:{description:"Trendflex, by John F. Ehlers, is a responsive indicator that helps in identifying the market trend's strength and direction.",autocompleteText:"trendflex(candles, period=self.hp['trendflex_period'], source_type='close', sequential=False)",parameterDescription:{period:"Defines the calculation period for the Trendflex indicator. Adjusting the period can influence the indicator's responsiveness to market changes."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Trendflex indicator is rising, suggesting a strengthening upward trend.",bearishCondition:"Bearish when the Trendflex indicator is falling, suggesting a strengthening downward trend.",category:"Trend",commonPairings:["EMA","MACD"],bestUsedFor:"Identifying the strength and direction of market trends.",historicalReliability:"Medium",customizationTips:"Adjust the period to match the asset's price movement characteristics.",hyperparameters:[{name:"trendflex_period",type:"int",min:5,max:40,default:20,step:1}]},trima:{description:"TRIMA, or Triangular Moving Average, is a smoothed moving average that reduces lag and focuses on the middle part of the price data range.",autocompleteText:"trima(candles, period=self.hp['trima_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the length of the Triangular Moving Average. A longer period can lead to a smoother average, while a shorter period may provide quicker signals."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Triangular Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Triangular Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["Stochastic","Bollinger Bands"],bestUsedFor:"Smooth trend identification over a specified period.",historicalReliability:"Medium",customizationTips:"Combine with momentum indicators for trend reversals.",hyperparameters:[{name:"trima_period",type:"int",min:5,max:50,default:30,step:1}]},trix:{description:"TRIX is a momentum indicator that displays the rate of change of a triple exponentially smoothed moving average of a security's closing price.",autocompleteText:"trix(candles, period=self.hp['trix_period'], source_type='close', sequential=False)",parameterDescription:{period:"Specifies the length of the TRIX calculation. A longer period can make the indicator less sensitive to market movements, while a shorter period can provide more responsive signals."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the TRIX is rising or crosses above its signal line, indicating increasing upward momentum.",bearishCondition:"Bearish when the TRIX is falling or crosses below its signal line, indicating increasing downward momentum.",category:"Momentum",commonPairings:["ADX","RSI"],bestUsedFor:"Identifying overbought or oversold conditions in a trend.",historicalReliability:"Medium",customizationTips:"Use as a filter to avoid false signals in non-trending markets.",hyperparameters:[{name:"trix_period",type:"int",min:5,max:30,default:18,step:1}]},tsf:{description:"TSF, Time Series Forecast, predicts future values of a security's price over a specified time period based on linear regression.",autocompleteText:"tsf(candles, period=self.hp['tsf_period'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the timeframe for the Time Series Forecast. Adjusting the period can influence the forecast's accuracy and responsiveness to recent price changes."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Time Series Forecast line, indicating upward momentum.",bearishCondition:"Bearish when the price is below the Time Series Forecast line, indicating downward momentum.",category:"Trend",commonPairings:["SMA","CCI"],bestUsedFor:"Predicting future price values based on recent trends.",historicalReliability:"Medium",customizationTips:"Ideal for short-term trading; adjust the period for longer-term trends.",hyperparameters:[{name:"tsf_period",type:"int",min:5,max:30,default:14,step:1}]},tsi:{description:"TSI, or True Strength Index, is a momentum oscillator that helps to identify overbought and oversold conditions in a security.",autocompleteText:"tsi(candles, long_period=self.hp['tsi_long_period'], short_period=self.hp['tsi_short_period'], source_type='close', sequential=False)",parameterDescription:{long_period:"Controls the long-term smoothing of price changes, with a higher value leading to less sensitivity and smoother output.",short_period:"Manages the short-term smoothing. A lower value makes the indicator more sensitive to recent price changes."},arguments:"candles: np.ndarray, long_period: int, short_period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the True Strength Index crosses above its signal line or is in an upward trend.",bearishCondition:"Bearish when the True Strength Index crosses below its signal line or is in a downward trend.",category:"Momentum",commonPairings:["MACD","Bollinger Bands"],bestUsedFor:"Identifying overbought or oversold conditions in a trend.",historicalReliability:"Medium",customizationTips:"Combine with a moving average to confirm trend direction.",hyperparameters:[{name:"tsi_long_period",type:"int",min:10,max:40,default:25,step:1},{name:"tsi_short_period",type:"int",min:5,max:20,default:13,step:1}]},ttm_trend:{description:"TTM Trend is a visual technique that eliminates irregularities and allows a better understanding of the trend's strength and direction.",autocompleteText:"ttm_trend(candles, period=self.hp['ttm_trend_period'], source_type='hl2', sequential=False)",parameterDescription:{period:"Determines the number of bars used for calculating the TTM Trend. A higher period value results in a smoother but less responsive indicator."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the TTM Trend indicator turns green, indicating a potential bullish trend.",bearishCondition:"Bearish when the TTM Trend indicator turns red, indicating a potential bearish trend.",category:"Trend",commonPairings:["MACD","RSI"],bestUsedFor:"Visual trend identification, particularly in volatile markets.",historicalReliability:"Medium",customizationTips:"Alter the period to suit different trading styles and time frames.",hyperparameters:[{name:"ttm_trend_period",type:"int",min:3,max:20,default:5,step:1}]},typprice:{description:"TYPPRICE, or Typical Price, gives the average of high, low, and closing prices for each period, often used as a moving average.",autocompleteText:"typprice(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the current price is above the Typical Price, suggesting upward price movement.",bearishCondition:"Bearish when the current price is below the Typical Price, suggesting downward price movement.",category:"Price Level",commonPairings:["Volume","Moving Averages"],bestUsedFor:"Identifying price levels for setting support/resistance or target levels.",historicalReliability:"High",customizationTips:"Combine with volume indicators for price confirmation."},ui:{description:"Ulcer Index (UI) measures the downside risk in terms of price declines and the time taken for recovery to the original level.",autocompleteText:"ui(candles, period=self.hp['ui_period'], scalar=self.hp['ui_scalar'], source_type='close', sequential=False)",parameterDescription:{period:"Defines the lookback period for calculating the drawdowns and recovery. A longer period can capture more extensive market downturns.",scalar:"A scaling factor to adjust the sensitivity of the index. Higher values may amplify the index's response to market changes."},arguments:"candles: np.ndarray, period: int, scalar: float, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"A lower Ulcer Index suggests less downside risk, potentially bullish in a stable or upward-trending market.",bearishCondition:"A higher Ulcer Index suggests more downside risk, potentially bearish in a volatile or downward-trending market.",category:"Risk",commonPairings:["RSI","ATR"],bestUsedFor:"Assessing the risk and downside in a market.",historicalReliability:"Medium to High",customizationTips:"Use in conjunction with trend analysis for risk-adjusted investment decisions.",hyperparameters:[{name:"ui_period",type:"int",min:5,max:30,default:14,step:1},{name:"ui_scalar",type:"float",min:50,max:200,default:100,step:10}]},ultosc:{description:"ULTOSC, or Ultimate Oscillator, combines short, intermediate, and long-term price action into one oscillator to reduce volatility and false signals.",autocompleteText:"ultosc(candles, timeperiod1=self.hp['ultosc_timeperiod1'], timeperiod2=self.hp['ultosc_timeperiod2'], timeperiod3=self.hp['ultosc_timeperiod3'], sequential=False)",parameterDescription:{timeperiod1:"Short-term period for capturing quick market movements.",timeperiod2:"Intermediate-term period to balance between short and long-term market trends.",timeperiod3:"Long-term period for capturing more extensive market cycles."},arguments:"candles: np.ndarray, timeperiod1: int, timeperiod2: int, timeperiod3: int, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Ultimate Oscillator rises above a certain threshold (e.g., 70), indicating potential overbought conditions that may lead to a reversal.",bearishCondition:"Bearish when the Ultimate Oscillator falls below a certain threshold (e.g., 30), indicating potential oversold conditions that may lead to a reversal.",category:"Momentum",commonPairings:["Bollinger Bands","Stochastic"],bestUsedFor:"Identifying overbought or oversold conditions in multiple time frames.",historicalReliability:"Medium",customizationTips:"Adjust time periods to capture different market cycles.",hyperparameters:[{name:"ultosc_timeperiod1",type:"int",min:3,max:10,default:7,step:1},{name:"ultosc_timeperiod2",type:"int",min:5,max:20,default:14,step:1},{name:"ultosc_timeperiod3",type:"int",min:10,max:40,default:28,step:1}]},var:{description:"VAR, or Variance, measures the dispersion of a dataset relative to its mean, used to gauge volatility.",autocompleteText:"var(candles, period=self.hp['var_period'], nbdev=self.hp['var_nbdev'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the length of the time frame for calculating variance, influencing the sensitivity to price changes.",nbdev:"Number of standard deviations for the calculation. A higher number might provide a more comprehensive view of market volatility."},arguments:"candles: np.ndarray, period: int, nbdev: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Increased variance can indicate heightened market volatility, which might be bullish in a rising market or bearish in a falling market.",bearishCondition:"Decreased variance might suggest reduced market volatility, potentially signaling a consolidating or reversing trend.",category:"Volatility",commonPairings:["Standard Deviation","Bollinger Bands"],bestUsedFor:"Measuring market volatility and dispersion of returns from the mean.",historicalReliability:"High",customizationTips:"Use in risk management to understand volatility and set appropriate risk levels.",hyperparameters:[{name:"var_period",type:"int",min:5,max:30,default:14,step:1},{name:"var_nbdev",type:"int",min:1,max:5,default:1,step:1}]},vi:{description:"Vortex Indicator (VI) identifies the start of a new trend or confirms an ongoing trend.",autocompleteText:"vi(candles, period=self.hp['vi_period'], sequential=False)",parameterDescription:{period:"The lookback period for calculating the Vortex Indicator. Adjusting this period can change the sensitivity to market movements."},arguments:"candles: np.ndarray, period: int, sequential: bool",expectedReturn:"VI(plus, minus)",bullishCondition:"Bullish when the Positive Vortex Indicator (VI+) crosses above the Negative Vortex Indicator (VI-), indicating an uptrend.",bearishCondition:"Bearish when the Negative Vortex Indicator (VI-) crosses above the Positive Vortex Indicator (VI+), indicating a downtrend.",category:"Trend",commonPairings:["ADX","MACD"],bestUsedFor:"Identifying the start of new trends and confirming ongoing trends.",historicalReliability:"Medium",customizationTips:"Adjust the period to match the time frame of the trading strategy.",hyperparameters:[{name:"vi_period",type:"int",min:5,max:30,default:14,step:1}]},vidya:{description:"VIDYA, or Variable Index Dynamic Average, is an adaptive moving average that adjusts its smoothing based on market volatility.",autocompleteText:"vidya(candles, short_period=self.hp['vidya_short_period'], long_period=self.hp['vidya_long_period'], alpha=self.hp['vidya_alpha'], source_type='close', sequential=False)",parameterDescription:{short_period:"Defines the shorter lookback period, impacting responsiveness to recent market movements.",long_period:"Sets the longer lookback period, offering a broader view of market trends.",alpha:"Adjustment factor for volatility; higher alpha increases sensitivity to recent price changes."},arguments:"candles: np.ndarray, short_period: int, long_period: int, alpha: float, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the VIDYA, indicating an upward trend in the market.",bearishCondition:"Bearish when the price is below the VIDYA, indicating a downward trend in the market.",category:"Trend",commonPairings:["RSI","MACD"],bestUsedFor:"Adapting to changing market volatility and identifying trends.",historicalReliability:"Medium to High",customizationTips:"Vary short and long periods to capture different market phases.",hyperparameters:[{name:"vidya_short_period",type:"int",min:1,max:10,default:2,step:1},{name:"vidya_long_period",type:"int",min:5,max:20,default:5,step:1},{name:"vidya_alpha",type:"float",min:.1,max:.5,default:.2,step:.05}]},vpci:{description:"VPCI, or Volume Price Confirmation Indicator, blends price and volume to confirm the strength of price trends or warn of weak movement.",autocompleteText:"vpci(candles, short_range=self.hp['vpci_short_range'], long_range=self.hp['vpci_long_range'], sequential=False)",parameterDescription:{short_range:"Short-term range for analyzing price-volume relationship, affecting indicator's sensitivity to recent changes.",long_range:"Long-term range for a more comprehensive view of the volume-price interaction over time."},arguments:"candles: np.ndarray, short_range: int, long_range: int, sequential: bool",expectedReturn:"VPCI(vpci, vpcis)",bullishCondition:"Bullish when the VPCI is rising, suggesting that volume is confirming an upward price trend.",bearishCondition:"Bearish when the VPCI is falling, suggesting that volume is confirming a downward price trend.",category:"Volume",commonPairings:["Volume Oscillator","OBV"],bestUsedFor:"Confirming the strength of price trends with volume analysis.",historicalReliability:"Medium",customizationTips:"Use different short and long range periods to analyze different market trends.",hyperparameters:[{name:"vpci_short_range",type:"int",min:3,max:10,default:5,step:1},{name:"vpci_long_range",type:"int",min:10,max:30,default:25,step:1}]},vlma:{description:"Variable Length Moving Average (VLMA) adapts to market volatility by changing its length based on recent price changes.",autocompleteText:"vlma(candles, min_period=self.hp['vlma_min_period'], max_period=self.hp['vlma_max_period'], matype=self.hp['vlma_matype'], devtype=self.hp['vlma_devtype'], source_type='close', sequential=False)",parameterDescription:{min_period:"The minimum length of the moving average, affecting its sensitivity to short-term price changes.",max_period:"The maximum length of the moving average, determining its response to longer-term trends.",matype:"Type of moving average used within VLMA, affecting the calculation method.",devtype:"Determines the deviation type, influencing how the moving average adapts to market conditions."},arguments:"candles: np.ndarray, min_period: int, max_period: int, matype: int, devtype: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Variable Length Moving Average, indicating a potential upward trend.",bearishCondition:"Bearish when the price is below the Variable Length Moving Average, indicating a potential downward trend.",category:"Trend",commonPairings:["EMA","SMA"],bestUsedFor:"Adapting to market volatility with a dynamically adjusting moving average.",historicalReliability:"Medium",customizationTips:"Experiment with min and max periods to fine-tune responsiveness.",hyperparameters:[{name:"vlma_min_period",type:"int",min:3,max:20,default:5,step:1},{name:"vlma_max_period",type:"int",min:20,max:60,default:50,step:1},{name:"vlma_matype",type:"int",min:0,max:4,default:0,step:1},{name:"vlma_devtype",type:"int",min:0,max:4,default:0,step:1}]},vosc:{description:"Volume Oscillator (VOSC) measures the difference between two volume-based moving averages to identify volume trends.",autocompleteText:"vosc(candles, short_period=self.hp['vosc_short_period'], long_period=self.hp['vosc_long_period'], sequential=False)",parameterDescription:{short_period:"Short-term period for the volume-based moving average, used to capture immediate volume trends.",long_period:"Long-term period for the volume-based moving average, offering insights into sustained volume movements."},arguments:"candles: np.ndarray, short_period: int, long_period: int, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Volume Oscillator is above its signal line or is rising, indicating increasing volume on upward price movements.",bearishCondition:"Bearish when the Volume Oscillator is below its signal line or is falling, indicating increasing volume on downward price movements.",category:"Volume",commonPairings:["MACD","RSI"],bestUsedFor:"Identifying volume trends and divergences.",historicalReliability:"Medium",customizationTips:"Adjust the short and long periods to align with specific trading strategies.",hyperparameters:[{name:"vosc_short_period",type:"int",min:1,max:10,default:2,step:1},{name:"vosc_long_period",type:"int",min:5,max:20,default:5,step:1}]},voss:{description:"Voss Filter, developed by John Ehlers, is designed to minimize lag in moving averages and smooth price data efficiently.",autocompleteText:"voss(candles, period=self.hp['voss_period'], predict=self.hp['voss_predict'], bandwith=self.hp['voss_bandwith'], source_type='close', sequential=False)",parameterDescription:{period:"Defines the number of periods to be considered for the Voss filter. Increasing the period value smoothens the filter at the expense of lag.",predict:"Specifies the number of periods ahead for which the Voss filter tries to predict the value.",bandwith:"Determines the bandwidth of the filter. A higher value results in a smoother filter."},arguments:"candles: np.ndarray, period: int, predict: int, bandwith: float, source_type: str, sequential: bool",expectedReturn:"VossFilter(voss, filt)",bullishCondition:"Bullish when the price is above the Voss Filter, indicating a potential upward trend.",bearishCondition:"Bearish when the price is below the Voss Filter, indicating a potential downward trend.",category:"Trend",commonPairings:["EMA","SMA"],bestUsedFor:"Smoothing price data efficiently with minimal lag, ideal for trend following.",historicalReliability:"Medium to High",customizationTips:"Adjust the period and bandwidth to tune the responsiveness to price changes.",hyperparameters:[{name:"voss_period",type:"int",min:10,max:30,default:20,step:1},{name:"voss_predict",type:"int",min:1,max:10,default:3,step:1},{name:"voss_bandwith",type:"float",min:.1,max:.5,default:.25,step:.05}]},vpt:{description:"Volume Price Trend (VPT) combines price and volume to highlight the relationship between them and trends in the market.",autocompleteText:"vpt(candles, source_type='close', sequential=False)",arguments:"candles: np.ndarray, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the Volume Price Trend is rising, indicating positive volume-pressure that can lead to price increases.",bearishCondition:"Bearish when the Volume Price Trend is falling, indicating negative volume-pressure that can lead to price decreases.",category:"Volume",commonPairings:["OBV","Volume Oscillator"],bestUsedFor:"Highlighting the relationship between volume and price trends.",historicalReliability:"Medium",customizationTips:"Best used in combination with other trend indicators for confirmation."},vpwma:{description:"Variable Power Weighted Moving Average (VPWMA) is a variant of moving averages that assigns different weights to different periods based on a power factor.",autocompleteText:"vpwma(candles, period=self.hp['vpwma_period'], power=self.hp['vpwma_power'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the number of periods over which the VPWMA is calculated, affecting the smoothness and sensitivity of the average.",power:"Controls the emphasis on recent prices, with higher values giving more weight to recent data, thus making the average more responsive to new price information."},arguments:"candles: np.ndarray, period: int, power: float, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Variable Power Weighted Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Variable Power Weighted Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["SMA","EMA"],bestUsedFor:"Adjusting emphasis on recent data using a power factor in a moving average.",historicalReliability:"Medium",customizationTips:"Vary the power parameter to increase or decrease the emphasis on recent prices.",hyperparameters:[{name:"vpwma_period",type:"int",min:5,max:30,default:14,step:1},{name:"vpwma_power",type:"float",min:.1,max:1,default:.382,step:.01}]},vwap:{description:"Volume Weighted Average Price (VWAP) provides an average price a security has traded at throughout the day, based on both volume and price.",autocompleteText:"vwap(candles, source_type='hlc3', anchor='D', sequential=False)",arguments:"candles: np.ndarray, source_type: str, anchor: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Volume Weighted Average Price, indicating that the price is higher than the average day price.",bearishCondition:"Bearish when the price is below the Volume Weighted Average Price, indicating that the price is lower than the average day price.",category:"Volume",commonPairings:["Moving Averages","Price Oscillators"],bestUsedFor:"Determining the average price a security has traded at throughout the day, based on volume and price.",historicalReliability:"High",customizationTips:"Use in conjunction with other indicators to identify potential support and resistance levels."},vwma:{category:"Trend",commonPairings:["MACD","RSI"],bestUsedFor:"Identifying trend direction with volume as a weighting factor.",historicalReliability:"Medium to High",customizationTips:"Adjust the period based on the desired balance between sensitivity and smoothing. A shorter period can be more responsive but less smooth.",description:"VWMA - Volume Weighted Moving Average, emphasizes volume in its calculation to provide a more comprehensive view of the trend.",autocompleteText:"vwma(candles, period=self.hp['vwma_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the number of periods over which the VWMA is calculated. Shorter periods can increase sensitivity but may reduce smoothness, impacting the trend identification."},arguments:'candles: np.ndarray, period: int = 20, source_type: str = "close", sequential: bool = False',expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Volume Weighted Moving Average, suggesting strong buying interest.",bearishCondition:"Bearish when the price is below the Volume Weighted Moving Average, suggesting strong selling interest.",hyperparameters:[{name:"vwma_period",type:"int",min:5,max:50,default:20,step:1}]},vwmacd:{description:"Volume Weighted Moving Average Convergence/Divergence (VWMACD) is a variation of the classic MACD, incorporating volume into its calculations.",autocompleteText:"vwmacd(candles, fast_period=self.hp['vwmacd_fast_period'], slow_period=self.hp['vwmacd_slow_period'], signal_period=self.hp['vwmacd_signal_period'], sequential=False)",parameterDescription:{fast_period:"Determines the shorter moving average, impacting the sensitivity of the VWMACD to recent price changes.",slow_period:"Defines the longer moving average, providing a baseline for the momentum over a longer time frame.",signal_period:"Sets the period for the signal line, which is used to generate trading signals from the VWMACD."},arguments:"candles: np.ndarray, fast_period: int, slow_period: int, signal_period: int, sequential: bool",expectedReturn:"VWMACD(macd, signal, hist)",bullishCondition:"Bullish when the VWMACD line crosses above its signal line or moves above zero.",bearishCondition:"Bearish when the VWMACD line crosses below its signal line or moves below zero.",category:"Momentum",commonPairings:["RSI","Stochastic Oscillator"],bestUsedFor:"Identifying trend reversals and momentum, with volume weighting for added insight.",historicalReliability:"Medium to High",customizationTips:"Experiment with different periods for the MACD calculation to better suit specific market conditions.",hyperparameters:[{name:"vwmacd_fast_period",type:"int",min:5,max:20,default:12,step:1},{name:"vwmacd_slow_period",type:"int",min:10,max:30,default:26,step:1},{name:"vwmacd_signal_period",type:"int",min:5,max:15,default:9,step:1}]},wad:{description:"Williams Accumulation/Distribution (WAD) measures market pressure, helping identify bullish or bearish trends based on price movements.",autocompleteText:"wad(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when Williams Accumulation/Distribution is rising, indicating buying pressure and potential upward trend.",bearishCondition:"Bearish when Williams Accumulation/Distribution is falling, indicating selling pressure and potential downward trend.",category:"Volume",commonPairings:["OBV","Volume Oscillator"],bestUsedFor:"Measuring buying and selling pressure over time.",historicalReliability:"Medium",customizationTips:"Combine with volume indicators or price action analysis for a more complete picture."},wclprice:{description:"Weighted Close Price (WCLPRICE) calculates an average price, giving more weight to the closing price of the asset.",autocompleteText:"wclprice(candles, sequential=False)",arguments:"candles: np.ndarray, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the current price is above the Weighted Close Price, suggesting an upward price movement.",bearishCondition:"Bearish when the current price is below the Weighted Close Price, suggesting a downward price movement.",category:"Price Action",commonPairings:["SMA","EMA"],bestUsedFor:"Providing a more accurate reflection of the day's price action by weighting the closing price.",historicalReliability:"Medium",customizationTips:"Use as a basis for custom moving averages or in combination with typical price action strategies."},wilders:{description:"Wilders Smoothing (WILDERS) is an indicator used for smoothing price data. It's similar to an exponential moving average but reacts more slowly to price changes.",autocompleteText:"wilders(candles, period=self.hp['wilders_period'], source_type='close', sequential=False)",parameterDescription:{period:"Controls the smoothing level of the Wilders line. A longer period provides greater smoothing, which can help in reducing market noise but may also lag in responding to price changes."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Wilders Smoothing line, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Wilders Smoothing line, indicating a downward trend.",category:"Trend",commonPairings:["ADX","ATR"],bestUsedFor:"Smoothing price data for trend analysis with reduced market noise.",historicalReliability:"Medium to High",customizationTips:"Adjust the period based on the asset's volatility and your trading timeframe.",hyperparameters:[{name:"wilders_period",type:"int",min:3,max:20,default:5,step:1}]},willr:{description:"Williams' %R (WILLR) is a momentum indicator that measures overbought and oversold levels, similar to a stochastic oscillator.",autocompleteText:"willr(candles, period=self.hp['willr_period'], sequential=False)",parameterDescription:{period:"Sets the lookback period for Williams %R. A shorter period may lead to more sensitive readings, while a longer period could offer a more stable overview of overbought and oversold conditions."},arguments:"candles: np.ndarray, period: int, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when Williams %R is above -20, indicating overbought conditions that might lead to a reversal.",bearishCondition:"Bearish when Williams %R is below -80, indicating oversold conditions that might lead to a reversal.",category:"Momentum",commonPairings:["RSI","Stochastic Oscillator"],bestUsedFor:"Identifying overbought and oversold market conditions.",historicalReliability:"Medium",customizationTips:"Consider using in conjunction with trend-following indicators to filter out false signals.",hyperparameters:[{name:"willr_period",type:"int",min:5,max:20,default:14,step:1}]},wma:{description:"Weighted Moving Average (WMA) places greater emphasis on more recent data points, making it more responsive to new information.",autocompleteText:"wma(candles, period=self.hp['wma_period'], source_type='close', sequential=False)",parameterDescription:{period:"Defines the number of periods for the WMA calculation, with shorter periods leading to a more responsive average that prioritizes recent price movements."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Weighted Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Weighted Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["EMA","SMA"],bestUsedFor:"Identifying trends by emphasizing recent price movements.",historicalReliability:"Medium",customizationTips:"Adjust the period to match your trading strategy; shorter periods for short-term trading, longer for long-term.",hyperparameters:[{name:"wma_period",type:"int",min:5,max:50,default:30,step:1}]},wt:{description:"Wavetrend (WT) is an oscillator that helps identify trend reversals, typically used in cryptocurrency trading for its sensitivity to price movements.",autocompleteText:"wt(candles, wtchannellen=self.hp['wt_wtchannellen'], wtaveragelen=self.hp['wt_wtaveragelen'], wtmalen=self.hp['wt_wtmalen'], oblevel=self.hp['wt_oblevel'], oslevel=self.hp['wt_oslevel'], source_type='hlc3', sequential=False)",parameterDescription:{wtchannellen:"Sets the length of the Wavetrend channel. A shorter length can increase sensitivity to price changes.",wtaveragelen:"Determines the smoothing period of the oscillator, affecting its lag in relation to price movements.",wtmalen:"Specifies the moving average length for the Wavetrend, impacting the smoothness of the oscillator line.",oblevel:"Defines the overbought level for the Wavetrend, used in identifying potential reversal points in overbought conditions.",oslevel:"Sets the oversold level, used in pinpointing potential reversal points in oversold conditions."},arguments:"candles: np.ndarray, wtchannellen: int, wtaveragelen: int, wtmalen: int, oblevel: int, oslevel: int, source_type: str, sequential: bool",expectedReturn:"Wavetrend(wt1, wt2, wtCrossUp, wtCrossDown, wtOversold, wtOverbought, wtVwap)",bullishCondition:"Bullish when the Wavetrend oscillator crosses above its signal line or is in an upward trend.",bearishCondition:"Bearish when the Wavetrend oscillator crosses below its signal line or is in a downward trend.",category:"Momentum",commonPairings:["RSI","MACD"],bestUsedFor:"Identifying potential trend reversals in cryptocurrencies and other volatile markets.",historicalReliability:"Medium to High in volatile markets",customizationTips:"Use in combination with volume or other trend indicators for confirmation of signals.",hyperparameters:[{name:"wt_wtchannellen",type:"int",min:5,max:20,default:9,step:1},{name:"wt_wtaveragelen",type:"int",min:5,max:20,default:12,step:1},{name:"wt_wtmalen",type:"int",min:1,max:10,default:3,step:1},{name:"wt_oblevel",type:"int",min:40,max:70,default:53,step:1},{name:"wt_oslevel",type:"int",min:-70,max:-40,default:-53,step:1}]},zlema:{description:"Zero-Lag Exponential Moving Average",autocompleteText:"zlema(candles, period=self.hp['zlema_period'], source_type='close', sequential=False)",parameterDescription:{period:"Sets the length of the ZLEMA. A shorter period makes it more responsive to recent price changes but may increase noise, while a longer period smoothens it at the cost of increased lag."},arguments:"candles: np.ndarray, period: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the price is above the Zero-Lag Exponential Moving Average, indicating an upward trend.",bearishCondition:"Bearish when the price is below the Zero-Lag Exponential Moving Average, indicating a downward trend.",category:"Trend",commonPairings:["SMA","EMA"],bestUsedFor:"Reducing lag in moving averages to react quicker to price changes.",historicalReliability:"Medium",customizationTips:"Can be particularly effective in markets with frequent trend changes.",hyperparameters:[{name:"zlema_period",type:"int",min:5,max:30,default:20,step:1}]},zscore:{description:"zScore",autocompleteText:"zscore(candles, period=self.hp['zscore_period'], matype=self.hp['zscore_matype'], nbdev=self.hp['zscore_nbdev'], devtype=self.hp['zscore_devtype'], source_type='close', sequential=False)",parameterDescription:{period:"Determines the lookback period for calculating the mean and standard deviation, impacting the sensitivity to price changes.",matype:"Specifies the type of moving average to use in the calculation, affecting how the mean is determined.",nbdev:"Sets the number of standard deviations for measuring the distance from the mean, used in identifying significant price movements.",devtype:"Defines the method for calculating the standard deviation, which can alter the sensitivity and interpretation of the zScore."},arguments:"candles: np.ndarray, period: int, matype: int, nbdev: int, devtype: int, source_type: str, sequential: bool",expectedReturn:"float | np.ndarray",bullishCondition:"Bullish when the zScore is significantly above zero, indicating that the price is above its mean by a certain standard deviation.",bearishCondition:"Bearish when the zScore is significantly below zero, indicating that the price is below its mean by a certain standard deviation.",category:"Statistical",commonPairings:["Standard Deviation","Bollinger Bands"],bestUsedFor:"Measuring the number of standard deviations a data point is from the mean.",historicalReliability:"Medium",customizationTips:"Useful for identifying outliers or extreme movements in price.",hyperparameters:[{name:"zscore_period",type:"int",min:5,max:30,default:14,step:1},{name:"zscore_matype",type:"int",min:0,max:4,default:0,step:1},{name:"zscore_nbdev",type:"int",min:1,max:5,default:1,step:1},{name:"zscore_devtype",type:"int",min:0,max:2,default:1,step:1}]}},Ne={"sma (simple)":{description:"Simple Moving Average is used to show trend in price",number:0,bullishCondition:"Price above the SMA is considered bullish",bearishCondition:"Price below the SMA is considered bearish"},"ema (exponential)":{description:"Exponential Moving Average gives more weight to recent prices",number:1,bullishCondition:"Price above the EMA suggests a bullish trend",bearishCondition:"Price below the EMA suggests a bearish trend"},"wma (weighted)":{description:"Weighted Moving Average assigns different weights to data points",number:2,bullishCondition:"Price crossing above the WMA indicates bullish momentum",bearishCondition:"Price crossing below the WMA indicates bearish momentum"},"dema (double exponential)":{description:"Double Exponential Moving Average is a faster version of EMA",number:3,bullishCondition:"Price above the DEMA indicates bullish trends",bearishCondition:"Price below the DEMA indicates bearish trends"},"tema (triple exponential)":{description:"Triple Exponential Moving Average aims to reduce lag in EMA",number:4,bullishCondition:"Price crossing above the TEMA suggests bullish momentum",bearishCondition:"Price crossing below the TEMA suggests bearish momentum"},"trima (triangular)":{description:"Triangular Moving Average is a smoother version of the SMA",number:5,bullishCondition:"Bullish when the price is above TRIMA, indicating upward trend",bearishCondition:"Bearish when the price is below TRIMA, indicating downward trend"},"kama (Kaufman adaptive)":{description:"Kaufman Adaptive Moving Average adjusts to price volatility",number:6,bullishCondition:"KAMA trending upward can be a sign of a bullish market",bearishCondition:"KAMA trending downward can be a sign of a bearish market"},"mama (Mesa adaptive)":{description:"Mesa Adaptive Moving Average adapts to price movement based on phase shifts",number:7,bullishCondition:"Price crossing and staying above MAMA suggests bullishness",bearishCondition:"Price crossing and staying below MAMA suggests bearishness"},"T3 (triple exponential T3)":{description:"Triple Exponential T3 is a combination of multiple EMAs to reduce lag",number:8,bullishCondition:"Bullish if price is above T3, indicating upward trend strength",bearishCondition:"Bearish if price is below T3, indicating downward trend strength"},"fwma (Fibonacci's Weighted Moving Average)":{description:"Fibonacci's Weighted Moving Average uses Fibonacci ratios for weighting",number:9,bullishCondition:"Price above FWMA may indicate bullish trend continuation",bearishCondition:"Price below FWMA may indicate bearish trend continuation"},"hma (Hull Moving Average)":{description:"Hull Moving Average reduces lag and improves smoothness",number:10,bullishCondition:"A rising HMA indicates potential bullish conditions",bearishCondition:"A falling HMA indicates potential bearish conditions"},"linearreg (Linear Regression)":{description:"Linear Regression indicates the direction of a trend",number:11,bullishCondition:"Upward sloping Linear Regression line suggests bullish trend",bearishCondition:"Downward sloping Linear Regression line suggests bearish trend"},"wilders (Wilders Smoothing)":{description:"Wilders Smoothing is a unique approach to moving average calculation",number:12,bullishCondition:"Price above Wilders Smoothed line is typically bullish",bearishCondition:"Price below Wilders Smoothed line is typically bearish"},"sinwma (Sine Weighted Moving Average)":{description:"Sine Weighted Moving Average emphasizes the middle part of the data range",number:13,bullishCondition:"Price above the SINWMA can be considered bullish",bearishCondition:"Price below the SINWMA can be considered bearish"},"supersmoother (Super Smoother Filter 2pole Butterworth)":{description:"Super Smoother Filter is a 2-pole Butterworth filter for smoothing",number:14,bullishCondition:"When price is above the Super Smoother, it's seen as bullish",bearishCondition:"When price is below the Super Smoother, it's seen as bearish"},"supersmoother_3_pole (Super Smoother Filter 3pole Butterworth)":{description:"3-pole Butterworth Super Smoother Filter for more effective smoothing",number:15,bullishCondition:"Bullish when the price is above the 3-pole Super Smoother",bearishCondition:"Bearish when the price is below the 3-pole Super Smoother"},"gauss (Gaussian Filter)":{description:"Gaussian Filter uses the Gaussian bell-shaped function for smoothing",number:16,bullishCondition:"Price above the Gaussian Filter may signal bullish trends",bearishCondition:"Price below the Gaussian Filter may signal bearish trends"},"high_pass (1-pole High Pass Filter by John F. Ehlers)":{description:"1-pole High Pass Filter by John F. Ehlers to eliminate low-frequency components",number:17,bullishCondition:"An upward trend in the 1-pole High Pass Filter suggests bullishness",bearishCondition:"A downward trend in the 1-pole High Pass Filter suggests bearishness"},"high_pass_2_pole (2-pole High Pass Filter by John F. Ehlers)":{description:"2-pole High Pass Filter by John F. Ehlers for sharper frequency cutoff",number:18,bullishCondition:"Price movement above the 2-pole High Pass Filter indicates bullishness",bearishCondition:"Price movement below the 2-pole High Pass Filter indicates bearishness"},"ht_trendline (Hilbert Transform - Instantaneous Trendline)":{description:"Hilbert Transform - Instantaneous Trendline identifies the market trend",number:19,bullishCondition:"A rising HT Trendline is generally considered bullish",bearishCondition:"A falling HT Trendline is generally considered bearish"},"jma (Jurik Moving Average)":{description:"Jurik Moving Average is a well-known smooth and responsive average",number:20,bullishCondition:"Price above JMA indicates a potential bullish trend",bearishCondition:"Price below JMA indicates a potential bearish trend"},"reflex (Reflex indicator by John F. Ehlers)":{description:"Reflex indicator by John F. Ehlers to detect cycle reversals",number:21,bullishCondition:"An upward Reflex indicator suggests a bullish scenario",bearishCondition:"A downward Reflex indicator suggests a bearish scenario"},"trendflex (Trendflex indicator by John F. Ehlers)":{description:"Trendflex indicator by John F. Ehlers for identifying market trends",number:22,bullishCondition:"An increasing Trendflex value can indicate bullish conditions",bearishCondition:"A decreasing Trendflex value can indicate bearish conditions"},"smma (Smoothed Moving Average)":{description:"Smoothed Moving Average for reducing volatility in data",number:23,bullishCondition:"Price above the SMMA could be seen as a bullish indicator",bearishCondition:"Price below the SMMA could be seen as a bearish indicator"},"vwma (Volume Weighted Moving Average)":{description:"Volume Weighted Moving Average takes volume into account",number:24,bullishCondition:"Price over VWMA may suggest bullish price action",bearishCondition:"Price under VWMA may suggest bearish price action"},"pwma (Pascals Weighted Moving Average)":{description:"Pascal's Weighted Moving Average uses Pascal's Triangle for weighting",number:25,bullishCondition:"PWMA trending upwards can signal bullish market conditions",bearishCondition:"PWMA trending downwards can signal bearish market conditions"},"swma (Symmetric Weighted Moving Average)":{description:"Symmetric Weighted Moving Average provides symmetrical weighting",number:26,bullishCondition:"A rising SWMA indicates bullish potential",bearishCondition:"A falling SWMA indicates bearish potential"},"alma (Arnaud Legoux Moving Average)":{description:"Arnaud Legoux Moving Average is a smooth and responsive average",number:27,bullishCondition:"Price above the ALMA often indicates a bullish trend",bearishCondition:"Price below the ALMA often indicates a bearish trend"},"hwma (Holt-Winter Moving Average)":{description:"Holt-Winter Moving Average is used for forecasting seasonal series",number:28,bullishCondition:"An upward trending HWMA can be a sign of bullishness",bearishCondition:"A downward trending HWMA can be a sign of bearishness"},"vwap (Volume weighted average price)":{description:"Volume Weighted Average Price represents the average price of a security",number:29,bullishCondition:"Price above VWAP suggests bullish market control",bearishCondition:"Price below VWAP suggests bearish market control"},"nma (Natural Moving Average)":{description:"Natural Moving Average is based on natural mathematical principles",number:30,bullishCondition:"NMA moving above the price can signal a bullish trend",bearishCondition:"NMA moving below the price can signal a bearish trend"},"edcf (Ehlers Distance Coefficient Filter)":{description:"Ehlers Distance Coefficient Filter for cycle period determination",number:31,bullishCondition:"Rising EDCF values may indicate a bullish market phase",bearishCondition:"Falling EDCF values may indicate a bearish market phase"},"mwdx (MWDX Average)":{description:"MWDX Average is an adaptive moving average",number:32,bullishCondition:"MWDX trending upwards can indicate bullishness",bearishCondition:"MWDX trending downwards can indicate bearishness"},"maaq (Moving Average Adaptive Q)":{description:"Moving Average Adaptive Q dynamically adjusts its smoothing",number:33,bullishCondition:"An increasing MAAQ is generally seen as bullish",bearishCondition:"A decreasing MAAQ is generally seen as bearish"},"srwma (Square Root Weighted Moving Average)":{description:"Square Root Weighted Moving Average uses the square root for weighting",number:34,bullishCondition:"SRWMA above price action indicates bullish potential",bearishCondition:"SRWMA below price action indicates bearish potential"},"sqwma (Square Weighted Moving Average)":{description:"Square Weighted Moving Average emphasizes recent data points",number:35,bullishCondition:"SQWMA rising above price could suggest bullish trends",bearishCondition:"SQWMA falling below price could suggest bearish trends"},"vpwma (Variable Power Weighted Moving Average)":{description:"Variable Power Weighted Moving Average allows custom weighting power",number:36,bullishCondition:"VPWMA increasing can be an indicator of bullish conditions",bearishCondition:"VPWMA decreasing can be an indicator of bearish conditions"},"cwma (Cubed Weighted Moving Average)":{description:"Cubed Weighted Moving Average provides a unique weighting approach",number:37,bullishCondition:"CWMA trending upwards suggests bullish signals",bearishCondition:"CWMA trending downwards suggests bearish signals"},"jsa (Jsa Moving Average)":{description:"Jsa Moving Average is a specialized form of average",number:38,bullishCondition:"Price above the JSA may indicate bullish trends",bearishCondition:"Price below the JSA may indicate bearish trends"},"epma (End Point Moving Average)":{description:"End Point Moving Average emphasizes the end points in data",number:39,bullishCondition:"EPMA moving above price action is bullish",bearishCondition:"EPMA moving below price action is bearish"}},He={"standard deviation":{description:"Standard Deviation measures the amount of variation or dispersion in a set of values",number:0},"mean absolute deviation":{description:"Mean Absolute Deviation represents the average distance between each data point and the mean of the data set",number:1},"median absolute deviation":{description:"Median Absolute Deviation is a measure of variability based on the median of the absolute deviations from the median of the data set",number:2}},Xe={close:{description:"Close represents the closing price of the asset for the specified time period"},high:{description:"High is the highest price reached by the asset during the specified time period"},low:{description:"Low is the lowest price that the asset has fallen to during the specified time period"},open:{description:"Open refers to the opening price of the asset for the specified time period"},volume:{description:"Volume indicates the total amount of trading activity or contracts traded for the asset in the specified time period"},hl2:{description:"HL2 is derived from the formula '(high + low) / 2', representing the average of the highest and lowest prices for the period"},hlc3:{description:"HLC3 is calculated using the formula '(high + low + close) / 3', giving the average of the high, low, and closing prices"},ohlc4:{description:"OHLC4 is derived from the formula '(open + high + low + close) / 4', representing the average of the open, high, low, and closing prices"}},$e={property:{description:"The '@property' decorator in Python is used to define a method in a class that behaves like an attribute. This allows accessing the method's return value as an attribute, enhancing readability and encapsulation. It's particularly useful for controlling access to an attribute's value, adding validation or computation within the method. It simplifies the class interface, making attributes accessible without needing to call methods with parentheses.",example:"\nclass Person:\n    def __init__(self, birthdate):\n        self._birthdate = birthdate\n\n    @property\n    def age(self):\n        return calculate_age(self._birthdate)  # Assuming calculate_age is a function defined elsewhere\n\n# Usage:\nperson = Person(birthdate)\nprint(person.age)  # Accessing age as an attribute\n    "},cached:{description:"This decorator improves performance by caching functions or properties to avoid unnecessary computationally intensive repetitions. It's particularly useful for often-called indicator calculations. The cache is automatically cleared with each new candle.",example:"\nfrom jesse.strategies import Strategy, cached\n\n@property\n@cached\ndef donchian(self):\n    return ta.donchian(self.candles)\n    ",warning:"Ensure the correct order when used with @property, as shown in the example. Caching consumes time, so it's beneficial when the function or indicator is slow and called multiple times. Testing for speed improvement is recommended, as indiscriminate use can be counterproductive."},available_margin:{description:"Represents the current margin available in your trading account. It is calculated as the balance minus the margin used for open positions and orders.",autocompleteText:"available_margin",expectedReturn:"float",warning:"`available_margin` is calculated by subtracting the margin used in open positions and orders from your account balance. For example, if your balance is $10,000 and you have $2,000 tied up in trades with 2x leverage, the available margin would be $10,000 - ($2,000 / 2) = $9,000.",seeAlso:["leveraged_available_margin","balance"]},leveraged_available_margin:{description:"This is similar to self.available_margin but accounts for leverage in a way that's more intuitive for some traders. It is essentially self.available_margin * self.leverage.",autocompleteText:"leveraged_available_margin",expectedReturn:"float",warning:"leveraged_available_margin calculates the account balance, multiplies it by the leverage, and then subtracts the margin used for open positions and orders. For instance, with a $10,000 balance and $2,000 used in trades at 2x leverage, it would be ($10,000 * 2) - $2,000 = $18,000, providing a realistic view of the margin available for new trades.",seeAlso:["available_margin","balance","leverage"]},sell:{description:"In the 'go_short()' method, 'self.sell' is used to set the sell price (entry point) and quantity of the asset to be sold. The 'sell' variable is a special variable in Jesse for executing sell orders in short positions. Jesse automatically determines the order type (MARKET, LIMIT, or STOP) based on the relationship between the entry price and the current price.",autocompleteText:"sell",example:"\n# Example of using self.sell in go_short\ndef go_short(self):\n    qty = 1\n    self.sell = qty, self.price  # MARKET order if entry_price == current_price\n    self.stop_loss = qty, self.high + 10\n    self.take_profit = qty, self.low - 10\n    "},buy:{description:"In the 'go_long()' method, 'self.buy' is used to set the buy price (entry point) and quantity of the asset to be purchased. The 'buy' variable is a special variable in Jesse for executing buy orders in long positions. The order type (MARKET, LIMIT, or STOP) is determined by Jesse based on the relationship between the entry price and the current price.",autocompleteText:"buy",example:"\n# Example of using self.buy in go_long\ndef go_long(self):\n    qty = 1\n    self.buy = qty, self.price  # MARKET order if entry_price == current_price\n    self.stop_loss = qty, self.low - 10\n    self.take_profit = qty, self.high + 10\n    "},average_entry_price:{description:"Estimates the average entry price based on active orders (excluding the open position). It returns the average value in cases where multiple entry orders are used.",autocompleteText:"average_entry_price",expectedReturn:"float",example:"\ndef go_long(self):\n    qty = 2\n    # self.average_entry_price is equal to (100 + 120) / 2 == 110\n    self.buy = [\n        (1, 100), \n        (1, 120)\n    ]\n    self.stop_loss = qty, 80\n    self.take_profit = qty, 140\n\ndef filter_min_pnl(self):\n    min_pnl = 1\n    reward_per_qty = abs(self.average_take_profit - self.average_entry_price)\n    return (reward_per_qty / self.average_entry_price) * 100 > min_pnl\n    ",warning:"average_entry_price is only available after go_long() or go_short() is executed and should be used in filter functions or when the position is open. It is not to be used inside should_long() and should_short().",seeAlso:["average_take_profit","average_stop_loss"]},average_stop_loss:{description:"Similar to average_entry_price, but specifically for stop-loss. It calculates the average value of stop-loss points when multiple points are used.",autocompleteText:"average_stop_loss",expectedReturn:"float",seeAlso:["average_entry_price","average_take_profit"]},average_take_profit:{description:"Similar to average_entry_price, but for take-profit. It calculates the average value of take-profit points when more than one point is used.",autocompleteText:"average_take_profit",expectedReturn:"float",seeAlso:["average_entry_price","average_stop_loss"]},balance:{description:"Returns the current wallet balance in your exchange wallet. In futures markets, it corresponds to the 'wallet balance in USDT' as seen on Binance Futures.",autocompleteText:"balance",expectedReturn:"float",aliases:["capital"],seeAlso:["available_margin"]},portfolio_value:{description:"Returns the value of your entire portfolio in the currency of your trading session (usually USDT or USD), including all positions. Unlike self.balance, which reflects the 'wallet balance' and changes only after positions are closed, portfolio_value accounts for both open and closed positions.",autocompleteText:"portfolio_value",expectedReturn:"float",seeAlso:["available_margin"]},daily_balances:{description:"Returns a list of daily balances of your portfolio, as if storing the portfolio's value each day using the self.portfolio_value property. Useful for calculating metrics like the Sharpe Ratio.",autocompleteText:"daily_balances",expectedReturn:"List[float]",seeAlso:["portfolio_value"]},close:{description:"Represents the current or closing price of the trading symbol at the trading time frame.",autocompleteText:"close",expectedReturn:"float",aliases:["price"],example:"\ndef go_long(self):\n    # buy 1 share at the current price (MARKET order)\n    self.buy = 1, self.price\n    "},current_candle:{description:"Returns the current candle as a numpy array. The array consists of several components: timestamp, open, close, high, low, and volume.",autocompleteText:"current_candle",expectedReturn:"np.ndarray",example:"\nfrom pprint import pprint\n\npprint(self.current_candle)\n# array([1.54638714e+12, 3.79409000e+03, 3.79714000e+03, 3.79800000e+03,\n#        3.79400000e+03, 1.30908000e+02])\n\npprint(self.current_candle.dtype)\n# dtype('float64')\n\n# Accessing individual components:\ntimestamp = self.current_candle[0]\nopen_price = self.current_candle[1]\nclose_price = self.current_candle[2]\nhigh_price = self.current_candle[3]\nlow_price = self.current_candle[4]\nvolume = self.current_candle[5]\n",tip:"Each candle's timestamp represents the beginning of the time period, not the end. For instance, in a 5m timeframe at 12:05:00, the current_candle's timestamp will be 12:00:00, marking the start of the period.",seeAlso:["price","close","open","high","low"]},candles:{description:"Returns candles for the current trading exchange, symbol, and timeframe. This property is frequently used with technical indicators, as the first parameter for all indicators is typically the candles.",autocompleteText:"candles",expectedReturn:"np.ndarray",example:"\n# get SMA with a period of 8 for the current trading route\nsma8 = ta.sma(self.candles, 8)\n    "},get_candles:{description:"This method returns candles for a specified exchange, symbol, and timeframe, unlike self.candles which returns candles for the current route. It's more versatile for strategies that trade multiple routes or use multiple timeframes.",autocompleteText:"get_candles(exchange, symbol, timeframe)",expectedReturn:"np.ndarray",example:'\n@property\ndef big_trend(self):\n    """\n    Uses the SRSI indicator to determine the bigger trend of the market. \n    The trading timeframe is "4h" so we use "1D" timeframe as the anchor timeframe.\n    """\n    k, d = ta.srsi(self.get_candles(self.exchange, self.symbol, \'1D\'))\n\n    if k > d:\n        return 1\n    elif k < d:\n        return -1\n    else:\n        return 0\n    ',seeAlso:["candles"]},fee_rate:{description:"The fee_rate property returns the fee rate used by the exchange on which your strategy is trading. It's commonly used as a parameter for calculating the quantity of an asset to trade, considering the risk involved.",autocompleteText:"fee_rate",expectedReturn:"float",example:"\nqty = utils.risk_to_qty(self.balance, 3, entry, stop, fee_rate=self.fee_rate)\n    ",tip:"The fee_rate property returns the exchange fee as a float. For example, at Binance, the fee is 0.1%, so self.fee_rate would return 0.001.",seeAlso:["risk_to_qty"]},high:{description:"Represents the high price of the current candle.",autocompleteText:"high",expectedReturn:"float",example:"\ndef go_long(self):\n    qty = 1\n\n    # open position at 2 dollars above current candle's high\n    self.buy = qty, self.high + 2\n    "},increased_count:{description:"Indicates how many times the position size has been increased since the trade was opened. This property is particularly useful for strategies that enter or exit at multiple points, or for updating certain factors when the position size changes.",autocompleteText:"increased_count",expectedReturn:"int",example:"\n# Example of entering a position in more than one point:\ndef go_long(self):\n    self.buy = [\n        (0.5, self.price + 10),  // after this point, self.increased_count will be 1\n        (0.5, self.price + 20),  // after this point, self.increased_count will be 2\n        (0.5, self.price + 30)   // after this point, self.increased_count will be 3\n    ]\n\n# Example of increasing the size of an open position based on a factor:\ndef update_position(self):\n    if self.momentum_rank > 100 and self.is_long:\n        self.buy = 1, self.price  // buy qty of 1 at current price (MARKET order)\n    ",note:"This property is useful when opening a position at multiple points or when increasing the size of an open position based on specific strategy factors."},index:{description:"The index property acts as a counter indicating how many times the strategy has been executed. In a backtesting scenario, it represents the loop index. This property is useful for triggering actions at specific iterations.",autocompleteText:"index",expectedReturn:"int",example:"\n# Example #1: Go long when the first candle is received\ndef should_long(self):\n    return self.index == 0\n\n# Example #2: Perform expensive operations once a day in '1m' candle trading\ndef before(self):\n    if self.index % 1440 == 0:\n        do_slow_updates()  // Assuming do_slow_updates is a defined method\n    ",note:"Useful for executing specific operations at determined intervals or points in the strategy's execution."},has_long_entry_orders:{description:"Used to identify the type of entry orders, particularly useful when the position is not yet opened. This is often used in methods like should_cancel_entry() and before(), as well as in various filters.",autocompleteText:"has_long_entry_orders",expectedReturn:"bool",example:"\ndef should_cancel_entry(self):\n    # Cancel entry orders only if trying to enter a long trade\n    if self.has_long_entry_orders:\n        return True\n    ",note:"Particularly useful for strategy decision-making processes prior to the opening of a position."},has_short_entry_orders:{description:"Determines if there are entry orders for a short trade, similar to has_long_entry_orders but specifically for short positions.",autocompleteText:"has_short_entry_orders",expectedReturn:"bool"},is_close:{description:"Checks if the current position is close.",autocompleteText:"is_close",expectedReturn:"bool",aliases:["self.position.is_close"]},is_long:{description:"Determines if the type of the open position (current trade) is long.",autocompleteText:"is_long",expectedReturn:"bool"},is_open:{description:"Checks if the current position is open.",autocompleteText:"is_open",expectedReturn:"bool",aliases:["self.position.is_open"]},is_short:{description:"Determines if the type of the open position (current trade) is short.",autocompleteText:"is_short",expectedReturn:"bool"},exchange_type:{description:"Returns the type of exchange the strategy is trading on, which can be either 'spot' or 'futures'.",autocompleteText:"exchange_type",expectedReturn:"str"},is_backtesting:{description:"Indicates whether the strategy is currently running in backtest mode.",autocompleteText:"is_backtesting",expectedReturn:"bool"},is_livetrading:{description:"Determines if the strategy is currently executing in live trading mode.",autocompleteText:"is_livetrading",expectedReturn:"bool"},is_papertrading:{description:"Indicates whether the strategy is being run in paper trading mode.",autocompleteText:"is_papertrading",expectedReturn:"bool"},is_live:{description:"Indicates whether the strategy is currently running in either live trading or paper trading mode. It's equivalent to checking self.is_livetrading or self.is_papertrading.",autocompleteText:"is_live",expectedReturn:"bool"},is_spot_trading:{description:"Determines if the exchange the strategy is trading on is a spot exchange.",autocompleteText:"is_spot_trading",expectedReturn:"bool"},is_futures_trading:{description:"Checks if the exchange the strategy is trading on is a futures exchange.",autocompleteText:"is_futures_trading",expectedReturn:"bool"},leverage:{description:"Returns the leverage number set in the config file for the exchange within the strategy. For spot markets, it always returns 1.",autocompleteText:"leverage",expectedReturn:"int"},liquidation_price:{description:"Provides the price at which the position will get liquidated, used in futures exchanges only. In live mode, the value is fetched from the exchange once every minute.",autocompleteText:"liquidation_price",expectedReturn:"float"},mark_price:{description:"Returns the mark-price used in futures exchanges for the calculation of the liquidation price. For live trading, it's real-time; during backtests, it equals self.price.",autocompleteText:"mark_price",expectedReturn:"float"},funding_rate:{description:"Provides the current funding rate in futures exchanges, applicable in live trading only. During backtests, it equals 0.",autocompleteText:"funding_rate",expectedReturn:"float"},next_funding_timestamp:{description:"Returns the timestamp for the next funding, relevant for perpetual contracts in futures exchanges. In live trading, it's specific to the exchange; during backtests, it equals None.",autocompleteText:"next_funding_timestamp",expectedReturn:"int"},liquidate:{description:"This method quickly liquidates the open position using a market order. It's a convenient shortcut for closing positions, often used within the update_position method of strategies to close positions under specific conditions.",autocompleteText:"liquidate()",example:"\nLet's open a long position at the first index, and close it at the 10th:\n\ndef update_position(self):\n    if self.index == 10:\n        self.liquidate()\n\ndef should_long(self):\n    return self.index == 0\n\ndef go_long(self):\n    self.buy = 1, self.price\n    "},low:{description:"Represents the low price of the current candle.",autocompleteText:"low",expectedReturn:"float",example:"\ndef go_long(self):\n    qty = 1\n\n    # Open position at 2 dollars above the current candle's low\n    self.buy = qty, self.low + 2\n\n    # Set stop-loss at 2 dollars below the current candle's low\n    self.stop_loss = qty, self.low - 2\n    "},metrics:{description:"The metrics property returns a variety of statistics typically seen at the end of backtests, useful for implementing formulas like the Kelly Criterion in strategy development. It includes an array of metrics like win rate, net profit, drawdowns, various ratios, and more.",autocompleteText:"metrics",expectedReturn:"dict",warning:"Be aware that without trades, this property will return None.",availableMetrics:["total","total_winning_trades","total_losing_trades","starting_balance","finishing_balance","win_rate","max_R","min_R","mean_R","ratio_avg_win_loss","longs_count","longs_percentage","short_percentage","shorts_count","fee","net_profit","net_profit_percentage","average_win","average_loss","expectancy","expectancy_percentage","expected_net_profit_every_100_trades","average_holding_period","average_winning_holding_period","average_losing_holding_period","gross_profit","gross_loss","max_drawdown","annual_return","sharpe_ratio","calmar_ratio","sortino_ratio","omega_ratio","total_open_trades","open_pl","winning_streak","losing_streak","largest_losing_trade","largest_winning_trade","current_streak"]},open:{description:"Represents the opening price of the current candle.",autocompleteText:"open",expectedReturn:"float",example:"\ndef should_long(self):\n    # Go long if the current candle is bullish\n    if self.close > self.open:\n        return True\n    return False\n    "},orders:{description:"Returns all the orders that have been submitted by this strategy.",autocompleteText:"orders",expectedReturn:"List[Order]"},position:{description:"The position object represents the current position of the trading route. Each route instance has only one position object, which can be accessed inside the strategy.",autocompleteText:"position",expectedReturn:"Position",properties:["entry_price","qty","opened_at","value","type","pnl","pnl_percentage","is_open","is_close"],example:"\n# If the position is in profit by 10%, update stop-loss to break even\ndef update_position(self):\n    if self.position.pnl_percentage >= 10:\n        self.stop_loss = self.position.qty, self.position.entry_price\n    ",tip:"Each route instance has only one position, which is accessible inside the strategy. To trade two positions using one strategy, create two routes with the same strategy but different symbols.",seeAlso:["is_long","is_short","is_open","is_close"]},all_positions:{description:"Returns a dictionary of all the positions, where keys are the symbols and values are the position objects.",autocompleteText:"all_positions",expectedReturn:"dict",example:"\n# Assuming two trading routes: BTC-USDT and ETH-USDT\nbtc_position = self.all_positions['BTC-USDT']\neth_position = self.all_positions['ETH-USDT']\n    ",seeAlso:["position"]},price:{description:"Represents the current or closing price of the trading symbol at the trading time frame.",autocompleteText:"price",expectedReturn:"float",aliases:["close"],example:"\ndef go_long(self):\n    # Buy 1 share at the current price (MARKET order)\n    self.buy = 1, self.price\n    "},reduced_count:{description:"Indicates how many times the position size has been reduced since the trade was opened. Useful for strategies that exit at multiple points and require updates related to position changes.",autocompleteText:"reduced_count",expectedReturn:"int",example:"\ndef go_long(self):\n    self.buy = 1, self.price\n    self.stop_loss = 1, self.price - 10\n    self.take_profit = [\n        (0.5, self.price + 10), \n        (0.5, self.price + 20) \n    ]\n\ndef update_position(self):\n    # Update exit strategy after reducing position once\n    if self.reduced_count > 0:\n        self.take_profit = 0.5, self.SMA20\n\n@property\ndef SMA20(self):\n    return ta.sma(self.candles, 20)\n    "},shared_vars:{description:"A dictionary object similar to vars, but shared among all routes in your strategy. It's particularly useful for strategies requiring multiple routes that need to communicate with each other, like in pairs trading strategies where one route goes long when the other goes short.",autocompleteText:"shared_vars",expectedReturn:"dict",seeAlso:["vars"]},time:{description:"Provides the current UTC timestamp.",autocompleteText:"time",expectedReturn:"int"},vars:{description:"A dictionary object within your strategy to use as a placeholder for your variables. Using vars helps avoid conflicts with built-in variables and properties and can make debugging easier.",autocompleteText:"vars",expectedReturn:"dict"},log:{description:"A method for logging text within the strategy, useful for debugging or monitoring, especially in live trading. It accepts a second parameter 'log_type' with values 'info' or 'error'. 'error' logs are notified separately in live mode. It also accepts 'send_notification' to send a notification for the log message in live mode, and a 'webhook' parameter for custom logs to custom channels.",autocompleteText:"self.log(msg, log_type = 'info', send_notification = False, webhook = None)",example:"\n# Example of using log\nself.log('Entering a new trade', 'info', True)\n    ",parameters:["msg: str","log_type: str = 'info'","send_notification: bool = False","webhook: str = None"]},watch_list:{description:"Used in live trading mode to constantly debug/monitor a running strategy. It should return a list of tuples containing keys and values of any data you want to monitor, such as indicator values or entry/exit signals.",autocompleteText:"watch_list()",expectedReturn:"list",example:"\n@property\ndef short_ema(self):\n    return ta.ema(self.candles, 50)\n\n@property\ndef long_ema(self):\n    return ta.ema(self.candles, 100)\n\ndef watch_list(self):\n    return [\n        ('Short EMA', self.short_ema),\n        ('Long EMA', self.long_ema),\n        ('Trend', 1 if self.short_ema > self.long_ema else -1),\n    ]\n    "},min_qty:{description:"Represents the minimum quantity that can be traded on the exchange for the symbol you're trading. This property is available only in live and paper trading modes.",autocompleteText:"min_qty",expectedReturn:"float"},precalc_candles:{description:"precalculated candles used for the precalculation of indicators to speed up backtesting. Only used in functions with the name beginning with '_indicator'. the values are accessed by calling 'self._indicator#_value' where '#' is the number of the indicator function. activation and additional options are set in the config file."},sequential:{description:"boolean parameter that specifies whether to pass a slice of the candles or all of the candles for indicator calculation. Precalculated indicators require the sequential parameter to be True."},_indicator1_value:{description:"A list containing a slice of the most recent '_indicator1' values. The most recent value is accessed by calling 'self._indicator1_value[-1]'. The length of the list is specified by the 'env.simulation.previous_precalc_values' parameter in the config value."},_indicator2_value:{description:"A list containing a slice of the most recent '_indicator2' values. The most recent value is accessed by calling 'self._indicator2_value[-1]'. The length of the list is specified by the 'env.simulation.previous_precalc_values' parameter in the config value."},_indicator3_value:{description:"A list containing a slice of the most recent '_indicator3' values. The most recent value is accessed by calling 'self._indicator3_value[-1]'. The length of the list is specified by the 'env.simulation.previous_precalc_values' parameter in the config value."},_indicator4_value:{description:"A list containing a slice of the most recent '_indicator4' values. The most recent value is accessed by calling 'self._indicator4_value[-1]'. The length of the list is specified by the 'env.simulation.previous_precalc_values' parameter in the config value."},_indicator5_value:{description:"A list containing a slice of the most recent '_indicator5' values. The most recent value is accessed by calling 'self._indicator5_value[-1]'. The length of the list is specified by the 'env.simulation.previous_precalc_values' parameter in the config value."},_indicator6_value:{description:"A list containing a slice of the most recent '_indicator6' values. The most recent value is accessed by calling 'self._indicator6_value[-1]'. The length of the list is specified by the 'env.simulation.previous_precalc_values' parameter in the config value."},_indicator7_value:{description:"A list containing a slice of the most recent '_indicator7' values. The most recent value is accessed by calling 'self._indicator7_value[-1]'. The length of the list is specified by the 'env.simulation.previous_precalc_values' parameter in the config value."},_indicator8_value:{description:"A list containing a slice of the most recent '_indicator8' values. The most recent value is accessed by calling 'self._indicator8_value[-1]'. The length of the list is specified by the 'env.simulation.previous_precalc_values' parameter in the config value."},_indicator9_value:{description:"A list containing a slice of the most recent '_indicator9' values. The most recent value is accessed by calling 'self._indicator9_value[-1]'. The length of the list is specified by the 'env.simulation.previous_precalc_values' parameter in the config value."},_indicator10_value:{description:"A list containing a slice of the most recent '_indicator10' values. The most recent value is accessed by calling 'self._indicator10_value[-1]'. The length of the list is specified by the 'env.simulation.previous_precalc_values' parameter in the config value."},_indicator1_value_tf:{description:"A list containing a slice of the most recent '_indicator1' values calculated in the higher timeframe specified in the extra routes. The most recent value is accessed by calling 'self._indicator1_value_tf[-1]'. It's neccessary to check for None values at the beginning of the strategy."},_indicator2_value_tf:{description:"A list containing a slice of the most recent '_indicator2' values calculated in the higher timeframe specified in the extra routes. The most recent value is accessed by calling 'self._indicator2_value_tf[-1]'. It's neccessary to check for None values at the beginning of the strategy."},_indicator3_value_tf:{description:"A list containing a slice of the most recent '_indicator3' values calculated in the higher timeframe specified in the extra routes. The most recent value is accessed by calling 'self._indicator3_value_tf[-1]'. It's neccessary to check for None values at the beginning of the strategy."},_indicator4_value_tf:{description:"A list containing a slice of the most recent '_indicator4' values calculated in the higher timeframe specified in the extra routes. The most recent value is accessed by calling 'self._indicator4_value_tf[-1]'. It's neccessary to check for None values at the beginning of the strategy."},_indicator5_value_tf:{description:"A list containing a slice of the most recent '_indicator5' values calculated in the higher timeframe specified in the extra routes. The most recent value is accessed by calling 'self._indicator5_value_tf[-1]'. It's neccessary to check for None values at the beginning of the strategy."},_indicator6_value_tf:{description:"A list containing a slice of the most recent '_indicator6' values calculated in the higher timeframe specified in the extra routes. The most recent value is accessed by calling 'self._indicator6_value_tf[-1]'. It's neccessary to check for None values at the beginning of the strategy."},_indicator7_value_tf:{description:"A list containing a slice of the most recent '_indicator7' values calculated in the higher timeframe specified in the extra routes. The most recent value is accessed by calling 'self._indicator7_value_tf[-1]'. It's neccessary to check for None values at the beginning of the strategy."},_indicator8_value_tf:{description:"A list containing a slice of the most recent '_indicator8' values calculated in the higher timeframe specified in the extra routes. The most recent value is accessed by calling 'self._indicator8_value_tf[-1]'. It's neccessary to check for None values at the beginning of the strategy."},_indicator9_value_tf:{description:"A list containing a slice of the most recent '_indicator9' values calculated in the higher timeframe specified in the extra routes. The most recent value is accessed by calling 'self._indicator9_value_tf[-1]'. It's neccessary to check for None values at the beginning of the strategy."},_indicator10_value_tf:{description:"A list containing a slice of the most recent '_indicator10' values calculated in the higher timeframe specified in the extra routes. The most recent value is accessed by calling 'self._indicator10_value_tf[-1]'. It's neccessary to check for None values at the beginning of the strategy."}},Qe={hyperparameters:{description:"A dictionary object containing the hyperparameters defined in the strategy subclass file. Hyperparameters are used to define the parameters of a strategy that can be optimized during optimization runs."},should_long:{description:"Determines whether to open a long position, assuming the current position is closed. This method is typically used to implement the logic for initiating a long position based on certain conditions or indicators.",autocompleteText:"should_long(self)",expectedReturn:"bool",example:"\ndef should_long(self):\n    # Return true if the current candle is a bullish candle\n    if self.close > self.open:\n        return True\n    return False\n    "},should_short:{description:"Determines whether to open a short position, assuming the current position is closed. This method is used to set the criteria for initiating a short position based on specific conditions or market indicators.",autocompleteText:"should_short(self)",expectedReturn:"bool",example:"\ndef should_short(self):\n    # Return true if the current candle is a bearish candle\n    if self.close < self.open:\n        return True\n    return False\n    ",warnings:["You cannot enter both a short and long position at the same time. Therefore, should_long() and should_short() cannot return True simultaneously.","should_long() and should_short() are for entering trades only. They are called on every new candle only if no position is open, and no order is active. For dynamically closing trades, use update_position()."]},go_long:{description:"The go_long() method is used to set the parameters for entering a long position. It includes specifying the buy price (entry point), quantity, stop-loss, and take-profit (exit points). 'self.buy', 'self.stop_loss', and 'self.take_profit' are special variables used by Jesse for executing trades, and their syntax must be followed as shown.",autocompleteText:"go_long(self)",example:"\ndef go_long(self):\n    qty = 1\n\n    self.buy = qty, self.price\n    self.stop_loss = qty, self.low - 10\n    self.take_profit = qty, self.high + 10\n    ",tip:"Jesse's smart ordering system automatically decides the type of the orders. For a long position, a MARKET order is used if entry_price equals current_price, a LIMIT order if entry_price is less than current_price, and a STOP order if entry_price is greater than current_price."},go_short:{description:"The go_short() method is used to set the parameters for entering a short position. It includes specifying the sell price (entry point), quantity, stop-loss, and take-profit (exit points). 'self.sell', 'self.stop_loss', and 'self.take_profit' are special variables used by Jesse for executing trades, and their syntax must be followed as shown.",autocompleteText:"go_short(self)",example:"\n  def go_short(self):\n      qty = 1\n  \n      # opens position with a MARKET order\n      self.sell = qty, self.price\n      self.stop_loss = qty, self.high + 10\n      self.take_profit = qty, self.low - 10\n    ",tip:"Jesse's smart ordering system automatically decides the type of the orders. For a short position, a MARKET order is used if entry_price equals current_price, a LIMIT order if entry_price is greater than current_price, and a STOP order if entry_price is less than current_price."},should_cancel_entry:{description:"Determines whether an already submitted but not yet executed open position order should be canceled. This method is particularly relevant when you are waiting for a limit/stop order to get filled after submission. It allows you to dynamically decide if the conditions for entering the trade have changed, necessitating the cancellation of the entry order.",autocompleteText:"should_cancel_entry(self)",expectedReturn:"bool",example:"\ndef should_long(self):\n    return True\n\ndef go_long(self):\n    qty = 1\n    entry = self.high + 2\n    self.buy = qty, entry\n\n# Assuming a scenario where the market conditions change\ndef should_cancel_entry(self):\n    # Add your condition-based logic here\n    return True\n    ",tips:["After submitting orders for opening new positions, you might enter a position immediately with a market order, or wait for a limit/stop order to get filled. This method is used for the latter scenario.","should_cancel_entry() only decides whether or not to cancel the entry order. It does not affect your exit (take-profit and stop-loss) orders."]},multiple_entry_exit_points:{description:"In trading strategies, there are scenarios where you may want to enter or exit trades at multiple points instead of just one. This can be achieved by using a list of tuples for self.buy, self.stop_loss, and self.take_profit, specifying multiple entry or exit points and quantities.",example:"\n# Example of taking profit at two points in a long position\ndef go_long(self):\n    qty = 1\n\n    self.buy = qty, 100\n    self.stop_loss = qty, 80\n    self.take_profit = [\n        (qty/2, 120),\n        (qty/2, 140)\n    ]\n\n# Example of entering a trade at two different points\ndef go_long(self):\n    qty = 1\n\n    self.buy = [\n        (qty/2, 120),\n        (qty/2, 140)\n    ]\n    self.stop_loss = qty, 100\n    self.take_profit = qty, 160\n    ",note:"This approach allows for greater flexibility in trade management, particularly in strategies like trend-following, where the exact exit point might not be known at the time of entry."},before:{description:"The 'before()' method is the first to be called when a new candle is received. It is typically used for updating 'self.vars' (custom variables) or performing any preliminary actions needed before executing the main logic of your strategy.",autocompleteText:"before(self)",seeAlso:["vars","after"]},after:{description:"The 'after()' method is called last when a new candle is received and after the strategy's main execution is completed. This method is suitable for updating 'self.vars' (custom variables) or for any post-processing actions that need to be performed after the strategy execution.",autocompleteText:"after(self)",seeAlso:["vars","before"]},update_position:{description:"The 'update_position()' method is used when there is an open position to modify exit points or to adjust the size of the position if needed. This method is crucial for strategies that require dynamic exit strategies or position adjustments based on evolving market conditions.",autocompleteText:"update_position(self)",example:"\n# Example #1: Implementing a trailing stop for take-profit\ndef update_position(self):\n    qty = self.position.qty \n    if self.is_long:\n        self.take_profit = qty, self.high - 10\n    else:\n        self.take_profit = qty, self.low + 10\n\n# Example #2: Liquidating the open position under certain conditions\ndef update_position(self):\n    if self.is_long and ta.rsi(self.candles) == 100:\n        self.liquidate()\n\n# Example #3: Doubling the size of a long position under specific conditions\ndef update_position(self):\n    if self.is_long and self.position.pnl_percentage > 5 and ta.rsi(self.candles) < 30:\n        self.buy = self.position.qty, self.price\n    ",tip:"If your strategy requires dynamic exit points (e.g., you don't know the take-profit price at the time of entering the trade), then 'update_position()' is essential for implementing such logic."},__init__:{description:"The '__init__' method is the constructor for a Python class, and by extension, for Jesse strategies. It's used for initializing actions that need to occur at the start of a strategy and only once. It can be considered the opposite of the 'terminate()' method in a Jesse strategy.",autocompleteText:"__init__(self):\n    super().__init__()",example:"\ndef __init__(self):\n    super().__init__()\n    print('Initiated the strategy class')\n    ",danger:"Remember to begin the __init__ method's content with a super().__init__() call, otherwise, you will get an error."},before_terminate:{description:"The 'before_terminate()' function is called right before 'terminate()'. The key difference is that in 'before_terminate()', you are still able to submit orders or make modifications to your position, such as reducing the size of a position or closing it before terminating a live session.",autocompleteText:"before_terminate(self)"},terminate:{description:"The 'terminate()' method is used for tasks that need to be executed right before terminating a Jesse strategy. Common uses include logging information, saving data to a file, or other final actions. It's the counterpart to the '__init__' method in a Jesse strategy.",autocompleteText:"terminate(self)",example:"\ndef terminate(self):\n    self.log('About to terminate execution...')\n    "},_indicator1:{description:"The '_indicator1' function is used for precalculating the first indicator within a trading strategy. If this indicator function returns a named tuple, specify the exact attribute to return, such as 'ta.bollingerbands().upperband' for only the upper band value(s) of the Bollinger Bands."},_indicator2:{description:"The '_indicator2' function is used for precalculating the second indicator within a trading strategy. If this indicator function returns a named tuple, specify the exact attribute to return. It's last value can be accessed by calling 'self._indicator2_value[-1]'."},_indicator3:{description:"The '_indicator3' function is used for precalculating the third indicator within a trading strategy. If this indicator function returns a named tuple, specify the exact attribute to return. It's last value can be accessed by calling 'self._indicator3_value[-1]'."},_indicator4:{description:"The '_indicator4' function is used for precalculating the fourth indicator within a trading strategy. If this indicator function returns a named tuple, specify the exact attribute to return. It's last value can be accessed by calling 'self._indicator4_value[-1]'."},_indicator5:{description:"The '_indicator5' function is used for precalculating the fifth indicator within a trading strategy. If this indicator function returns a named tuple, specify the exact attribute to return. It's last value can be accessed by calling 'self._indicator5_value[-1]'."},_indicator6:{description:"The '_indicator6' function is used for precalculating the sixth indicator within a trading strategy. If this indicator function returns a named tuple, specify the exact attribute to return. It's last value can be accessed by calling 'self._indicator6_value[-1]'."},_indicator7:{description:"The '_indicator7' function is used for precalculating the seventh indicator within a trading strategy. If this indicator function returns a named tuple, specify the exact attribute to return. It's last value can be accessed by calling 'self._indicator7_value[-1]'."},_indicator8:{description:"The '_indicator8' function is used for precalculating the eighth indicator within a trading strategy. If this indicator function returns a named tuple, specify the exact attribute to return. It's last value can be accessed by calling 'self._indicator8_value[-1]'."},_indicator9:{description:"The '_indicator9' function is used for precalculating the ninth indicator within a trading strategy. If this indicator function returns a named tuple, specify the exact attribute to return. It's last value can be accessed by calling 'self._indicator9_value[-1]'."},_indicator10:{description:"The '_indicator10' function is used for precalculating the tenth indicator within a trading strategy. If this indicator function returns a named tuple, specify the exact attribute to return. It's last value can be accessed by calling 'self._indicator10_value[-1]'."},_indicator1_test:{description:"The _indicator1_test function is used to test the accuracy of the '_indicator1's precalculated indicator relative to it's non-precalculated counterpart. It's used for testing purposes only during a backtest when the user has set env.simulation.precalc_test to True "},_indicator2_test:{description:"The _indicator2_test function is used to test the accuracy of the '_indicator2's precalculated indicator relative to it's non-precalculated counterpart. It's used for testing purposes only during a backtest when the user has set env.simulation.precalc_test to True "},_indicator3_test:{description:"The _indicator3_test function is used to test the accuracy of the '_indicator3's precalculated indicator relative to it's non-precalculated counterpart. It's used for testing purposes only during a backtest when the user has set env.simulation.precalc_test to True "},_indicator4_test:{description:"The _indicator4_test function is used to test the accuracy of the '_indicator4's precalculated indicator relative to it's non-precalculated counterpart. It's used for testing purposes only during a backtest when the user has set env.simulation.precalc_test to True "},_indicator5_test:{description:"The _indicator5_test function is used to test the accuracy of the '_indicator5's precalculated indicator relative to it's non-precalculated counterpart. It's used for testing purposes only during a backtest when the user has set env.simulation.precalc_test to True "},_indicator6_test:{description:"The _indicator6_test function is used to test the accuracy of the '_indicator6's precalculated indicator relative to it's non-precalculated counterpart. It's used for testing purposes only during a backtest when the user has set env.simulation.precalc_test to True "},_indicator7_test:{description:"The _indicator7_test function is used to test the accuracy of the '_indicator7's precalculated indicator relative to it's non-precalculated counterpart. It's used for testing purposes only during a backtest when the user has set env.simulation.precalc_test to True "},_indicator8_test:{description:"The _indicator8_test function is used to test the accuracy of the '_indicator8's precalculated indicator relative to it's non-precalculated counterpart. It's used for testing purposes only during a backtest when the user has set env.simulation.precalc_test to True "},_indicator9_test:{description:"The _indicator9_test function is used to test the accuracy of the '_indicator9's precalculated indicator relative to it's non-precalculated counterpart. It's used for testing purposes only during a backtest when the user has set env.simulation.precalc_test to True "},_indicator10_test:{description:"The _indicator10_test function is used to test the accuracy of the '_indicator10's precalculated indicator relative to it's non-precalculated counterpart. It's used for testing purposes only during a backtest when the user has set env.simulation.precalc_test to True "},on_open_position:{description:"The 'on_open_position' function is called immediately after an open-position order is executed. Use this function to perform actions or calculations based on the details of the newly opened position. The 'order' parameter provides information about the executed order, and 'self.position' can be used to access the current position's details.",autocompleteText:"on_open_position(self, order):",seeAlso:["position"]},on_close_position:{description:"The 'on_close_position' function is triggered when a position is closed following the execution of either a stop-loss or a take-profit order. It can be used to perform specific actions or log information upon the closing of a position. To determine whether the position was closed due to a take-profit or stop-loss, the properties 'order.is_take_profit' and 'order.is_stop_loss' can be utilized.",autocompleteText:"on_close_position(self, order):",example:'\ndef on_close_position(self, order):\n    if order.is_take_profit:\n        self.log("Take-profit closed the position")\n    elif order.is_stop_loss:\n        self.log("Stop-loss closed the position")\n    ',tip:"There is no need to manually cancel remaining active orders when a position is closed; Jesse handles this automatically."},on_increased_position:{description:"The 'on_increased_position' function is called when the size of an open position is increased due to the execution of an order. This event typically occurs in strategies that enter positions at multiple points, or when the position size is dynamically increased after the position has already been opened, such as within the 'update_position' method.",autocompleteText:"on_increased_position(self, order):",example:"\n# Example of entering a position at multiple points\ndef go_long(self):\n    self.buy = [\n        (1, 100), \n        (1, 90)\n    ]\n\n# Example of increasing position size during an open position\ndef update_position(self):\n    if self.is_long and self.position.pnl_percentage > 2:\n        self.buy = self.position.qty, self.price\n    "},on_reduced_position:{description:"The 'on_reduced_position' function is invoked when the size of an open position is reduced, but not fully closed, as a result of executing either a stop-loss or a take-profit order. This function is useful for strategies that involve partially exiting a position and potentially adjusting other orders, such as moving the stop-loss to break-even after a portion of the position has been exited.",autocompleteText:"on_reduced_position(self, order):",example:"\ndef go_long(self):\n    self.buy = 2, 100\n    self.take_profit = [\n        (1, 120),\n        (1, 140)\n    ]\n\ndef on_reduced_position(self, order):\n    # Adjusting stop-loss after partial exit\n    self.stop_loss = 1, 100\n    "},on_cancel:{description:"The 'on_cancel' function is triggered after all active orders associated with the strategy have been canceled. It's typically used in scenarios where you need to reset or clear custom values or settings after the completion of each trade cycle. This function can be especially useful for strategies that rely on maintaining state or counters that should be reinitialized after trade cancellations.",autocompleteText:"on_cancel(self):",example:"\n# Example of resetting a custom value after cancellation of orders\ndef on_cancel(self):\n    # Resetting or clearing custom strategy values\n    self.custom_value = 0\n    "},on_route_open_position:{description:"The 'on_route_open_position' event method is called immediately after a position is opened in another strategy. This function is particularly useful for strategies that involve interactions or dependencies between multiple trading routes. For example, it can be used to trigger actions in one strategy based on position openings in another strategy.",autocompleteText:"on_route_open_position(self, strategy):",example:"\ndef on_route_open_position(self, strategy):\n    # Example: Closing BTC-USDT position in the current strategy \n    # when a position in ETH-USDT is opened in another strategy\n    if self.is_open and strategy.symbol == 'ETH-USDT':\n        self.liquidate()\n    "},on_route_close_position:{description:"The 'on_route_close_position' event method is triggered after a position is closed in another strategy. It is useful for coordinating actions across multiple strategies, particularly if you need to respond to position closures in a different trading strategy.",autocompleteText:"on_route_close_position(self, strategy):",seeAlso:["on_route_open_position"]},on_route_increased_position:{description:"The 'on_route_increased_position' event method is called when a position's size is increased in another strategy. This method is valuable for strategies that require awareness or response to position size increases in different trading strategies.",autocompleteText:"on_route_increased_position(self, strategy):",seeAlso:["on_route_open_position"]},on_route_reduced_position:{description:"The 'on_route_reduced_position' event method is activated after a position is reduced in size in another strategy. It is particularly useful for strategies that are affected by or need to react to changes in position sizes in other trading strategies.",autocompleteText:"on_route_reduced_position(self, strategy):",seeAlso:["on_route_open_position"]},on_route_canceled:{description:"The 'on_route_canceled' event method is fired after all active entry orders are canceled in another strategy. This function is beneficial for strategies that need to monitor or respond to the cancellation of orders in separate trading strategies.",autocompleteText:"on_route_canceled(self, strategy):",seeAlso:["on_route_open_position"]}},Ke={anchor_timeframe:{description:"Returns the anchor timeframe. Useful for writing dynamic strategies using multiple timeframes.",autocompleteText:"anchor_timeframe(timeframe)",properties:{timeframe:{returnType:"str",description:"Specifies the timeframe to be used as the basis for the anchor timeframe calculation."}},returnType:"str",example:"\n# Example of using anchor_timeframe\ndef get_bigger_timeframe(self):\n    bigger_timeframe = anchor_timeframe('1h') # prints '4h'\n    "},are_cointegrated:{description:"Uses unit-root test on residuals to test for a cointegrated relationship between two price return series. Notice that for the formula to make sense, 'price_returns_1' and 'price_returns_2' must be 'price returns' and not the mere prices of the two assets. Hence, you need to convert your asset prices to returns using the 'prices_to_returns' utility. The 'cutoff' parameter points to the p-value threshold used in the formula.",tip:"For the formula to make sense, 'price_returns_1' and 'price_returns_2' must be 'price returns' and not just the prices of the assets. Use the 'prices_to_returns' utility to convert asset prices to returns before applying this function.",autocompleteText:"are_cointegrated(price_returns_1: np.ndarray, price_returns_2: np.ndarray, cutoff=0.05)",properties:{price_returns_1:{returnType:"np.ndarray",description:"The first series of price returns to be analyzed for a cointegrated relationship."},price_returns_2:{returnType:"np.ndarray",description:"The second series of price returns to be analyzed for a cointegrated relationship."},cutoff:{returnType:"float | default=0.05",description:"The p-value threshold used in the unit-root test to determine cointegration."}},returnType:"bool",example:'\n# Example of using are_cointegrated\ndef check_cointegration(self):\n    # Assuming price_returns_1 and price_returns_2 are defined as np.ndarray\n    are_cointegrated = are_cointegrated(price_returns_1, price_returns_2, 0.05)\n    if are_cointegrated:\n        print("The series are cointegrated")\n    else:\n        print("The series are not cointegrated")\n    '},crossed:{description:"Helper for the detection of crosses",autocompleteText:"crossed(series1, series2, direction=None, sequential=False)",properties:{series1:{returnType:"np.ndarray",description:"The first data series to check for crosses."},series2:{returnType:"float, int, np.ndarray",description:"The second data series (or a single value) to check for crosses against series1."},direction:{returnType:"str - default: None - above or below",description:'Specifies the direction of the cross to detect - either "above" or "below".'},sequential:{returnType:"bool - default: False",description:"Determines whether to return a boolean for the entire series (False) or a series indicating the crosses (True)."}},returnType:"bool | np.ndarray",example:"\n# Example of using crossed\ndef detect_cross(self):\n    # Assuming series1 and series2 are defined as np.ndarray\n    if crossed(series1, series2, 'above'):\n        print(\"Series1 crossed above Series2\")\n    elif crossed(series1, series2, 'below'):\n        print(\"Series1 crossed below Series2\")\n    "},combinations_without_repeat:{description:"Creates an array containing all combinations of the passed arrays individual values without repetitions. Useful for the optimization mode.",autocompleteText:"combinations_without_repeat(a: np.ndarray, n: int = 2)",properties:{a:{returnType:"np.ndarray",description:"The array from which to generate combinations."},n:{returnType:"int - default: 2",description:"The number of elements in each combination."}},returnType:"np.ndarray",example:"\n# Example of using combinations_without_repeat\ndef generate_combinations(self):\n    # Assuming 'a' is an np.ndarray\n    combinations = combinations_without_repeat(a, 2)\n    print(\"Combinations without repeat:\", combinations)\n    "},estimate_risk:{description:"Estimates the risk per share",autocompleteText:"estimate_risk(entry_price, stop_price)",properties:{entry_price:{returnType:"float",description:"The price at which the position is entered."},stop_price:{returnType:"float",description:"The predetermined price at which the position will be closed to stop further losses."}},returnType:"float",example:'\n# Example of using estimate_risk\ndef calculate_risk(self):\n    # Assuming entry_price and stop_price are defined as floats\n    risk_per_share = estimate_risk(entry_price, stop_price)\n    print("Risk per share:", risk_per_share)\n    '},kelly_criterion:{description:"Returns the Kelly Criterion.",autocompleteText:"kelly_criterion(win_rate, ratio_avg_win_loss)",properties:{win_rate:{returnType:"float",description:"The probability of a winning trade, expressed as a float between 0 and 1."},ratio_avg_win_loss:{returnType:"float",description:"The ratio of the average win to the average loss."}},returnType:"float",example:'\n# Example of using kelly_criterion\ndef calculate_kelly(self):\n    # Assuming win_rate and ratio_avg_win_loss are defined as floats\n    kelly = kelly_criterion(win_rate, ratio_avg_win_loss)\n    print("Kelly Criterion:", kelly)\n    '},limit_stop_loss:{description:"Limits the stop-loss price according to the max allowed risk percentage. This is used to determine how much percent you're okay with the price going against your position.",autocompleteText:"limit_stop_loss(entry_price, stop_price, trade_type, max_allowed_risk_percentage)",properties:{entry_price:{returnType:"float",description:"The entry price of the trade."},stop_price:{returnType:"float",description:"The initial stop loss price before adjustment."},trade_type:{returnType:"str",description:'Type of the trade, such as "long" or "short".'},max_allowed_risk_percentage:{returnType:"float",description:"The maximum percentage of risk allowed for the stop-loss price adjustment."}},returnType:"float",example:'\n# Example of using limit_stop_loss\ndef set_stop_loss(self):\n    # Assuming entry_price, stop_price, trade_type, and max_allowed_risk_percentage are defined\n    limited_stop_loss = limit_stop_loss(entry_price, stop_price, trade_type, max_allowed_risk_percentage)\n    print("Limited Stop Loss Price:", limited_stop_loss)\n    '},numpy_candles_to_dataframe:{description:"Helper to convert numpy to financial dataframe. It facilitates the transformation of candlestick data in numpy array format into a structured pandas DataFrame.",autocompleteText:'numpy_candles_to_dataframe(candles, name_date="date", name_open="open", name_high="high", name_low="low", name_close="close", name_volume="volume")',properties:{candles:{returnType:"np.ndarray",description:"The numpy array containing candlestick data."},name_date:{returnType:"str",description:"Column name for the date data in the DataFrame."},name_open:{returnType:"str",description:"Column name for the opening price in the DataFrame."},name_high:{returnType:"str",description:"Column name for the highest price in the DataFrame."},name_low:{returnType:"str",description:"Column name for the lowest price in the DataFrame."},name_close:{returnType:"str",description:"Column name for the closing price in the DataFrame."},name_volume:{returnType:"str",description:"Column name for the volume data in the DataFrame."}},returnType:"pd.DataFrame",example:'\n# Example of using numpy_candles_to_dataframe\ndef convert_to_dataframe(self, candles):\n    dataframe = numpy_candles_to_dataframe(candles)\n    print("DataFrame:", dataframe)\n    '},qty_to_size:{description:"Converts a quantity to its corresponding position-size. Example: Requesting 2 shares at the price of $50 would return $100.",autocompleteText:"qty_to_size(qty, price)",properties:{qty:{returnType:"float",description:"The quantity of the asset to be converted into position size."},price:{returnType:"float",description:"The price per unit of the asset."}},returnType:"float",example:'\n# Example of using qty_to_size\ndef calculate_position_size(self):\n    # Assuming qty and price are defined as floats\n    position_size = qty_to_size(qty, price)\n    print("Position Size:", position_size)\n    '},risk_to_qty:{description:"Calculates the quantity, based on the percentage of the capital you're willing to risk per trade. This function is essential for strategies involving compounding risk. It's important to note that in certain situations, this helper might return a quantity exceeding the available capital, especially with a very close stop loss. This is not an error but an expected behavior of the formula. Users should consider implementing logic to limit the quantity to a maximum percentage of the capital.",autocompleteText:"risk_to_qty(capital, risk_per_capital, entry_price, stop_loss_price, precision=3, fee_rate=0)",tip:"This is probably the most important helper function that you're going to need in your strategies. Those familiar with compounding risk would find this function especially useful. A dedicated [website](https://positionsizingcalculator.netlify.app/) is available to play with this simple but important formula.",warning:"There might be situations where this helper returns a quantity exceeding the available capital...",properties:{capital:{returnType:"float",description:"The total capital available for trading."},risk_per_capital:{returnType:"float",description:"The percentage of the capital that is risked on a single trade."},entry_price:{returnType:"float",description:"The entry price of the trade."},stop_loss_price:{returnType:"float",description:"The price at which the stop-loss is set, indicating the maximum loss that will be accepted."},precision:{returnType:"int - default: 3",description:"The precision of the calculated quantity, denoting the number of decimal places."},fee_rate:{returnType:"float - default: 0",description:"The fee rate for the trade, which is considered in the quantity calculation."}},returnType:"float",example:"\n# Example of using risk_to_qty for a long position\ndef go_long(self):\n    risk_perc = 1  # 1% risk of the capital\n    entry = 100\n    stop = 80\n    profit = 150\n    capital = 10000  # or dynamically as self.balance\n\n    qty = risk_to_qty(capital, risk_perc, entry, stop)\n    self.buy = qty, entry\n    self.stop_loss = qty, stop\n    self.take_profit = qty, profit\n\n# Including exchange fee in qty calculation\ndef go_long_with_fee(self):\n    qty = risk_to_qty(capital, risk_perc, entry, stop, fee_rate=self.fee_rate)\n    "},risk_to_size:{description:"Calculates the size of the position based on the amount of risk percentage you're willing to take. This function is useful for determining the appropriate position size for a trade, considering the capital at hand and the risk one is willing to assume.",autocompleteText:"risk_to_size(capital_size, risk_percentage, risk_per_qty, entry_price)",properties:{capital_size:{returnType:"float",description:"The total size of the capital available for trading."},risk_percentage:{returnType:"float",description:"The percentage of the capital size that is risked on a single trade."},risk_per_qty:{returnType:"float",description:"The risk amount per unit quantity of the asset."},entry_price:{returnType:"float",description:"The price at which the trade is entered."}},returnType:"float",example:'\n# Example of using risk_to_size\ndef calculate_position_size(self):\n    capital_size = 10000\n    risk_percentage = 1\n    risk_per_qty = 0.05\n    entry_price = 100\n    position_size = risk_to_size(capital_size, risk_percentage, risk_per_qty, entry_price)\n    print("Position Size:", position_size)\n    '},signal_line:{description:"Returns the moving average of the series, useful to create so-called signal lines of indicators. The 'matype' parameter specifies the type of moving average to use, and users can refer to the relevant documentation for available 'matype' options.",autocompleteText:"signal_line(series, period=10, matype=0)",properties:{series:{returnType:"np.array",description:"The time series data for which the moving average is to be calculated."},period:{returnType:"int - default = 10",description:"The number of periods over which to calculate the moving average."},matype:{returnType:"int - default = 0",description:"The type of moving average to be used (e.g., Simple, Exponential, etc.)."}},returnType:"np.array",example:"\n# Example of using signal_line\ndef calculate_signal_line(self, series):\n    # Assuming 'series' is a numpy array\n    signal = signal_line(series, 10, 0)\n    print(\"Signal Line:\", signal)\n    "},size_to_qty:{description:"Converts a position-size to the corresponding quantity. For example, requesting $100 at the price of $50 would return 2. This function is useful for determining the quantity of an asset to buy or sell based on the desired position size in monetary terms.",autocompleteText:"size_to_qty(position_size, price, precision=3, fee_rate=0)",properties:{position_size:{returnType:"float",description:"The total monetary value of the position to be taken."},price:{returnType:"float",description:"The price per unit of the asset."},precision:{returnType:"int - default: 3",description:"The precision of the quantity calculation, in terms of decimal places."},fee_rate:{returnType:"float - default: 0",description:"The fee rate applied to the trade, affecting the final quantity calculation."}},returnType:"float",example:'\n# Example of using size_to_qty\ndef calculate_quantity(self):\n    position_size = 100\n    price = 50\n    qty = size_to_qty(position_size, price)\n    print("Quantity:", qty)\n    '},streaks:{description:"Returns the streaks of the series. A positive number indicates a positive streak, while a negative number indicates a negative streak. By default, it uses the first discrete difference of the series. This function can be particularly useful for identifying trends or patterns in time series data.",autocompleteText:"streaks(series, use_diff=True)",properties:{series:{returnType:"np.array",description:"The time series data for which streaks are to be calculated."},use_diff:{returnType:"bool",description:"Determines whether to use the first discrete difference of the series to calculate streaks."}},returnType:"np.array[bool]",example:"\n# Example of using streaks\ndef calculate_streaks(self, series):\n    # Assuming 'series' is a numpy array\n    streak_values = streaks(series)\n    print(\"Streaks:\", streak_values)\n    "},strictly_decreasing:{description:"Returns whether a series is strictly decreasing or not. This function is useful for analyzing time series data to determine if the values in the series have been consistently decreasing over a specified lookback period.",autocompleteText:"strictly_decreasing(series, lookback)",properties:{series:{returnType:"np.array",description:"The time series data to be analyzed for a decreasing trend."},lookback:{returnType:"int",description:"The number of periods to look back in the series for determining the decreasing trend."}},returnType:"bool",example:"\n# Example of using strictly_decreasing\ndef is_series_decreasing(self, series):\n    # Assuming 'series' is a numpy array and 'lookback' is an integer\n    decreasing = strictly_decreasing(series, lookback)\n    print(\"Series is strictly decreasing:\", decreasing)\n    "},strictly_increasing:{description:"Returns whether a series is strictly increasing or not. This function is essential for identifying whether the values in a series have been consistently increasing over a given lookback period, often used in trend analysis.",autocompleteText:"strictly_increasing(series, lookback)",properties:{series:{returnType:"np.array",description:"The time series data to be analyzed for an increasing trend."},lookback:{returnType:"int",description:"The number of periods to look back in the series for determining the increasing trend."}},returnType:"bool",example:"\n# Example of using strictly_increasing\ndef is_series_increasing(self, series):\n    # Assuming 'series' is a numpy array and 'lookback' is an integer\n    increasing = strictly_increasing(series, lookback)\n    print(\"Series is strictly increasing:\", increasing)\n    "},subtract_floats:{description:"Subtracts two floats without the rounding issue in Python. This function is useful when dealing with floating-point arithmetic where precision is crucial, and typical subtraction might lead to unexpected rounding errors.",autocompleteText:"subtract_floats(float1: float, float2: float)",properties:{float1:{returnType:"float",description:"The first floating-point number to be subtracted from."},float2:{returnType:"float",description:"The second floating-point number to subtract from the first."}},returnType:"float",example:'\n# Example of using subtract_floats\ndef subtract_values(self):\n    float1 = 1.235\n    float2 = 0.234\n    result = subtract_floats(float1, float2)\n    print("Subtracted Value:", result)\n    '},sum_floats:{description:"Sums two floats without the rounding issue in Python. Similar to subtract_floats, this function ensures accurate addition of floating-point numbers, avoiding the common rounding errors associated with floating-point arithmetic.",autocompleteText:"sum_floats(float1: float, float2: float)",properties:{float1:{returnType:"float",description:"The first floating-point number to be added."},float2:{returnType:"float",description:"The second floating-point number to be added to the first."}},returnType:"float",example:'\n# Example of using sum_floats\ndef sum_values(self):\n    float1 = 1.235\n    float2 = 0.234\n    result = sum_floats(float1, float2)\n    print("Summed Value:", result)\n    '},wavelet_denoising:{description:"Denoises or filters timeseries data using wavelet transformation. It involves deconstructing and reconstructing the time series data based on a set threshold. This function is based on PyWavelets, and it's recommended to use wavelet basis functions like 'haar', 'db', 'sym', 'coif', which are suitable for financial data.",tip:"Consult the PyWavelets documentation for more detailed information on wavelet transformations.",autocompleteText:'wavelet_denoising(raw: np.ndarray, wavelet: str = "haar", level: int = 1, mode: str = "symmetric", smoothing_factor: float = 0, threshold_mode: str = "hard")',properties:{raw:{returnType:"np.ndarray",description:"The raw time series data to be denoised using wavelet transformation."},wavelet:{returnType:"str",description:'The type of wavelet to use for the denoising process. Common choices include "haar", "db", "sym", and "coif".'},level:{returnType:"int",description:"The level of wavelet transformation to apply to the data."},mode:{returnType:"str",description:'The mode of the wavelet transformation, such as "symmetric".'},smoothing_factor:{returnType:"float",description:"A factor used for smoothing in the wavelet transformation process."},threshold_mode:{returnType:"str",description:'The mode of thresholding (e.g., "hard" or "soft") used in the wavelet denoising.'}},returnType:"np.ndarray",example:"\n# Example of using wavelet_denoising\ndef denoise_series(self, raw_series):\n    # Assuming 'raw_series' is a numpy array\n    denoised_series = wavelet_denoising(raw_series, 'haar', 1, 'symmetric', 0, 'hard')\n    print(\"Denoised Series:\", denoised_series)\n    "},prices_to_returns:{description:"Converts a series of asset prices to returns. This function is essential for financial analysis, as working with returns, rather than raw price values, often provides more meaningful insights and avoids issues related to non-stationarity of price series.",tip:"The first return value for the first index cannot be calculated, hence it equals NaN.",autocompleteText:"prices_to_returns(price_series: np.ndarray)",properties:{price_series:{returnType:"np.ndarray",description:"The series of asset prices to be converted into returns."}},returnType:"np.ndarray",example:"\n# Example of using prices_to_returns\ndef convert_prices_to_returns(self, price_series):\n    # Assuming 'price_series' is a numpy array\n    returns = prices_to_returns(price_series)\n    print(\"Returns:\", returns)\n    "},z_score:{description:"A Z-score is a numerical measurement that describes how many standard deviations a data point is from the mean of the dataset. This function is particularly useful in statistical analysis for normalizing data and identifying outliers.",tip:"For the formula to be meaningful, 'price_returns' must represent 'price returns' and not just the raw prices of assets. Convert asset prices to returns using the 'prices_to_returns' utility before applying this function.",autocompleteText:"z_score(price_returns: np.ndarray)",properties:{price_returns:{returnType:"np.ndarray",description:"The series of price returns for which the Z-scores are to be calculated. The Z-score measures the deviation of each data point from the mean of this series."}},returnType:"np.ndarray",example:"\n# Example of using z_score\ndef calculate_z_scores(self, price_returns):\n    # Assuming 'price_returns' is a numpy array\n    z_scores = z_score(price_returns)\n    print(\"Z-scores:\", z_scores)\n    "}};var Ge=i(48620),Je=i(76639),Ye=i(73909),Ze=i(11833),et=i(4521),tt=i(35597),it=i(66188);const st={name:"Routes",chartInstance:null,volumeSeries:null,volumeData:[],candlestickSeries:null,candlestickData:[],fibonacciLines:[],autocompleteProvider:null,hoverProvider:null,editorInstance:null,components:{Divider:ze["default"],PlusSmIcon:ke.A,DotsVerticalIcon:Ce.A,Menu:Be.W1,MenuButton:Be.IU,MenuItem:Be.Dr,MenuItems:Be.c,DuplicateIcon:Se.A,TrashIcon:Te.A,ArrowCircleUpIcon:Ae.A,ArrowCircleDownIcon:Me.A,DividerWithButtons:We["default"],ExclamationIcon:Le.A,PencilIcon:Re.A,MonacoEditor:je["default"],CodeIcon:Ee.A,PuzzleIcon:Ie.A,QuestionMarkCircleIcon:Pe.A,ChartBarIcon:Fe.A,FontAwesomeIcon:tt.gc},directives:{tooltip:De.yw},props:{strategyName:{type:String,default:""},form:{type:Object,required:!0},results:{type:Object,required:!0}},emits:["update-strategy-name"],data(){return{showUtilityBox:!1,isNightMode:!1,isCrosshairSnappingMenu:!1,isFibonacciRetracement:!1,showEndButton:!1,showColorPicker:!1,volumeColor:"#c1dcf9",isMenuVisible:!1,menuPosition:null,menuPrice:null,lastValidTooltipData:null,volumeSeriesVisible:!0,isCrosshairSnapping:!1,colorIcon:it.fyG,eyeIcon:it.pS3,eyeSlashIcon:it.k6j,cogIcon:it.dB,undoIcon:it.U23,arrowsAltVIcon:it.zhB,moonIcon:it.PJS,chartLineIcon:it.gK3,sunIcon:it.oMq,tooltipTextColor:"#000000",chartBackgroundColor:"#FFFFFF",newChartHeight:null,newChartWidth:null,chartSymbol:null,chartTooltipTextColor:"#000000",chartTooltipBackgroundColor:"rgba(255, 255, 255, 0.7)",chartTooltipBorderColor:"#ccc",chartTooltipData:{symbol:"",price:0,date:""},chartTooltipStyle:{left:"0px",top:"0px"},tooltipData:{name:"",open:"",high:"",low:"",close:"",date:"",volume:"",color:""},chartProperties:{priceScale:{borderColor:"rgba(197, 203, 206, 1)",ticksVisible:!0,tickColor:"rgba(197, 203, 206, 1)",fontSize:12,fontFamily:"Arial"},handleScale:{mouseWheel:!0,pressedMouseMove:!0,pinch:!0},handleScroll:{axisPressedMouseMove:!0,mouseWheel:!0,pinch:!0},layout:{background:{color:"#FFFFFF"},textColor:"#000000"},grid:{vertLines:{color:"transparent"},horzLines:{color:"transparent"}},rightPriceScale:{autoScale:!0,visible:!0,borderColor:"rgba(197, 203, 206, 1)"},leftPriceScale:{autoScale:!0,visible:!0,borderColor:"rgba(197, 203, 206, 1)"},timeScale:{timeVisible:!0,secondsVisible:!0,borderColor:"rgba(197, 203, 206, 1)"},crosshair:{mode:et._q.Normal,vertLine:{width:6,color:"#C3BCDB44",style:et.Sc.Solid,labelBackgroundColor:"#9B7DFF",visible:!0},horzLine:{color:"#9B7DFF",labelBackgroundColor:"#9B7DFF",visible:!0}}},minChartWidth:300,minChartHeight:300,indicatorsInfo:{},showHelpModal:!1,showHotkeysModal:!1,showChart:!1,originalCode:"",strategyError:null,visibleStrategyOptions:null,editHistory:[],currentEditIndex:-1,oldRoutesCopy:JSON.parse(JSON.stringify(this.form.routes)),copiedExtraRoutes:{extra_routes:this.form.extra_routes},copiedRoutes:{routes:this.form.routes},totalRoutesError:[],currentStrategyName:"",code:"",editedStrategy:"",showEditor:!1,editorKey:0,backtestStore:(0,Je._)(),optunaStore:(0,Ze.I)(),optimizationStore:(0,Ye.O)(),editorOptions:{find:{seedSearchStringFromSelection:!0,autoFindInSelection:!0},readOnly:!1,lineNumbers:"on",wordWrap:"on",roundedSelection:!0,cursorStyle:"line",matchBrackets:"always",autoClosingBrackets:"languageDefined",autoClosingQuotes:"languageDefined",showUnused:!0,glyphMargin:!0,automaticLayout:!0,parameterHints:{enabled:!0},dragAndDrop:!0,suggestOnTriggerCharacters:!0,scrollBeyondLastLine:!0,quickSuggestions:!0,quickSuggestionsDelay:10,minimap:{enabled:!0},folding:!0}}},computed:{...(0,Ve.Us)(Oe.s,["theme"]),inputClass(){return"dark"===this.theme?"input-dark":"input-light"},menuStyle(){return this.menuPosition?{top:`${this.menuPosition.y}px`,left:`${this.menuPosition.x}px`}:{}},...(0,Ve.aH)(Oe.s,["routes","jesseSupportedTimeframes","exchangeInfo","settings","strategies","planInfo"]),isLive(){return"Live"===this.$route.name},tooltipVisible(){return""!==this.tooltipData.name},currentTabId(){return this.$route.params.id},editorTheme(){return"dark"===localStorage.theme?"vs-dark":"vs"},themeClass(){return"dark"===localStorage.getItem("theme")?"night-theme":"day-theme"},formattedStrategyTitle(){return this.editedStrategy.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")},errorModalMargin(){const e=5,t=4,i=this.strategyError?this.strategyError.length:0;return`${e+i*t}px`},exchanges(){const e=[];for(const t in this.exchangeInfo)this.isLive?this.exchangeInfo[t].modes.live_trading&&e.push(this.exchangeInfo[t]):this.exchangeInfo[t].modes.backtesting&&e.push(this.exchangeInfo[t]);return e.sort(((e,t)=>e.name.startsWith("Bitget")?-1:t.name.startsWith("Bitget")?1:e.name.localeCompare(t.name))),e}},watch:{currentTabId:{handler(e,t){if(this.$route.path.includes("backtest")&&this.form.routes.length>0){const e=this.form.routes[this.form.routes.length-1].strategy;this.sendStrategyToBackend(e)}},immediate:!0},strategyError(e){null!==this.strategyError&&this.setMonacoMarkers(this.editorInstance,e)},editorTheme(e,t){e!==t&&this.forceRerender()},code(e,t){e!==t&&(this.editHistory=this.editHistory.slice(0,this.currentEditIndex+1),this.editHistory.push(e),this.currentEditIndex++)},"form.routes":{handler(e){this.$route.path.includes("backtest")&&this.handleFormRoutesChange(e)},deep:!0},form(){this.initiate()},copiedRoutes:{handler(){this.checkRoutes()},deep:!0},copiedExtraRoutes:{handler(){this.checkRoutes()},deep:!0}},created(){this.initiate()},beforeUnmount(){window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyPress)},mounted(){if(this.$route.path.includes("backtest")&&this.form.routes.length>0){const e=this.form.routes[this.form.routes.length-1].strategy;this.sendStrategyToBackend(e)}window.addEventListener("resize",this.handleResize),this.handleResize()},methods:{toggleCrosshairSnapping(){this.isCrosshairSnapping=!this.isCrosshairSnapping,this.isCrosshairSnappingMenu=!this.isCrosshairSnappingMenu,this.isCrosshairSnapping?(this.chartInstance.applyOptions({crosshair:{mode:et._q.Magnet}}),this.chartInstance.subscribeCrosshairMove(this.handleCrosshairMove)):(this.chartInstance.applyOptions({crosshair:{mode:et._q.Normal}}),this.chartInstance.unsubscribeCrosshairMove(this.handleCrosshairMove))},handleCrosshairMove(e){if(this.isCrosshairSnapping&&e.point&&e.time)if(void 0===e.point||!e.time||e.point.x<0||e.point.x>this.newChartWidth||e.point.y<0||e.point.y>this.newChartHeight)this.isCrosshairSnappingMenu=!1;else{this.isCrosshairSnappingMenu=!0;const t=120,i=80,s=30,a=this.formatDate(new Date(1e3*e.time)),r=e.seriesData.get(this.candlestickSeries),n=r.close;this.chartTooltipData={symbol:this.chartSymbol,price:Math.round(100*n)/100,date:a};const o=this.candlestickSeries.priceToCoordinate(n);let l=e.point.x-t/2;if(null===o)return;l=Math.max(0,Math.min(this.newChartWidth-t,l));const c=o-i-s>0?o-i-s:Math.max(0,Math.min(this.newChartHeight-i-s,o+s));this.chartTooltipStyle={left:l+"px",top:c+"px"}}},formatDate(e){return e.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})},handleChartClick(e){console.log(e),2===e.sourceEvent.button&&e.point&&e.time&&(this.isMenuVisible=!this.isMenuVisible,this.menuPosition=e.point)},toggleUtilityBox(){this.showUtilityBox=!this.showUtilityBox},resetSettings(){this.resetYScale();const e=this.isNightMode?"rgba(122, 168, 228, 0.55)":"rgba(4, 111, 232, 0.25)";this.volumeColor="#c1dcf9",this.volumeSeries.applyOptions({color:e})},resetYScale(){this.chartInstance.applyOptions({rightPriceScale:{autoScale:!0},leftPriceScale:{autoScale:!0}})},toggleChartNightMode(){this.isNightMode=!this.isNightMode,this.isNightMode?this.applyNightMode():this.applyDayMode()},handleContextMenu(e){e.preventDefault()},applyNightMode(){const e="#222",t="#FFFFFF",i="transparent",s="#7F7F7F",a="rgba(122, 168, 228, 0.55)";this.volumeColor="#c1dcf9";const r="#26a69a",n="#ef5350";this.chartTooltipTextColor="#FFFFFF",this.chartTooltipBackgroundColor="rgba(48, 48, 48, 0.7)",this.chartTooltipBorderColor="#444",this.chartInstance.applyOptions({layout:{background:{color:e},textColor:t},grid:{vertLines:{color:i},horzLines:{color:i}},crosshair:{vertLine:{color:s,labelBackgroundColor:s},horzLine:{color:s,labelBackgroundColor:s}}}),this.candlestickSeries&&this.candlestickSeries.applyOptions({wickUpColor:r,wickDownColor:n,borderVisible:!1}),this.volumeSeries&&this.volumeSeries.applyOptions({color:a}),this.tooltipTextColor="#FFFFFF",this.chartBackgroundColor="#222",this.moonIcon=it.oMq},applyDayMode(){const e="#FFFFFF",t="#000000",i="transparent",s="#B3ACCB44",a="rgba(4, 111, 232, 0.25)";this.volumeColor="#c1dcf9";const r="#26a69a",n="#ef5350",o="#9B7DFF";this.chartTooltipTextColor="#000000",this.chartTooltipBackgroundColor="rgba(255, 255, 255, 0.7)",this.chartTooltipBorderColor="#ccc",this.chartInstance.applyOptions({layout:{background:{color:e},textColor:t},grid:{vertLines:{color:i},horzLines:{color:i}},crosshair:{vertLine:{color:s,labelBackgroundColor:o},horzLine:{color:o,labelBackgroundColor:o}}}),this.candlestickSeries&&this.candlestickSeries.applyOptions({wickUpColor:r,wickDownColor:n,borderVisible:!1}),this.volumeSeries&&this.volumeSeries.applyOptions({color:a}),this.tooltipTextColor="#000000",this.chartBackgroundColor="#FFFFFF",this.moonIcon=it.PJS},toggleFibonacciRetracement(){this.isFibonacciRetracement=!this.isFibonacciRetracement,this.isFibonacciRetracement?this.drawFibonacciRetracement():(this.fibonacciLines.forEach((e=>this.candlestickSeries.removePriceLine(e))),this.fibonacciLines=[])},drawFibonacciRetracement(){if(!this.isFibonacciRetracement)return;if(!this.candlestickData||0===this.candlestickData.length)return;this.fibonacciLines.length>0&&(this.fibonacciLines.forEach((e=>this.candlestickSeries.removePriceLine(e))),this.fibonacciLines=[]);const e=this.chartInstance.timeScale().getVisibleRange(),t=this.candlestickData.filter((t=>t.time>=e.from&&t.time<=e.to));let i=-1/0,s=1/0;t.forEach((e=>{e.high>i&&(i=e.high),e.low<s&&(s=e.low)}));const a=[{level:0,title:"0%"},{level:.236,title:"23.6%"},{level:.382,title:"38.2%"},{level:.5,title:"50%"},{level:.618,title:"61.8%"},{level:.786,title:"78.6%"},{level:1,title:"100%"}];a.forEach((({level:e,title:t})=>{const a=s+(i-s)*e,r=this.candlestickSeries.createPriceLine({price:a,color:"rgba(144, 238, 144, 0.5)",lineWidth:2,lineStyle:0,title:t,axisLabelVisible:!0});this.fibonacciLines.push(r)}))},rgbaToHex(e){const[t,i,s]=e.match(/\d+/g).map(Number);return`#${((1<<24)+(t<<16)+(i<<8)+s).toString(16).slice(1)}`},updateVolumeSeriesColor(){const e=this.isNightMode?.55:.25,t=this.convertHexToRGBA(this.volumeColor,e);this.volumeSeries.applyOptions({color:t})},convertHexToRGBA(e,t){const i=parseInt(e.substring(1,3),16),s=parseInt(e.substring(3,5),16),a=parseInt(e.substring(5,7),16);return`rgba(${i}, ${s}, ${a}, ${t})`},handleResize(){this.chartInstance&&(this.newChartWidth=Math.max(this.$refs.chartContainer.offsetWidth,this.minChartWidth),this.newChartHeight=Math.max(this.$refs.chartContainer.offsetHeight,this.minChartHeight),this.chartInstance.applyOptions({width:this.newChartWidth,height:this.newChartHeight}))},scrollToRealTime(){this.chartInstance.timeScale().scrollToRealTime()},scrollToBeginning(){this.chartInstance.timeScale().scrollToPosition(-(this.candlestickData.length-100),!0)},transformData(e){return e.map((e=>({time:e[0],open:e[1],high:e[3],low:e[4],close:e[2]})))},transformVolumeData(e){return e.map((e=>({time:e[0],value:e[5]})))},createChart_(){const e=this.$refs.chartContainer;this.chartInstance&&this.chartInstance.remove(),this.chartInstance=(0,et.R9)(e,this.chartProperties),this.candlestickSeries=this.chartInstance.addCandlestickSeries(),this.candlestickSeries.setData(this.candlestickData);const t=this.isNightMode?"rgba(122, 168, 228, 0.55)":"rgba(4, 111, 232, 0.25)";this.volumeSeries=this.chartInstance.addHistogramSeries({color:t,priceFormat:{type:"volume"},priceScaleId:"volume",scaleMargins:{top:.7,bottom:0}}),this.volumeSeries.setData(this.volumeData),this.chartInstance.timeScale().subscribeVisibleTimeRangeChange((()=>{const e=this.chartInstance.timeScale().scrollPosition()>=0;this.showEndButton=!e})),this.chartInstance.subscribeCrosshairMove((e=>{if(void 0===e.point||void 0===e.time)return void(this.lastValidTooltipData&&(this.tooltipData={...this.lastValidTooltipData}));const t=e.seriesData.get(this.candlestickSeries),i=e.seriesData.get(this.volumeSeries);t&&(this.tooltipData={name:"Symbol Name",date:new Date(1e3*e.time).toLocaleString("en",{timeZoneName:"short"}),open:t.open.toFixed(1),close:t.close.toFixed(1),high:t.high.toFixed(1),low:t.low.toFixed(1),volume:i?i.value.toFixed(1):0,color:t.close>t.open?"green":"red"}),this.lastValidTooltipData={...this.tooltipData}})),this.volumeSeries.applyOptions({visible:this.volumeSeriesVisible}),this.volumeSeries.priceScale().applyOptions({scaleMargins:{top:.7,bottom:0}});const i=e=>{const t=this.chartInstance.timeScale(),i=t.scrollPosition(),s=t.getVisibleLogicalRange(),a=s.to-s.from,r=.2;let n;switch(e.code){case"ArrowLeft":t.scrollToPosition(i-1e3,!1);break;case"ArrowRight":t.scrollToPosition(i+1e3,!1);break;case"Equal":n=a*(1-r);break;case"Minus":n=a*(1+r);break;default:return}if(n){const e=s.from+(a-n)/2,i=e+n;t.setVisibleLogicalRange({from:e,to:i})}};document.addEventListener("keydown",i),this.chartInstance.subscribeClick(this.handleChartClick),this.$refs.chartContainer.addEventListener("contextmenu",this.handleContextMenu),this.newChartWidth=this.$refs.chartContainer.offsetWidth,this.newChartHeight=this.$refs.chartContainer.offsetHeight,this.handleKeyPress=i,this.fibonacciLines=[],this.chartInstance.timeScale().subscribeVisibleTimeRangeChange((()=>{this.drawFibonacciRetracement()})),"dark"===localStorage.getItem("theme")?(this.isNightMode=!0,this.applyNightMode()):(this.isNightMode=!1,this.applyDayMode())},toggleVolumeSeriesVisibility(){this.volumeSeries&&(this.volumeSeriesVisible=!this.volumeSeriesVisible,this.volumeSeries.applyOptions({visible:this.volumeSeriesVisible}))},updateChartData(){this.chartInstance||this.createChart_()},openChart(){this.showChart=!0,this.$nextTick((()=>{this.handleResize()}))},closeChart(){this.chartInstance&&(this.chartInstance.remove(),this.$refs.chartContainer.removeEventListener("contextmenu",this.handleContextMenu),this.chartInstance=null,this.volumeSeries=null,this.volumeData=[],this.candlestickSeries=null,this.candlestickData=[],this.isFibonacciRetracement=!1,this.volumeSeriesVisible=!0,this.lastValidTooltipData=null,this.tooltipData={name:"",open:"",high:"",low:"",close:"",date:"",volume:"",color:""},this.showEndButton=!1,this.fibonacciLines=[],window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyPress)),this.showChart=!1},handleOutsideClickChart(){},openCharting(e){const t=this.getCurrentPathSegment().number;if(this.openChart(),"Backtest"===this.$route.name){const i=(0,Oe.s)(),s=performance.now();qe.A.post("/initial-charting",{id:t,config:i.settings.backtest,routes:e,start_date:this.backtestStore.tabs[t].form.start_date,finish_date:this.backtestStore.tabs[t].form.finish_date,destination:["backtest",t],indicator_info:this.indicatorsInfo}).then((e=>{const t=performance.now();console.log("Initial charting took "+(t-s)/1e3+" seconds"),this.candlestickData=this.transformData(e.data),this.volumeData=this.transformVolumeData(e.data),console.log(this.candlestickData.length),this.updateChartData()})).catch((e=>{console.log(e)}))}else"Optuna"===this.$route.name?this.optunaStore.initialChartCreation(t,e).then((e=>{this.candlestickData=e,this.updateChartData()})):"Optimization"===this.$route.name&&this.optimizationStore.initialChartCreation(t,e).then((e=>{this.candlestickData=e,this.updateChartData()}))},backendFormatCode(){qe.A.post("/code-formatting",{code:this.code}).then((e=>{200===e.status?this.code=e.data:console.log(e.data)})).catch((e=>{console.error(e)}))},showHelp(){this.showHelpModal=!0},closeHelpModal(){this.showHelpModal=!1},showHotkeys(){this.showHotkeysModal=!0},closeHotkeysModal(){this.showHotkeysModal=!1},setMonacoMarkers(e,t){const i=this.parseErrors(t);Ge.editor.setModelMarkers(e.getModel(),"python",i)},parseErrors(e){const t=Array.isArray(e)?e:[e];return t.map((e=>{let t=1,i=1,s=2,a=e;const r=/<string>:(\d+):(\d+): (.*)/,n=e.match(r),o=/line (\d+)/,l=e.match(o);if(n){t=parseInt(n[1]),i=parseInt(n[2]),a=n[3];const e=a.match(/'([^']+)'/);s=e?i+e[1].length:i+1}else if(l){t=parseInt(l[1]);const e=this.editorInstance.getModel().getLineContent(t);s=e.length+1}return{severity:Ge.MarkerSeverity.Error,startLineNumber:t,startColumn:i,endLineNumber:t,endColumn:s,message:a}}))},setErrorMessages(e){"string"===typeof e?this.strategyError=e.includes("\n")?e.split("\n"):[e]:Array.isArray(e)?this.strategyError=e:this.strategyError=["Unknown error"]},editorWillMount(e){},editorDidMount(e){this.setupHoverProvider(e),this.setupAutocompleteProvider(e),e.getAction("editor.action.formatDocument").run(),e.addCommand(Ge.KeyMod.Shift|Ge.KeyMod.Alt|Ge.KeyCode.KeyF,(()=>{e.getAction("editor.action.formatDocument").run(),this.backendFormatCode()})),e.addAction({id:"show-suggestions",label:"Show Suggestions",keybindings:[Ge.KeyMod.CtrlCmd|Ge.KeyCode.Space],run:function(e){e.trigger("any-string","editor.action.triggerSuggest",{})}}),this.editorInstance=e},removeWhitespaceLines(e,t){let i=null,s=null;const a=e.getLineCount();for(let n=1;n<=a;n++){const t=e.getLineContent(n);if(t.includes("def hyperparameters(self):")&&(i=n),i&&t.trim().endsWith("]")){s=n;break}}if(null===i||null===s)return;const r=[];for(let n=i;n<=s;n++){const t=e.getLineContent(n);""===t.trim()&&n!==i&&n!==s&&r.push({range:new Ge.Range(n,1,n+1,1),text:""})}r.length>0&&r.reverse().forEach((e=>{t.executeEdits("",[e])}))},isChangeInHyperparameters(e,t){let i=null,s=null;const a=t.getLineCount();for(let r=1;r<=a;r++){const e=t.getLineContent(r);if(e.includes("def hyperparameters(self):"))i=r+1;else if(i&&e.includes("]")){s=r;break}}return!(!i||!s)&&(e.range.startLineNumber>=i&&e.range.endLineNumber<=s)},setupAutocompleteProvider(e){this.autocompleteProvider=Ge.languages.registerCompletionItemProvider("python",{triggerCharacters:[".","_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],provideCompletionItems:(e,t)=>{const i=e.getValueInRange({startLineNumber:t.lineNumber,startColumn:1,endLineNumber:t.lineNumber,endColumn:t.column});if(i.endsWith("self.")){const e=Object.keys($e).filter((e=>$e[e].autocompleteText)).map((e=>({label:e,kind:Ge.languages.CompletionItemKind.Method,insertText:$e[e].autocompleteText,range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column}})));return{suggestions:e}}if(i.endsWith("def ")){const e=Object.keys(Qe).filter((e=>Qe[e].autocompleteText)).map((e=>({label:e,kind:Ge.languages.CompletionItemKind.Function,insertText:Qe[e].autocompleteText,insertTextRules:Ge.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column}})));return{suggestions:e}}if(i.endsWith("utils.")){const e=Object.keys(Ke).filter((e=>Ke[e].autocompleteText)).map((e=>({label:e,kind:Ge.languages.CompletionItemKind.Function,insertText:Ke[e].autocompleteText,insertTextRules:Ge.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column}})));return{suggestions:e}}const s=/ta\.([a-zA-Z0-9_]+)$/.exec(i);if(s){const i=s[1];if(Ue[i]){const s=Ue[i];let a=s.autocompleteText;if(t.lineNumber>1){const i=e.getLineContent(t.lineNumber-1),s=/def _indicator\d+/;s.test(i)&&(a=a.replace(/\bcandles\b/,"precalc_candles"),a=a.replace(/\bsequential=(?:False|True)\b/,"sequential=sequential"))}const r=[];if(s.hyperparameters&&s.hyperparameters.length>0){const t=s.hyperparameters.map((e=>`{'name': '${e.name}', 'type': ${e.type}, 'min': ${e.min}, 'max': ${e.max}, 'default': ${e.default}, 'step': ${e.step}}`)).join(",\n");let i;const a=e.getLineCount();for(let s=1;s<=a;s++){const t=e.getLineContent(s);if(t.includes("def hyperparameters(self):")){i=s+1;break}}if(i){let s;for(let t=i;t<=a;t++){const i=e.getLineContent(t);if(i.trim().endsWith("]")){s=t;break}}if(s){const s=e.getLineContent(i).indexOf("["),a=s+2;let n=t+",\n";const o=i+1;""===e.getLineContent(o).trim()&&(r.push({range:{startLineNumber:o,startColumn:1,endLineNumber:o+1,endColumn:1},text:""}),n=t),r.push({range:{startLineNumber:i,startColumn:a,endLineNumber:i,endColumn:a},text:n})}}}return{suggestions:[{label:s.autocompleteText,kind:Ge.languages.CompletionItemKind.Snippet,insertText:a,insertTextRules:Ge.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:t.lineNumber,startColumn:t.column-i.length,endLineNumber:t.lineNumber,endColumn:t.column},additionalTextEdits:r}]}}}return/ta\.$/.test(i)?{suggestions:Object.keys(Ue).map((e=>({label:e,kind:Ge.languages.CompletionItemKind.Function,insertText:e,range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:t.lineNumber,endColumn:t.column}})))}:{suggestions:[]}}})},setupHoverProvider(e){const t=e=>e.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase())).trim();this.hoverProvider=Ge.languages.registerHoverProvider("python",{provideHover:(e,i)=>{const s=e.getWordAtPosition(i);if(!s)return;if(Ue[s.word]){const a=Ue[s.word],r=[],n=["description","bullishCondition","bearishCondition","category","commonPairings","bestUsedFor","historicalReliability","customizationTips","expectedReturn","returnValues"];if(n.forEach((e=>{if(a[e])if("object"!==typeof a[e]||Array.isArray(a[e]))r.push({value:`**${t(e)}:** ${a[e]}`});else for(const i in a[e])Object.prototype.hasOwnProperty.call(a[e],i)&&r.push({value:`**${t(i)}:** ${a[e][i]}`})})),r.length>0)return{range:e.getWordUntilPosition(i).range,contents:r}}const a=$e[s.word];if(a){const t=[],s=["description","tip","tips","note","aliases","availableMetrics","warning","expectedReturn"];if(s.forEach((e=>{if(a[e]){const i=e.charAt(0).toUpperCase()+e.slice(1);t.push({value:`**${i}:** ${a[e]}`})}})),a.example&&t.push({value:`**Example:**\n\`\`\`python\n${a.example}\n\`\`\``}),t.length>0)return{range:e.getWordUntilPosition(i).range,contents:t}}const r=Qe[s.word];if(r){const t=[],s=["description","tip","tips","note","aliases","availableMetrics","warning","expectedReturn"];if(s.forEach((e=>{if(r[e]){const i=e.charAt(0).toUpperCase()+e.slice(1);t.push({value:`**${i}:** ${r[e]}`})}})),r.example&&t.push({value:`**Example:**\n\`\`\`python\n${r.example}\n\`\`\``}),t.length>0)return{range:e.getWordUntilPosition(i).range,contents:t}}const n=Ke[s.word];if(n){const t=[],s=["description","tip","tips","warning","returnType"];if(s.forEach((e=>{if(n[e]){const i=e.charAt(0).toUpperCase()+e.slice(1);t.push({value:`**${i}:** ${n[e]}`})}})),n.example&&t.push({value:`**Example:**\n\`\`\`python\n${n.example}\n\`\`\``}),t.length>0)return{range:e.getWordUntilPosition(i).range,contents:t}}if("precalc_candles"===s.word||"self.precalc_candles"===s.word){const t=$e.precalc_candles.description,s=[{value:`**precalc_candles:** ${t}`}];return{range:e.getWordUntilPosition(i).range,contents:s}}if("sequential"===s.word||"sequential=sequential"===s.word||"sequential=True"===s.word||"sequential=False"===s.word||"self.sequential"===s.word){const t=$e.sequential.description,s=[{value:`**sequential:** ${t}`}];return{range:e.getWordUntilPosition(i).range,contents:s}}if("candles"===s.word||"self.candles"===s.word){const t=$e.sequential.description,s=[{value:`**candles:** ${t}`}];return{range:e.getWordUntilPosition(i).range,contents:s}}if("source_type"===s.word){const t=Object.entries(Xe).map((([e,{description:t}])=>({value:`**${e}:** ${t}`})));return{range:e.getWordUntilPosition(i).range,contents:t}}if(Xe[s.word]){const t=Xe[s.word].description;return{range:e.getWordUntilPosition(i).range,contents:[{value:`**${s.word}:** ${t}`}]}}if("devtype"===s.word){const t=Object.entries(He).map((([t,{description:s,number:a}])=>({range:e.getWordUntilPosition(i).range,value:`**${t}:** ${s} (Number: ${a})`})));return{range:e.getWordUntilPosition(i).range,contents:t}}if("matype"===s.word||"ma_matype"===s.word){const t=Object.entries(Ne).map((([t,{description:s,number:a}])=>({range:e.getWordUntilPosition(i).range,value:`**${t}:** ${s} (Number: ${a})`})));return{range:e.getWordUntilPosition(i).range,contents:t}}if("pattern_type"===s.word){const t=Ue.pattern_recognition.patternType,s=Object.entries(t).map((([t,s])=>({range:e.getWordUntilPosition(i).range,value:`**${t}:** ${s}`})));return{range:e.getWordUntilPosition(i).range,contents:s}}if("penetration"===s.word){const t=Ue.pattern_recognition.penetration,s=[{value:`**Penetration:** ${t}`}];return{range:e.getWordUntilPosition(i).range,contents:s}}if("mode"===s.word){const t=Ue.pivot.pivot_mode,s=Object.entries(t).map((([t,{description:s,number:a}])=>({range:e.getWordUntilPosition(i).range,value:`**${t} (Number: ${a}):** ${s}`})));return{range:e.getWordUntilPosition(i).range,contents:s}}let o=i.lineNumber,l="",c=!1;while(o>0){const t=e.getLineContent(o);if(l=t+l,t.includes("ta.")){c=!0;break}o--}if(c){const e=l.match(/ta\.([a-zA-Z0-9_]+)\(/);if(e){const t=e[1];if(Ue[t]&&Ue[t].parameterDescription){const e=Ue[t].parameterDescription[s.word];if(e)return{contents:[{value:`**${s.word}:** ${e}`}]}}}}let d=!1,h="";o=i.lineNumber,l="";while(o>0){const t=e.getLineContent(o);if(l=t+l,t.includes("utils.")){d=!0;const e=t.match(/utils\.([a-zA-Z0-9_]+)\(/);if(e){h=e[1];break}}o--}if(d){const t=e.getWordAtPosition(i),s=Ke[h];if(s&&s.properties){const a=s.properties[t.word];if(a){const s=a.returnType,r=a.description;if(s&&r)return{range:e.getWordUntilPosition(i).range,contents:[{value:`**${t.word} (${s}):** ${r}`}]}}}}}})},editorClosing(){this.autocompleteProvider&&(this.autocompleteProvider.dispose(),this.autocompleteProvider=null),this.hoverProvider&&(this.hoverProvider.dispose(),this.hoverProvider=null)},toggleStrategyOptions(e){this.visibleStrategyOptions===e?this.visibleStrategyOptions=null:this.visibleStrategyOptions=e},openCodeEditor(e){},openStrategyEditor(e){},handleOutsideClick(){this.showEditor=!1,this.strategyError=null,this.editorClosing()},handleOutsideClickHelp(){this.showHelpModal=!1},handleOutsideClickHotkeys(){this.showHotkeysModal=!1},forceRerender(){this.showEditor=!1,this.$nextTick((()=>{this.showEditor=!0}))},loadStrategy(e){this.code=e,this.originalCode=e,this.editHistory=[e],this.currentEditIndex=0},undoEdit(){this.currentEditIndex>0&&(this.currentEditIndex--,this.code=this.editHistory[this.currentEditIndex])},undoAll(){this.code=this.originalCode,this.editHistory=[this.originalCode],this.currentEditIndex=0,this.strategyError=null},editStrategy(e){this.editorKey++;const t=e.strategy;qe.A.get("/code-receiving",{params:{strategy_name:t}}).then((e=>{this.code=e.data,this.editedStrategy=t,this.showEditor=!0,this.loadStrategy(e.data)})).catch((e=>{console.error(e)}))},saveCode(){const e=this.editedStrategy;qe.A.post("/code-receiving",{strategy_name:e,code:this.code}).then((t=>{"success"===t.data?(this.editorClosing(),this.showEditor=!1,this.code="",this.editedStrategy="",this.strategyError=null,this.sendStrategyToBackend(e)):this.setErrorMessages(t.data)})).catch((e=>{this.strategyError=e,console.error(e)}))},closeEditor(){this.showEditor=!1,this.code="",this.editedStrategy="",this.strategyError="",this.editorClosing()},handleFormRoutesChange(e){for(let t=0;t<e.length;t++)this.oldRoutesCopy[t]&&e[t].strategy===this.oldRoutesCopy[t].strategy||this.sendStrategyToBackend(e[t].strategy);this.oldRoutesCopy=JSON.parse(JSON.stringify(e))},updateRoute(e,t){this.oldRoutesCopy[e]=JSON.parse(JSON.stringify(this.form.routes[e])),this.form.routes[e]=t},sendStrategyToBackend(e){const t=this.getCurrentPathSegment();qe.A.post("/strategy-hyperparameters",{id:t.segment,current_page:t.number,strategy_name:e}).catch((e=>{console.error(e)})),this.currentStrategyName=e,this.$emit("update-strategy-name",this.currentStrategyName)},getCurrentPathSegment(){const e=this.$route.path.split("/").filter(Boolean);return e.length>=2?{segment:e[0],number:e[1]}:1===e.length?{segment:e[0],number:String(1)}:void 0},allowedToTradeIn(e){return!this.isLive||("premium"===this.planInfo.plan||"free"===this.exchangeInfo[e].required_live_plan)},checkRoutes(){this.totalRoutesError=[];const e=[],t={uniqueRoutesErrorMessage:"each exchange-symbol pair can be traded only once! <br> More info: https://docs.jesse.trade/docs/routes.html#trading-multiple-routes",maxSymbolLengthErrorMessage:"Maximum symbol length is exceeded!",mustContainDashErrorMessage:'Symbol parameter must contain "-" character!',timeframeMustBeDifferentErrorMessage:"Extra routes timeframe and routes timeframe must be different"};if(this.form.extra_routes.length>0)for(const o of this.form.extra_routes)if(!e.includes(t.maxSymbolLengthErrorMessage)&&o.symbol.length>9&&e.push(t.maxSymbolLengthErrorMessage),!e.includes(t.mustContainDashErrorMessage)&&o.symbol.length>=5){let i=!1;for(const e of o.symbol.substring(3,5))"-"===e&&(i=!0);i||e.push(t.mustContainDashErrorMessage)}for(const o of this.form.routes)if(!e.includes(t.maxSymbolLengthErrorMessage)&&o.symbol.length>19&&e.push(t.maxSymbolLengthErrorMessage),!e.includes(t.mustContainDashErrorMessage)&&o.symbol.length>=5){let i=!1;for(const e of o.symbol.substring(3,5))"-"===e&&(i=!0);i||e.push(t.mustContainDashErrorMessage)}const i=[];let s=!1;const a=this.form.routes;for(const o of a.slice(0,-1)){if(i.includes(t.uniqueRoutesErrorMessage))break;for(const e of a.slice(a.indexOf(o)+1))if(o.exchange===e.exchange&&o.strategy===e.strategy&&o.symbol===e.symbol&&0!==o.symbol.length){i.push(t.uniqueRoutesErrorMessage),s=!1;break}if(s)break}let r=!1;const n=this.form.extra_routes;for(const o of n.slice(0,-1)){if(i.includes(t.uniqueRoutesErrorMessage))break;for(const e of n.slice(n.indexOf(o)+1))if(o.exchange===e.exchange&&o.timeframe===e.timeframe&&o.symbol===e.symbol&&0!==o.symbol.length){i.push(t.uniqueRoutesErrorMessage),r=!0;break}if(r)break}if(r=!1,this.form.extra_routes.length>0)for(const o of n){if(i.includes(t.timeframeMustBeDifferentErrorMessage))break;for(const e of this.form.routes)if(o.exchange===e.exchange&&o.symbol===e.symbol&&o.timeframe===e.timeframe&&0!==o.symbol.length){i.push(t.timeframeMustBeDifferentErrorMessage),r=!0;break}if(s)break}for(const o of e)this.totalRoutesError.push(o);for(const o of i)this.totalRoutesError.push(o)},initiate(){this.form.routes.length||this.form.routes.push({exchange:this.exchanges[0].name,symbol:"BTC-USDT",timeframe:this.jesseSupportedTimeframes[0],strategy:this.strategies[0]})},addRoute(){this.form.routes.push({exchange:this.form.routes[this.form.routes.length-1].exchange,symbol:"",timeframe:this.jesseSupportedTimeframes[0],strategy:this.strategies[0]})},addExtraRoute(){this.form.extra_routes.push({exchange:this.form.routes[this.form.routes.length-1].exchange,symbol:"",timeframe:this.jesseSupportedTimeframes[0]})},deleteRoute(e){const t=this.form.routes.indexOf(e);if(1!==this.form.routes.length&&t>-1&&(this.form.routes.splice(t,1),this.form.routes.length>0)){const e=this.form.routes[this.form.routes.length-1].strategy;this.sendStrategyToBackend(e)}},deleteExtraRoute(e){const t=this.form.extra_routes.indexOf(e);0!==this.form.extra_routes.length&&t>-1&&this.form.extra_routes.splice(t,1)},duplicateRoutes(e){const t=this.form.routes.indexOf(e),i={};i.exchange=e.exchange,i.strategy=e.strategy,i.symbol="",i.timeframe=e.timeframe,this.form.routes.splice(t+1,0,i)},duplicateExtraRoutes(e){const t=this.form.extra_routes.indexOf(e),i={};i.exchange=e.exchange,i.strategy=e.strategy,i.symbol="",i.timeframe=e.timeframe,this.form.extra_routes.splice(t+1,0,i)},moveUpRoutes(e){const t=this.form.routes.indexOf(e);if(0!==t){const i=this.form.routes[t-1];this.form.routes[t]=i,this.form.routes[t-1]=e}},moveUpExtraRoutes(e){const t=this.form.extra_routes.indexOf(e);if(0!==t){const i=this.form.extra_routes[t-1];this.form.extra_routes[t]=i,this.form.extra_routes[t-1]=e}},moveDownRoutes(e){const t=this.form.routes.indexOf(e);if(t!==this.form.routes.length-1){const i=this.form.routes[t+1];this.form.routes[t]=i,this.form.routes[t+1]=e}},moveDownExtraRoutes(e){const t=this.form.extra_routes.indexOf(e);if(t!==this.form.extra_routes.length-1){const i=this.form.extra_routes[t+1];this.form.extra_routes[t]=i,this.form.extra_routes[t+1]=e}},getSupportedTimeframes(e){return e?"Live"!==this.$route.name||this.settings.live.generate_candles_from_1m?this.jesseSupportedTimeframes:this.exchangeInfo[e]?this.exchangeInfo[e].supported_timeframes:[]:[]}}};var at=i(66262);const rt=(0,at.A)(st,[["render",we],["__scopeId","data-v-7a5be206"]]),nt=rt},38114:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Pe});var s=i(20641),a=i(90033),r=i(53751);const n={class:"lg:grid lg:grid-cols-12 lg:gap-x-5 select-none"},o={class:"py-6 px-2 sm:px-6 lg:py-0 lg:px-0 lg:col-span-3"},l={class:"space-y-1"},c=["data-cy","onClick"],d={class:"truncate"},h={key:0,"data-cy":"backtest-setting-tab",class:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9 w-full"},u=(0,s.Lk)("p",null,[(0,s.eW)(" Below configurations are used to filter out the extra logging info that are displayed when the "),(0,s.Lk)("code",null,'"--debug"'),(0,s.eW)(" flag is enabled. ")],-1),p=(0,s.Lk)("br",null,null,-1),m={"data-cy":"backtest-setting-logs-checkboxes",class:"grid grid-cols-1 md:grid-cols-3 gap-4"},g=(0,s.Lk)("p",null," Below you can modify configuration per each exchange. You can even choose to use a spot exchange's data for backtestig in futures mode (just because spot exchanges usually have more historical data), and vice versa. ",-1),f=(0,s.Lk)("br",null,null,-1),b=(0,s.Lk)("br",null,null,-1),_=["data-cy"],v={class:"grid grid-cols-6 gap-6"},y=(0,s.Lk)("br",null,null,-1),x=(0,s.Lk)("br",null,null,-1),w={key:0},k=(0,s.Lk)("br",null,null,-1),C=(0,s.Lk)("br",null,null,-1),S={key:1,"data-cy":"setting-live-tab",class:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9 w-full"},T=(0,s.Lk)("p",null,[(0,s.eW)(" If persistency is "),(0,s.Lk)("b",null,"enabled"),(0,s.eW)(", on new live session, Jesse will try to "),(0,s.Lk)("b",null,"continue"),(0,s.eW)(" the previous running session based on the existing positions and orders on the exchange. "),(0,s.Lk)("br"),(0,s.Lk)("br"),(0,s.eW)(" If it's "),(0,s.Lk)("b",null,"disabled"),(0,s.eW)(", Jesse will first "),(0,s.Lk)("b",null,"close"),(0,s.eW)(" all existing positions and orders before "),(0,s.Lk)("b",null,"starting"),(0,s.eW)(" or "),(0,s.Lk)("b",null,"terminating"),(0,s.eW)(" live sessions. ")],-1),A=(0,s.Lk)("br",null,null,-1),M=(0,s.Lk)("p",null,[(0,s.eW)(" If the bellow option is "),(0,s.Lk)("b",null,"disabled"),(0,s.eW)(", Jesse will fetch candles for all timeframes (based on your routes) from the exchange. This ensures faster session start times and similar result in Jesse's chart and the one you see on the exchange (or TradingView). "),(0,s.Lk)("br"),(0,s.Lk)("br"),(0,s.eW)(" If the bellow option is "),(0,s.Lk)("b",null,"enabled"),(0,s.eW)(", Jesse will fetch 1m candles from the exchange, and generate bigger timeframes by its own. Doing so, Jesse is able to offer timeframes that are not supported by the exchange. It also captures the real price action that a shady exchange might be covering up later. In such case, you'll see differnet candle chart in Jesse and the one you see on the exchange. ")],-1),L=(0,s.Lk)("br",null,null,-1),R=(0,s.Lk)("p",null," You can filter the types of events that you want to be logged. Logging is often useful for debugging and recommended. Hence, it doesn't hurt to enable them all: ",-1),E=(0,s.Lk)("br",null,null,-1),I={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},P=(0,s.Lk)("br",null,null,-1),F=(0,s.Lk)("br",null,null,-1),D=(0,s.Lk)("p",null,[(0,s.eW)(" Jesse can notify every time something interesting happens so you don't have to monitor your bots 24/7. Currently, Telegram and Discord drivers are supported. "),(0,s.Lk)("br"),(0,s.Lk)("br"),(0,s.eW)(" To enter API keys for Telegram or Discord, check out your project's "),(0,s.Lk)("code",null,".env"),(0,s.eW)(" file. ")],-1),B=(0,s.Lk)("br",null,null,-1),z={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},V=(0,s.Lk)("br",null,null,-1),O={key:0},W=(0,s.Lk)("p",null," You can choose for which events you want to receive notifications: ",-1),q=(0,s.Lk)("br",null,null,-1),j={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},U=(0,s.Lk)("br",null,null,-1),N=(0,s.Lk)("p",null," You will also receive recurring reports about your positions as notifications. This gives you a little ease of mind so you don't have to constantly check your positions. ",-1),H=(0,s.Lk)("br",null,null,-1),X=(0,s.Lk)("p",null,[(0,s.eW)("You can choose the "),(0,s.Lk)("strong",null,"timeframe"),(0,s.eW)(" for how frequently you want to receive them:")],-1),$=(0,s.Lk)("br",null,null,-1),Q=(0,s.Lk)("br",null,null,-1),K=(0,s.Lk)("br",null,null,-1),G=(0,s.Lk)("p",null,[(0,s.eW)("Balances and fees will be fetched from the exchange in live trading. But for "),(0,s.Lk)("b",null,"paper trading"),(0,s.eW)(" you can set them here:")],-1),J=(0,s.Lk)("br",null,null,-1),Y={class:"grid grid-cols-6 gap-6"},Z=(0,s.Lk)("br",null,null,-1),ee={key:2,class:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9 w-full","data-cy":"optimization-setting-tab"},te=(0,s.Lk)("p",null," Because the optimize mode is limited to one route only, it makes sense to have only one configuration section for the exchange values. Depending on the exchange you define in your route, these configurations will be used. ",-1),ie={class:"grid grid-cols-6 gap-6 my-4"},se=(0,s.Lk)("br",null,null,-1),ae=(0,s.Lk)("br",null,null,-1),re={key:0},ne=(0,s.Lk)("br",null,null,-1),oe={key:3,class:"space-y-6 sm:px-6 lg:px-0 lg:col-span-9 w-full","data-cy":"optuna-setting-tab"},le=(0,s.Lk)("p",null," Because the optimize mode is limited to one route only, it makes sense to have only one configuration section for the exchange values. Depending on the exchange you define in your route, these configurations will be used. ",-1),ce={class:"grid grid-cols-6 gap-6 my-4"},de=(0,s.Lk)("br",null,null,-1),he=(0,s.Lk)("br",null,null,-1),ue={key:0},pe=(0,s.Lk)("br",null,null,-1);function me(e,t,i,me,ge,fe){const be=(0,s.g2)("Heading"),_e=(0,s.g2)("Checkbox"),ve=(0,s.g2)("Card"),ye=(0,s.g2)("FormInput"),xe=(0,s.g2)("Divider"),we=(0,s.g2)("RadioGroups"),ke=(0,s.g2)("NumberInput"),Ce=(0,s.g2)("ToggleButton");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("aside",o,[(0,s.Lk)("nav",l,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(fe.navigation,(e=>((0,s.uX)(),(0,s.CE)("button",{key:e.name,"data-cy":e.name+"-setting",class:(0,a.C4)(["block w-full",[ge.currentTab===e.name?"bg-gray-100 dark:bg-gray-800 text-indigo-700 dark:text-indigo-400 hover:text-indigo-700":"hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-300","group rounded-md px-3 py-2 flex items-center text-sm font-medium"]]),onClick:t=>ge.currentTab=e.name},[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.icon),{class:(0,a.C4)([ge.currentTab===e.name?"text-indigo-500 dark:text-indigo-400 group-hover:text-indigo-500":"text-gray-400 group-hover:text-gray-500 dark:group-hover:text-gray-400","flex-shrink-0 -ml-1 mr-3 h-6 w-6"]),"aria-hidden":"true"},null,8,["class"])),(0,s.Lk)("span",d,(0,a.v_)(e.name),1)],10,c)))),128))])]),"Backtest"===ge.currentTab?((0,s.uX)(),(0,s.CE)("div",h,[(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Logs")])),_:1}),u,p,(0,s.Lk)("div",m,[(0,s.bF)(_e,{name:"order_submission",title:"Order Submission",object:e.settings.backtest.logging},null,8,["object"]),(0,s.bF)(_e,{name:"order_cancellation",title:"Order Cancellation",object:e.settings.backtest.logging},null,8,["object"]),(0,s.bF)(_e,{name:"order_execution",title:"Order Execution",object:e.settings.backtest.logging},null,8,["object"]),(0,s.bF)(_e,{name:"position_opened",title:"Position Opened",object:e.settings.backtest.logging},null,8,["object"]),(0,s.bF)(_e,{name:"position_increased",title:"Position Increased",object:e.settings.backtest.logging},null,8,["object"]),(0,s.bF)(_e,{name:"position_reduced",title:"Position Reduced",object:e.settings.backtest.logging},null,8,["object"]),(0,s.bF)(_e,{name:"position_closed",title:"Position Closed",object:e.settings.backtest.logging},null,8,["object"]),(0,s.bF)(_e,{name:"shorter_period_candles",title:"1m candles",object:e.settings.backtest.logging},null,8,["object"]),(0,s.bF)(_e,{name:"trading_candles",title:"Trading Candles",object:e.settings.backtest.logging},null,8,["object"])])])),_:1}),(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Data")])),_:1}),(0,s.Lk)("div",null,[(0,s.bF)(ye,{"data-cy":"backtest-setting-data-input",placeholder:"ex: 210",title:"Warmup Candles",object:e.settings.backtest,description:"Number of warmup candles that is loaded before starting each session",name:"warm_up_candles","input-type":"number"},null,8,["object"])])])),_:1}),(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Exchanges")])),_:1}),g,f,b,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.settings.backtest.exchanges,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,"data-cy":"backtest-setting-exchange-"+fe.convertToSlug(e.name)},[(0,s.bF)(xe,{"bg-light":"bg-gray-50","bg-dark":"dark:bg-gray-700",title:e.name},null,8,["title"]),(0,s.Lk)("div",v,[(0,s.bF)(ye,{title:"Starting Capital",object:e,name:"balance","input-type":"number",step:1e3},null,8,["object"]),(0,s.bF)(ye,{title:`Trading Fee (${fe.round(100*e.fee,2)}%)`,object:e,name:"fee","input-type":"number",step:1e-4},null,8,["title","object"])]),y,(0,s.bF)(we,{title:"Type:",object:e,name:"type",options:["spot","futures"]},null,8,["object"]),x,"futures"===e.type?((0,s.uX)(),(0,s.CE)("div",w,[(0,s.bF)(we,{title:"Leverage Mode:",object:e,name:"futures_leverage_mode",options:["cross","isolated"],default:"isolated"},null,8,["object"]),k,"futures"===e.type?((0,s.uX)(),(0,s.Wv)(ke,{key:0,title:"Leverage (x):",name:"futures_leverage",object:e,default:1},null,8,["object"])):(0,s.Q3)("",!0),C])):(0,s.Q3)("",!0)],8,_)))),128))])),_:1})])):(0,s.Q3)("",!0),"Live"===ge.currentTab?((0,s.uX)(),(0,s.CE)("div",S,[(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Persistency")])),_:1}),T,A,(0,s.bF)(Ce,{object:e.settings.live,name:"persistency",title:"Enable Persistency"},null,8,["object"])])),_:1}),(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Candle Generation")])),_:1}),M,L,(0,s.bF)(Ce,{object:e.settings.live,name:"generate_candles_from_1m",title:"Generate Candles Locally"},null,8,["object"])])),_:1}),(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Logs")])),_:1}),R,E,(0,s.Lk)("div",I,[(0,s.bF)(_e,{name:"order_submission",title:"Order Submission",object:e.settings.live.logging},null,8,["object"]),(0,s.bF)(_e,{name:"order_cancellation",title:"Order Cancellation",object:e.settings.live.logging},null,8,["object"]),(0,s.bF)(_e,{name:"order_execution",title:"Order Execution",object:e.settings.live.logging},null,8,["object"]),(0,s.bF)(_e,{name:"position_opened",title:"Position Opened",object:e.settings.live.logging},null,8,["object"]),(0,s.bF)(_e,{name:"position_increased",title:"Position Increased",object:e.settings.live.logging},null,8,["object"]),(0,s.bF)(_e,{name:"position_reduced",title:"Position Reduced",object:e.settings.live.logging},null,8,["object"]),(0,s.bF)(_e,{name:"position_closed",title:"Position Closed",object:e.settings.live.logging},null,8,["object"]),(0,s.bF)(_e,{name:"shorter_period_candles",title:"1m candles",object:e.settings.live.logging},null,8,["object"]),(0,s.bF)(_e,{name:"trading_candles",title:"Trading Candles",object:e.settings.live.logging},null,8,["object"])])])),_:1}),P,(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Data")])),_:1}),(0,s.Lk)("div",null,[(0,s.bF)(ye,{"data-cy":"live-setting-warmup-candles-input",placeholder:"ex: 210",title:"Warmup Candles",object:e.settings.live,description:"Number of warmup candles that is loaded before starting each session",name:"warm_up_candles",min:1,"input-type":"number"},null,8,["object"])])])),_:1}),F,(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)(" Notifications ")])),_:1}),D,B,(0,s.Lk)("div",z,[(0,s.bF)(_e,{"data-cy":"live-setting-enabled-notification",name:"enabled",title:"Enable Notifications",object:e.settings.live.notifications},null,8,["object"])]),V,e.settings.live.notifications.enabled?((0,s.uX)(),(0,s.CE)("div",O,[W,q,(0,s.Lk)("div",j,[(0,s.bF)(_e,{name:"errors",title:"Errors",object:e.settings.live.notifications.events},null,8,["object"]),(0,s.bF)(_e,{name:"started_session",title:"Session Start",object:e.settings.live.notifications.events},null,8,["object"]),(0,s.bF)(_e,{name:"terminated_session",title:"Session Termination",object:e.settings.live.notifications.events},null,8,["object"]),(0,s.bF)(_e,{name:"submitted_orders",title:"Order Submission",object:e.settings.live.notifications.events},null,8,["object"]),(0,s.bF)(_e,{name:"cancelled_orders",title:"Order Cancellation",object:e.settings.live.notifications.events},null,8,["object"]),(0,s.bF)(_e,{name:"executed_orders",title:"Order Execution",object:e.settings.live.notifications.events},null,8,["object"]),(0,s.bF)(_e,{name:"opened_position",title:"Opened Positions",object:e.settings.live.notifications.events},null,8,["object"]),(0,s.bF)(_e,{name:"updated_position",title:"Updated Position",object:e.settings.live.notifications.events},null,8,["object"])]),U,(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)(" Recurring Position Reports ")])),_:1}),N,H,X,(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.settings.live.notifications.position_report_timeframe=t),"data-cy":"live-setting-report-notification-timeframe",class:"dark:bg-backdrop-dark dark:hover:bg-gray-800 hover:bg-gray-50 cursor-pointer w-full py-2 my-4 rounded border border-gray-200 dark:border-gray-600 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(ge.timeframes,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e},(0,a.v_)(e),1)))),128))],512),[[r.u1,e.settings.live.notifications.position_report_timeframe]]),$])):(0,s.Q3)("",!0)])),_:1}),Object.keys(e.settings.live.exchanges).length?((0,s.uX)(),(0,s.Wv)(ve,{key:0},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.settings.live.exchanges,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t},[(0,s.bF)(xe,{title:e.name,"bg-light":"bg-gray-50","bg-dark":"dark:bg-gray-700"},null,8,["title"]),(0,s.bF)(we,{title:"Leverage Mode:",object:e,name:"futures_leverage_mode",options:["cross","isolated"]},null,8,["object"]),Q,(0,s.bF)(ke,{title:"Leverage (x):",name:"futures_leverage",object:e},null,8,["object"]),K,G,J,(0,s.Lk)("div",Y,[(0,s.bF)(ye,{title:"Starting Capital",object:e,name:"balance","input-type":"number",step:1e3},null,8,["object"]),(0,s.bF)(ye,{title:`Trading Fee (${fe.round(100*e.fee,2)}%)`,object:e,name:"fee","input-type":"number",step:1e-4},null,8,["title","object"])]),Z])))),128))])),_:1})):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),"Optimization"===ge.currentTab?((0,s.uX)(),(0,s.CE)("div",ee,[(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("CPU")])),_:1}),(0,s.Lk)("div",null,[(0,s.bF)(ye,{placeholder:"ex: 4",title:`CPU cores to use for optimization (${e.settings.optimization.cpu_cores}/${e.systemInfo.cpu_cores})`,object:e.settings.optimization,description:"How many CPU cores of your machine would you like to be used for optimization?",name:"cpu_cores","input-type":"number"},null,8,["title","object"])])])),_:1}),(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Fitness Function")])),_:1}),(0,s.bF)(we,{title:"Ratio:",object:e.settings.optimization,name:"ratio",options:["sharpe","calmar","sortino","omega"]},null,8,["object"])])),_:1}),(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Data")])),_:1}),(0,s.Lk)("div",null,[(0,s.bF)(ye,{"data-cy":"optimization-warmup-candles-input",placeholder:"ex: 210",title:"Warmup Candles",object:e.settings.optimization,description:"Number of warmup candles that is loaded before starting each session",name:"warm_up_candles","input-type":"number"},null,8,["object"])])])),_:1}),(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Exchange")])),_:1}),te,(0,s.Lk)("div",ie,[(0,s.bF)(ye,{title:"Starting Capital",object:e.settings.optimization.exchange,name:"balance","input-type":"number",step:1e3},null,8,["object"]),(0,s.bF)(ye,{title:`Trading Fee (${fe.round(100*e.settings.optimization.exchange.fee,2)}%)`,object:e.settings.optimization.exchange,name:"fee","input-type":"number",step:1e-4},null,8,["title","object"])]),se,(0,s.bF)(we,{title:"Type:",object:e.settings.optimization.exchange,name:"type",options:["spot","futures"],default:"futures"},null,8,["object"]),ae,"futures"===e.settings.optimization.exchange.type?((0,s.uX)(),(0,s.CE)("div",re,[(0,s.bF)(we,{title:"Leverage Mode:",object:e.settings.optimization.exchange,name:"futures_leverage_mode",options:["cross","isolated"],default:"isolated"},null,8,["object"]),ne,(0,s.bF)(ke,{title:"Leverage (x):",name:"futures_leverage",object:e.settings.optimization.exchange,default:1},null,8,["object"])])):(0,s.Q3)("",!0)])),_:1})])):(0,s.Q3)("",!0),"Optuna"===ge.currentTab?((0,s.uX)(),(0,s.CE)("div",oe,[(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("CPU")])),_:1}),(0,s.Lk)("div",null,[(0,s.bF)(ye,{placeholder:"ex: 4",title:`CPU cores to use for optuna (${e.settings.optuna.cpu_cores}/${e.systemInfo.cpu_cores})`,object:e.settings.optuna,description:"How many CPU cores of your machine would you like to be used for optimization?",name:"cpu_cores","input-type":"number"},null,8,["title","object"])])])),_:1}),(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Data")])),_:1}),(0,s.Lk)("div",null,[(0,s.bF)(ye,{"data-cy":"optuna-warmup-candles-input",placeholder:"ex: 210",title:"Warmup Candles",object:e.settings.optuna,description:"Number of warmup candles that is loaded before starting each session",name:"warm_up_candles","input-type":"number"},null,8,["object"])])])),_:1}),(0,s.bF)(ve,null,{default:(0,s.k6)((()=>[(0,s.bF)(be,null,{default:(0,s.k6)((()=>[(0,s.eW)("Exchange")])),_:1}),le,(0,s.Lk)("div",ce,[(0,s.bF)(ye,{title:"Starting Capital",object:e.settings.optuna.exchange,name:"balance","input-type":"number",step:1e3},null,8,["object"]),(0,s.bF)(ye,{title:`Trading Fee (${fe.round(100*e.settings.optuna.exchange.fee,2)}%)`,object:e.settings.optuna.exchange,name:"fee","input-type":"number",step:1e-4},null,8,["title","object"])]),de,(0,s.bF)(we,{title:"Type:",object:e.settings.optuna.exchange,name:"type",options:["spot","futures"],default:"futures"},null,8,["object"]),he,"futures"===e.settings.optuna.exchange.type?((0,s.uX)(),(0,s.CE)("div",ue,[(0,s.bF)(we,{title:"Leverage Mode:",object:e.settings.optuna.exchange,name:"futures_leverage_mode",options:["cross","isolated"],default:"isolated"},null,8,["object"]),pe,(0,s.bF)(ke,{title:"Leverage (x):",name:"futures_leverage",object:e.settings.optuna.exchange,default:1},null,8,["object"])])):(0,s.Q3)("",!0)])),_:1})])):(0,s.Q3)("",!0)])}i(44114);var ge=i(16151),fe=i(22833),be=i(89430),_e=i(3526),ve=i(82237),ye=i(26864),xe=i(72687),we=i(15908),ke=i(38839),Ce=i(87829),Se=i(40849),Te=i(72064),Ae=i(2543),Me=i.n(Ae),Le=i(20546);const Re={components:{ToggleButton:Le["default"],Checkbox:_e["default"],Divider:ve["default"],Heading:ye["default"],Card:xe["default"],RadioGroups:we["default"],FormInput:Se["default"],NumberInput:Te["default"]},data(){return{timeframes:["1m","3m","5m","15m","30m","45m","1h","2h","3h","4h","6h","8h","12h","1D"],currentTab:"Backtest",persistencyOptions:[{name:"Continue Session",description:"Continue from the previous session using existing data on the exchange"},{name:"New Session",description:"Start a fresh sessions. Close existing positions and orders on the exchange"}]}},computed:{...(0,ke.aH)(Ce.s,["settings","systemInfo","hasLivePluginInstalled","planInfo","exchangeInfo"]),isLive(){return"Live"===this.$route.name},navigation(){const e=[{name:"Backtest",icon:ge.A},{name:"Optimization",icon:fe.A},{name:"Optuna",icon:fe.A}];return this.hasLivePluginInstalled&&e.push({name:"Live",icon:be.A}),e}},created(){"Backtest"===this.$route.name?this.currentTab="Backtest":"Optimization"===this.$route.name?this.currentTab="Optimization":"Optuna"===this.$route.name?this.currentTab="Optuna":"Live"===this.$route.name&&(this.currentTab="Live")},mounted(){this.sortExchanges(),this.removeInactiveLiveExchanges()},methods:{round:Me().round,sortExchanges(){const e=Object.keys(this.settings.backtest.exchanges).sort(),t=Object.keys(this.settings.live.exchanges).sort(),i={},s={};for(const a of e)i[a]=this.settings.backtest.exchanges[a];this.settings.backtest.exchanges=i;for(const a of t)s[a]=this.settings.live.exchanges[a];this.settings.live.exchanges=s},removeInactiveLiveExchanges(){for(const e of Object.keys(this.settings.live.exchanges))this.allowedToTradeIn(e)||delete this.settings.live.exchanges[e]},allowedToTradeIn(e){return!this.isLive||("premium"===this.planInfo.plan||"free"===this.exchangeInfo[e].required_live_plan)},convertToSlug(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}}};var Ee=i(66262);const Ie=(0,Ee.A)(Re,[["render",me]]),Pe=Ie},64520:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var s=i(20641),a=i(90033);const r={class:"px-4 py-5 border dark:border-gray-600 rounded overflow-hidden sm:p-6 select-none"},n={class:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate"},o={class:"mt-1 text-base font-semibold text-gray-900 dark:text-gray-100"};function l(e,t,i,l,c,d){return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("dt",n,(0,a.v_)(i.name),1),(0,s.Lk)("dd",o,(0,a.v_)(i.value),1)])}const c={name:"StatsBox",props:{name:{type:String,required:!0},value:{type:String,required:!0}}};var d=i(66262);const h=(0,d.A)(c,[["render",l]]),u=h},8143:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(20641);const a={class:"border border-gray-300 dark:border-gray-700 rounded-md p-4 w-full mx-auto"},r=(0,s.Fv)('<div class="animate-pulse flex space-x-4 mb-8"><div class="flex-1 space-y-4 py-1"><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-3/4"></div><div class="space-y-2"><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded"></div><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-5/6"></div></div></div><div class="flex-1 space-y-4 py-1"><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-3/4"></div><div class="space-y-2"><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded"></div><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-5/6"></div></div></div></div><div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-4 py-1"><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-3/4"></div><div class="space-y-2"><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded"></div><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-2/6"></div></div></div><div class="flex-1 space-y-4 py-1"><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-3/4"></div><div class="space-y-2"><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded"></div><div class="h-4 bg-gray-300 dark:bg-gray-700 rounded w-4/6"></div></div></div></div>',2),n=[r];function o(e,t){return(0,s.uX)(),(0,s.CE)("div",a,n)}var l=i(66262);const c={},d=(0,l.A)(c,[["render",o]]),h=d},39694:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(20641);const a={class:"flex flex-col"},r=(0,s.Fv)('<div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"><div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"><div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th colspan="2" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Info logs </th></tr></thead><tbody><tr class="bg-white"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> 16:14:01 </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> OPENED short position: Binance Futures, BTC-USDT, -0.178, $38042.2 </td></tr><tr class="bg-gray-50"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> 16:14:01 </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> Charged 2.03 as fee. Balance for USDT on Binance. </td></tr><tr class="bg-white"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> 16:14:01 </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> EXECUTED order: BTC-USDT, MARKET, sell, -0.178, $38042.2 </td></tr></tbody></table></div></div></div>',1),n=[r];function o(e,t,i,r,o,l){return(0,s.uX)(),(0,s.CE)("div",a,n)}const l={name:"InfoLogsTable",components:{},data(){return{}},computed:{},mounted(){},methods:{}};var c=i(66262);const d=(0,c.A)(l,[["render",o]]),h=d},92355:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(20641);const a={class:"flex flex-col max-w-sm"},r=(0,s.Fv)('<div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"><div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"><div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th colspan="2" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> Paper trade </th></tr></thead><tbody><tr class="bg-white"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> Started at </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> a minute ago </td></tr><tr class="bg-gray-50"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> Current time </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> 2021-06-02T16:14:26 </td></tr><tr class="bg-white"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> Errors/info </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> 0/18 </td></tr><tr class="bg-gray-50"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> Active orders </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> 2 </td></tr><tr class="bg-white"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> Open positions </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> 2 </td></tr><tr class="bg-gray-50"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> Started/current balance </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> 10000/9993.7 </td></tr><tr class="bg-white"><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> Debug mode </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> True </td></tr></tbody></table></div></div></div>',1),n=[r];function o(e,t,i,r,o,l){return(0,s.uX)(),(0,s.CE)("div",a,n)}const l={name:"InfoTable",components:{},data(){return{}},computed:{},mounted(){},methods:{}};var c=i(66262);const d=(0,c.A)(l,[["render",o]]),h=d},90093:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>k});var s=i(20641),a=i(90033),r=i(53751);const n={class:"mb-4"},o={class:"hidden sm:block"},l={class:"relative rounded-lg shadow flex divide-x divide-gray-200 dark:divide-gray-700","aria-label":"Tabs"},c=["data-cy"],d=["data-cy","onClick"],h={class:"absolute right-[1em] focus:outline-none"},u=(0,s.Lk)("span",{"aria-hidden":"true",class:"absolute inset-x-0 bottom-0 h-0.5 bg-transparent dark:bg-gray-600"},null,-1);function p(e,t,i,p,m,g){const f=(0,s.g2)("router-link"),b=(0,s.g2)("XIcon"),_=(0,s.g2)("PlusSmIcon");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",o,[(0,s.Lk)("nav",l,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.tabs,((e,t,n)=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,"data-cy":"tab"+n,class:"relative group min-w-0 flex-1 overflow-hidden text-center flex items-center"},[(0,s.bF)(f,{class:(0,a.C4)([e.id===i.pageId?"text-gray-900 dark:text-gray-100 font-bold ":"text-gray-500 dark:text-gray-300 hover:text-gray-700 font-medium ","py-4 px-4 inline-block select-none cursor-pointer focus:outline-none  w-full text-sm bg-white dark:bg-backdrop-dark hover:bg-gray-50 dark:hover:bg-gray-800"]),to:`${e.id}`},{default:(0,s.k6)((()=>[(0,s.Lk)("span",null,(0,a.v_)(e.results.executing?"":`Tab ${n+1}`)+" "+(0,a.v_)(e.results.executing?`${e.form.symbol?e.form.symbol:e.form.routes[0].symbol}`:"")+" "+(0,a.v_)(e.results.executing&&!e.results.showResults?" | "+e.results.progressbar.current+"%":"")+" "+(0,a.v_)(e.results.showResults?" - Results":""),1),(0,s.Lk)("span",{"aria-hidden":"true",class:(0,a.C4)([e.id===i.pageId&&Object.keys(i.tabs).length>1?"bg-indigo-400":"bg-transparent dark:bg-gray-600","absolute inset-x-0 bottom-0 h-0.5"])},null,2)])),_:2},1032,["class","to"]),(0,s.bo)((0,s.Lk)("button",{"data-cy":"tab-close-button"+n,class:"absolute right-[1em] focus:outline-none",onClick:t=>g.closeTab(e.id)},[(0,s.bF)(b,{class:"h-5 w-5 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-full","aria-hidden":"true"})],8,d),[[r.aG,Object.keys(i.tabs).length>1]])],8,c)))),128)),(0,s.Lk)("div",{class:"select-none cursor-pointer text-gray-400 dark:text-gray-100 hover:text-gray-600 focus:outline-none group relative w-14 overflow-hidden bg-white dark:bg-backdrop-dark py-4 px-4 font-medium hover:bg-gray-50 dark:hover:bg-gray-800 flex items-center justify-center",onClick:t[0]||(t[0]=(...e)=>g.addTab&&g.addTab(...e))},[(0,s.Lk)("button",h,[(0,s.bF)(_,{class:"h-6 w-6 rounded-full","aria-hidden":"true"})]),u])])])])}i(44114);var m=i(76639),g=i(88353),f=i(98487),b=i(31676),_=i(47682),v=i(11833);const y={name:"Tabs",components:{XIcon:g.A,PlusSmIcon:f.A},props:{pageId:{type:Number,required:!0},tabs:{type:Object,required:!0}},created(){1===this.pageId||this.pageId in this.tabs||this.$router.push({name:this.$route.name,params:{id:this.tabs[Object.keys(this.tabs)[0]].id}})},methods:{addTab(){if("Candles"===this.$route.name){const e=(0,b.B)();return e.addTab()}if("Backtest"===this.$route.name){const e=(0,m._)();return e.addTab()}if("Live"===this.$route.name){const e=(0,_.h)();return e.addTab()}if("Optuna"===this.$route.name){const e=(0,v.I)();return e.addTab()}},closeTab(e){delete this.tabs[e],this.pageId===e&&this.$router.push({name:this.$route.name,params:{id:this.tabs[Object.keys(this.tabs)[0]].id}})}}};var x=i(66262);const w=(0,x.A)(y,[["render",p]]),k=w},19038:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var s=i(20641);function a(e,t,i,a,r,n){const o=(0,s.g2)("MoonIcon"),l=(0,s.g2)("SunIcon");return(0,s.uX)(),(0,s.CE)("button",{id:"theme-switch-button",class:"btn-nav",onClick:t[0]||(t[0]=(...e)=>n.toggle&&n.toggle(...e))},["light"===e.theme?((0,s.uX)(),(0,s.Wv)(o,{key:0,class:"h-6 w-6","aria-hidden":"true"})):(0,s.Q3)("",!0),"dark"===e.theme?((0,s.uX)(),(0,s.Wv)(l,{key:1,class:"h-6 w-6","aria-hidden":"true"})):(0,s.Q3)("",!0)])}var r=i(92578),n=i(43939),o=i(38839),l=i(87829),c=i(62866);const d={name:"ThemeSwitch",components:{MoonIcon:r.A,SunIcon:n.A},computed:{...(0,o.Us)(l.s,["theme"])},beforeMount(){this.theme=c.A.currentTheme()},methods:{toggle(){const e="light"===this.theme?"dark":"light";"light"===e?(document.documentElement.classList.remove("dark"),localStorage.theme="light",this.theme="light"):"dark"===e&&(document.documentElement.classList.add("dark"),localStorage.theme="dark",this.theme="dark")}}};var h=i(66262);const u=(0,h.A)(d,[["render",a]]),p=u},20546:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>u});var s=i(20641),a=i(90033);const r={class:"flex-grow flex flex-col"},n={key:0,class:"opacity-70 uppercase text-sm"};function o(e,t,i,o,l,c){const d=(0,s.g2)("SwitchLabel"),h=(0,s.g2)("SwitchDescription"),u=(0,s.g2)("Switch"),p=(0,s.g2)("SwitchGroup");return(0,s.uX)(),(0,s.Wv)(p,{as:"div",class:"w-full flex items-center justify-between mb-3 select-none"},{default:(0,s.k6)((()=>[(0,s.Lk)("span",r,[(0,s.bF)(d,{as:"span",class:"font-medium text-gray-700 dark:text-gray-200",passive:""},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(i.title)+" ",1),i.disabledGuide?((0,s.uX)(),(0,s.CE)("span",n,"("+(0,a.v_)(i.disabledGuide)+")",1)):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(h,{as:"span",class:"text-sm text-gray-500 dark:text-gray-400"},{default:(0,s.k6)((()=>[(0,s.eW)((0,a.v_)(i.description),1)])),_:1})]),(0,s.bF)(u,{modelValue:i.object[i.name],"onUpdate:modelValue":t[0]||(t[0]=e=>i.object[i.name]=e),disabled:i.disabled,class:(0,a.C4)([i.object[i.name]?"bg-indigo-600 dark:bg-indigo-400":"bg-gray-200 dark:bg-gray-600","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none"])},{default:(0,s.k6)((()=>[(0,s.Lk)("span",{"aria-hidden":"true",class:(0,a.C4)([i.object[i.name]?"translate-x-5 dark:bg-backdrop-dark":"translate-x-0 dark:bg-gray-400","bg-white  pointer-events-none inline-block h-5 w-5 rounded-full shadow transform ring-0 transition ease-in-out duration-200"])},null,2)])),_:1},8,["modelValue","disabled","class"])])),_:1})}var l=i(67353);const c={name:"ToggleButton",components:{Switch:l.dO,SwitchDescription:l.xm,SwitchGroup:l.uE,SwitchLabel:l.$X},props:{description:{type:String,required:!1,default:""},title:{type:String,required:!0},object:{type:Object,required:!0},name:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},disabledGuide:{type:String,required:!1,default:""}},created(){this.disabled&&(this.object[this.name]=!1)}};var d=i(66262);const h=(0,d.A)(c,[["render",o]]),u=h},47949:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(20641),a=i(90033),r=i(53751);const n=["textContent"];function o(e,t,i,o,l,c){return(0,s.uX)(),(0,s.CE)("span",{class:"relative underline",onMouseenter:t[0]||(t[0]=(...e)=>c.showIt&&c.showIt(...e)),onMouseleave:t[1]||(t[1]=(...e)=>c.hideIt&&c.hideIt(...e))},[(0,s.bo)((0,s.Lk)("span",{class:"absolute -top-10 z-90 bg-gray-900 rounded px-2 py-1 text-sm text-white",textContent:(0,a.v_)(i.title)},null,8,n),[[r.aG,l.show]]),(0,s.RG)(e.$slots,"default")],32)}const l={name:"Tooltip",props:{title:{type:String,required:!0}},data(){return{show:!1}},methods:{showIt(){this.show=!0},hideIt(){this.show=!1}}};var c=i(66262);const d=(0,c.A)(l,[["render",o]]),h=d},76607:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>y});var s=i(20641),a=i(90033);const r={key:0,class:"relative bg-indigo-600 dark:bg-indigo-400 select-none text-white dark:text-black"},n={class:"max-w-7xl mx-auto py-3 px-3 sm:px-6 lg:px-8"},o={class:"pr-16 sm:text-center sm:px-16"},l={class:"font-medium"},c={class:"md:inline"},d=(0,s.Lk)("span",{class:"block sm:ml-2 sm:inline-block"},[(0,s.Lk)("a",{href:"https://docs.jesse.trade/docs/getting-started/update.html",target:"_blank",class:"font-bold underline"},[(0,s.eW)(" Update Guide "),(0,s.Lk)("span",{"aria-hidden":"true"},"")])],-1),h={class:"absolute inset-y-0 right-0 pt-1 pr-1 flex items-start sm:pt-1 sm:pr-2 sm:items-start"};function u(e,t,i,u,p,m){const g=(0,s.g2)("XIcon");return m.show.flag?((0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",n,[(0,s.Lk)("div",o,[(0,s.Lk)("p",l,[(0,s.Lk)("span",c,(0,a.v_)(m.show.message),1),d])]),(0,s.Lk)("div",h,[(0,s.Lk)("button",{type:"button",class:"flex p-2 rounded-md hover:bg-indigo-500 focus:outline-none focus:ring-0",onClick:t[0]||(t[0]=e=>m.skip(m.show.type,m.show.version))},[(0,s.bF)(g,{class:"h-6 w-6","aria-hidden":"true"})])])])])):(0,s.Q3)("",!0)}i(74423),i(44114);var p=i(88353),m=i(38839),g=i(87829),f=i(62866);const b={components:{XIcon:p.A},data(){return{skipped:!1}},computed:{...(0,m.aH)(g.s,["updateInfo","systemInfo"]),show(){if(this.skipped||!this.updateInfo||!this.updateInfo.is_update_info_available)return{flag:!1,message:"",type:"",version:""};const e=f.A.localStorageGet("skippedJesseVersions")||[],t=f.A.localStorageGet("skippedLivePluginVersions")||[];return this.updateInfo.jesse_latest_version>this.systemInfo.jesse_version&&!e.includes(this.updateInfo.jesse_latest_version)?{flag:!0,message:`Version "${this.updateInfo.jesse_latest_version}" of Jesse is available. You are currently running version "${this.systemInfo.jesse_version}".`,type:"jesse",version:this.updateInfo.jesse_latest_version}:this.updateInfo.jesse_live_latest_version>this.systemInfo.live_plugin_version&&!t.includes(this.updateInfo.jesse_live_latest_version)?{flag:!0,message:`Version "${this.updateInfo.jesse_live_latest_version}" of the live plugin is available. You are running "${this.systemInfo.live_plugin_version}".`,type:"live",version:this.updateInfo.jesse_live_latest_version}:{flag:!1,message:"",type:"",version:""}}},methods:{skip(e,t){if("jesse"===e){const e=f.A.localStorageGet("skippedJesseVersions")||[];e.push(t),f.A.localStorageSet("skippedJesseVersions",e),this.skipped=!0}if("live"===e){const e=f.A.localStorageGet("skippedLivePluginVersions")||[];e.push(t),f.A.localStorageSet("skippedLivePluginVersions",e),this.skipped=!0}}}};var _=i(66262);const v=(0,_.A)(b,[["render",u]]),y=v},9666:(e,t,i)=>{var s={"./Alert.vue":99377,"./Card.vue":72687,"./Charts/Candles/CandlesChart.vue":12360,"./Charts/EquityCurve.vue":38163,"./Checkbox.vue":3526,"./Divider.vue":82237,"./DividerWithButtons.vue":51988,"./EmptyBox.vue":12686,"./Exception.vue":19941,"./FullPageLoading.vue":40996,"./Functional/CircleProgressbar.vue":85484,"./Functional/DatePicker.vue":96159,"./Functional/FormInput.vue":40849,"./Functional/FormTextarea.vue":63356,"./Functional/ImageLoader.vue":9005,"./Functional/NumberInput.vue":72064,"./Functional/SlideOver.vue":31652,"./Functional/Spinner.vue":71046,"./Heading.vue":26864,"./KeyValueTable.vue":91098,"./KeyValueTableSimple.vue":26122,"./LoadingSvg.vue":80983,"./Logs.vue":77207,"./Modals/ButtonConfirmModal.vue":92340,"./Modals/ConfirmModal.vue":30191,"./Modals/CustomModal.vue":1199,"./Modals/HyperparametersModal.vue":29479,"./MonacoEditor.vue":93604,"./MultipleValuesTable.vue":41890,"./Nav.vue":99073,"./RadioGroups.vue":15908,"./Routes.vue":64431,"./Settings.vue":38114,"./StatsBox.vue":64520,"./TablePlaceholder.vue":8143,"./Tables/InfoLogsTable.vue":39694,"./Tables/InfoTable.vue":92355,"./Tabs.vue":90093,"./ThemeSwitch.vue":19038,"./ToggleButton.vue":20546,"./Tooltip.vue":47949,"./UpdateBanner.vue":76607};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=r,e.exports=a,a.id=9666},521:(e,t,i)=>{"use strict";e.exports=i.p+"img/logo-dark.374e6085.svg"},77159:(e,t,i)=>{"use strict";e.exports=i.p+"img/logo-light.20cb902b.png"},4521:(e,t,i)=>{"use strict";i.d(t,{R9:()=>Ga,Sc:()=>p,_q:()=>ce});i(74423),i(44114);var s=i(39889);
/*!
 * @license
 * TradingView Lightweight Charts v4.1.3-dev+202403162315
 * Copyright (c) 2024 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */
const a={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},r={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},n={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},o={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},l={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},c={color:"#26a69a",base:0},d={color:"#2196f3"},h={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var u,p;function m(e,t){const i={0:[],1:[e.lineWidth,e.lineWidth],2:[2*e.lineWidth,2*e.lineWidth],3:[6*e.lineWidth,6*e.lineWidth],4:[e.lineWidth,4*e.lineWidth]}[t];e.setLineDash(i)}function g(e,t,i,s){e.beginPath();const a=e.lineWidth%2?.5:0;e.moveTo(i,t+a),e.lineTo(s,t+a),e.stroke()}function f(e,t){if(!e)throw new Error("Assertion failed"+(t?": "+t:""))}function b(e){if(void 0===e)throw new Error("Value is undefined");return e}function _(e){if(null===e)throw new Error("Value is null");return e}function v(e){return _(b(e))}!function(e){e[e.Simple=0]="Simple",e[e.WithSteps=1]="WithSteps",e[e.Curved=2]="Curved"}(u||(u={})),function(e){e[e.Solid=0]="Solid",e[e.Dotted=1]="Dotted",e[e.Dashed=2]="Dashed",e[e.LargeDashed=3]="LargeDashed",e[e.SparseDotted=4]="SparseDotted"}(p||(p={}));const y={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function x(e){return e<0?0:e>255?255:Math.round(e)||0}function w(e){return e<=0||e>0?e<0?0:e>1?1:Math.round(1e4*e)/1e4:0}const k=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,C=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,S=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,T=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function A(e){(e=e.toLowerCase())in y&&(e=y[e]);{const t=T.exec(e)||S.exec(e);if(t)return[x(parseInt(t[1],10)),x(parseInt(t[2],10)),x(parseInt(t[3],10)),w(t.length<5?1:parseFloat(t[4]))]}{const t=C.exec(e);if(t)return[x(parseInt(t[1],16)),x(parseInt(t[2],16)),x(parseInt(t[3],16)),1]}{const t=k.exec(e);if(t)return[x(17*parseInt(t[1],16)),x(17*parseInt(t[2],16)),x(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${e}`)}function M(e){const t=A(e);return{background:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,foreground:(i=t,.199*i[0]+.687*i[1]+.114*i[2]>160?"black":"white")};var i}class L{constructor(){this._listeners=[]}subscribe(e,t,i){const s={callback:e,linkedObject:t,singleshot:!0===i};this._listeners.push(s)}unsubscribe(e){const t=this._listeners.findIndex((t=>e===t.callback));t>-1&&this._listeners.splice(t,1)}unsubscribeAll(e){this._listeners=this._listeners.filter((t=>t.linkedObject!==e))}fire(e,t,i){const s=[...this._listeners];this._listeners=this._listeners.filter((e=>!e.singleshot)),s.forEach((s=>s.callback(e,t,i)))}hasListeners(){return this._listeners.length>0}destroy(){this._listeners=[]}}function R(e,...t){for(const i of t)for(const t in i)void 0!==i[t]&&("object"!=typeof i[t]||void 0===e[t]||Array.isArray(i[t])?e[t]=i[t]:R(e[t],i[t]));return e}function E(e){return"number"==typeof e&&isFinite(e)}function I(e){return"number"==typeof e&&e%1==0}function P(e){return"string"==typeof e}function F(e){return"boolean"==typeof e}function D(e){const t=e;if(!t||"object"!=typeof t)return t;let i,s,a;for(s in i=Array.isArray(t)?[]:{},t)t.hasOwnProperty(s)&&(a=t[s],i[s]=a&&"object"==typeof a?D(a):a);return i}function B(e){return null!==e}function z(e){return null===e?void 0:e}const V="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function O(e,t,i){return void 0===t&&(t=V),`${i=void 0!==i?`${i} `:""}${e}px ${t}`}var W;!function(e){e[e.BorderSize=1]="BorderSize",e[e.TickLength=5]="TickLength"}(W||(W={}));class q{constructor(e){this._rendererOptions={borderSize:1,tickLength:5,fontSize:NaN,font:"",fontFamily:"",color:"",paneBackgroundColor:"",paddingBottom:0,paddingInner:0,paddingOuter:0,paddingTop:0,baselineOffset:0},this._chartModel=e}options(){const e=this._rendererOptions,t=this._fontSize(),i=this._fontFamily();return e.fontSize===t&&e.fontFamily===i||(e.fontSize=t,e.fontFamily=i,e.font=O(t,i),e.paddingTop=2.5/12*t,e.paddingBottom=e.paddingTop,e.paddingInner=t/12*e.tickLength,e.paddingOuter=t/12*e.tickLength,e.baselineOffset=0),e.color=this._textColor(),e.paneBackgroundColor=this._paneBackgroundColor(),this._rendererOptions}_textColor(){return this._chartModel.options().layout.textColor}_paneBackgroundColor(){return this._chartModel.backgroundTopColor()}_fontSize(){return this._chartModel.options().layout.fontSize}_fontFamily(){return this._chartModel.options().layout.fontFamily}}class j{constructor(){this._renderers=[]}setRenderers(e){this._renderers=e}draw(e,t,i){this._renderers.forEach((s=>{s.draw(e,t,i)}))}}class U{draw(e,t,i){e.useBitmapCoordinateSpace((e=>this._drawImpl(e,t,i)))}}class N extends U{constructor(){super(...arguments),this._data=null}setData(e){this._data=e}_drawImpl({context:e,horizontalPixelRatio:t,verticalPixelRatio:i}){if(null===this._data||null===this._data.visibleRange)return;const s=this._data.visibleRange,a=this._data,r=Math.max(1,Math.floor(t))%2/2,n=n=>{e.beginPath();for(let o=s.to-1;o>=s.from;--o){const s=a.items[o],l=Math.round(s.x*t)+r,c=s.y*i,d=n*i+r;e.moveTo(l,c),e.arc(l,c,d,0,2*Math.PI)}e.fill()};a.lineWidth>0&&(e.fillStyle=a.backColor,n(a.radius+a.lineWidth)),e.fillStyle=a.lineColor,n(a.radius)}}function H(){return{items:[{x:0,y:0,time:0,price:0}],lineColor:"",backColor:"",radius:0,lineWidth:0,visibleRange:null}}const X={from:0,to:1};class ${constructor(e,t){this._compositeRenderer=new j,this._markersRenderers=[],this._markersData=[],this._validated=new Map,this._chartModel=e,this._crosshair=t,this._compositeRenderer.setRenderers(this._markersRenderers)}update(e){const t=this._chartModel.serieses();t.length!==this._markersRenderers.length&&(this._markersData=t.map(H),this._markersRenderers=this._markersData.map((e=>{const t=new N;return t.setData(e),t})),this._compositeRenderer.setRenderers(this._markersRenderers)),this._validated.clear()}renderer(e,t){let i=this._validated.get(e);if(!i){i=this._updateImpl(e),this._validated.set(e,i);const t=new j;return t.setRenderers(i),t}const s=new j;return s.setRenderers(i),s}_updateImpl(e){const t=this._chartModel.serieses().map(((e,t)=>[e,t])).filter((t=>e.dataSources().includes(t[0]))),i=2===this._crosshair.options().mode,s=this._crosshair.appliedIndex(),a=this._chartModel.timeScale();return t.map((([e,t])=>{var r;const n=this._markersData[t],o=e.markerDataAtIndex(s);if(i||null===o||!e.visible())n.visibleRange=null;else{const t=_(e.firstValue());n.lineColor=o.backgroundColor,n.radius=o.radius,n.lineWidth=o.borderWidth,n.items[0].price=o.price,n.items[0].y=e.priceScale().priceToCoordinate(o.price,t.value),n.backColor=null!==(r=o.borderColor)&&void 0!==r?r:this._chartModel.backgroundColorAtYPercentFromTop(n.items[0].y),n.items[0].time=s,n.items[0].x=a.indexToCoordinate(s),n.visibleRange=X}return this._markersRenderers[t]}))}}class Q extends U{constructor(e){super(),this._data=e}_drawImpl({context:e,bitmapSize:t,horizontalPixelRatio:i,verticalPixelRatio:s}){if(null===this._data)return;const a=this._data.vertLine.visible,r=this._data.horzLine.visible;if(!a&&!r)return;const n=Math.round(this._data.x*i),o=Math.round(this._data.y*s);e.lineCap="butt",a&&n>=0&&(e.lineWidth=Math.floor(this._data.vertLine.lineWidth*i),e.strokeStyle=this._data.vertLine.color,e.fillStyle=this._data.vertLine.color,m(e,this._data.vertLine.lineStyle),function(e,t,i,s){e.beginPath();const a=e.lineWidth%2?.5:0;e.moveTo(t+a,i),e.lineTo(t+a,s),e.stroke()}(e,n,0,t.height)),r&&o>=0&&(e.lineWidth=Math.floor(this._data.horzLine.lineWidth*s),e.strokeStyle=this._data.horzLine.color,e.fillStyle=this._data.horzLine.color,m(e,this._data.horzLine.lineStyle),g(e,o,0,t.width))}}class K{constructor(e){this._validated=new Map,this._rendererData={vertLine:{lineWidth:1,lineStyle:0,color:"",visible:!1},horzLine:{lineWidth:1,lineStyle:0,color:"",visible:!1},x:0,y:0},this._renderer=new Q(this._rendererData),this._source=e}update(){this._validated.clear()}renderer(e){return this._updateImpl(e),this._renderer}_updateImpl(e){const t=this._source.visible(),i=_(this._source.pane()).model().options().crosshair,s=this._rendererData;if(2===i.mode)return s.horzLine.visible=!1,void(s.vertLine.visible=!1);s.horzLine.visible=t&&this._source.horzLineVisible(e),s.vertLine.visible=t&&this._source.vertLineVisible(),s.horzLine.lineWidth=i.horzLine.width,s.horzLine.lineStyle=i.horzLine.style,s.horzLine.color=i.horzLine.color,s.vertLine.lineWidth=i.vertLine.width,s.vertLine.lineStyle=i.vertLine.style,s.vertLine.color=i.vertLine.color,s.x=this._source.appliedX(),s.y=this._source.appliedY()}}function G(e,t,i,s,a,r){e.fillRect(t+r,i,s-2*r,r),e.fillRect(t+r,i+a-r,s-2*r,r),e.fillRect(t,i,r,a),e.fillRect(t+s-r,i,r,a)}function J(e,t,i,s,a,r){e.save(),e.globalCompositeOperation="copy",e.fillStyle=r,e.fillRect(t,i,s,a),e.restore()}function Y(e,t){return e.map((e=>0===e?e:e+t))}function Z(e,t,i,s,a,r){e.beginPath(),e.lineTo(t+s-r[1],i),0!==r[1]&&e.arcTo(t+s,i,t+s,i+r[1],r[1]),e.lineTo(t+s,i+a-r[2]),0!==r[2]&&e.arcTo(t+s,i+a,t+s-r[2],i+a,r[2]),e.lineTo(t+r[3],i+a),0!==r[3]&&e.arcTo(t,i+a,t,i+a-r[3],r[3]),e.lineTo(t,i+r[0]),0!==r[0]&&e.arcTo(t,i,t+r[0],i,r[0])}function ee(e,t,i,s,a,r,n=0,o=[0,0,0,0],l=""){if(e.save(),!n||!l||l===r)return Z(e,t,i,s,a,o),e.fillStyle=r,e.fill(),void e.restore();const c=n/2;"transparent"!==r&&(Z(e,t+n,i+n,s-2*n,a-2*n,Y(o,-n)),e.fillStyle=r,e.fill()),"transparent"!==l&&(Z(e,t+c,i+c,s-n,a-n,Y(o,-c)),e.lineWidth=n,e.strokeStyle=l,e.closePath(),e.stroke()),e.restore()}function te(e,t,i,s,a,r,n){e.save(),e.globalCompositeOperation="copy";const o=e.createLinearGradient(0,0,0,a);o.addColorStop(0,r),o.addColorStop(1,n),e.fillStyle=o,e.fillRect(t,i,s,a),e.restore()}class ie{constructor(e,t){this.setData(e,t)}setData(e,t){this._data=e,this._commonData=t}height(e,t){return this._data.visible?e.fontSize+e.paddingTop+e.paddingBottom:0}draw(e,t,i,s){if(!this._data.visible||0===this._data.text.length)return;const a=this._data.color,r=this._commonData.background,n=e.useBitmapCoordinateSpace((e=>{const n=e.context;n.font=t.font;const o=this._calculateGeometry(e,t,i,s),l=o.bitmap,c=(e,t)=>{o.alignRight?ee(n,l.xOutside,l.yTop,l.totalWidth,l.totalHeight,e,l.horzBorder,[l.radius,0,0,l.radius],t):ee(n,l.xInside,l.yTop,l.totalWidth,l.totalHeight,e,l.horzBorder,[0,l.radius,l.radius,0],t)};return c(r,"transparent"),this._data.tickVisible&&(n.fillStyle=a,n.fillRect(l.xInside,l.yMid,l.xTick-l.xInside,l.tickHeight)),c("transparent",r),this._data.borderVisible&&(n.fillStyle=t.paneBackgroundColor,n.fillRect(o.alignRight?l.right-l.horzBorder:0,l.yTop,l.horzBorder,l.yBottom-l.yTop)),o}));e.useMediaCoordinateSpace((({context:e})=>{const i=n.media;e.font=t.font,e.textAlign=n.alignRight?"right":"left",e.textBaseline="middle",e.fillStyle=a,e.fillText(this._data.text,i.xText,(i.yTop+i.yBottom)/2+i.textMidCorrection)}))}_calculateGeometry(e,t,i,s){var a;const{context:r,bitmapSize:n,mediaSize:o,horizontalPixelRatio:l,verticalPixelRatio:c}=e,d=this._data.tickVisible||!this._data.moveTextToInvisibleTick?t.tickLength:0,h=this._data.separatorVisible?t.borderSize:0,u=t.paddingTop+this._commonData.additionalPaddingTop,p=t.paddingBottom+this._commonData.additionalPaddingBottom,m=t.paddingInner,g=t.paddingOuter,f=this._data.text,b=t.fontSize,_=i.yMidCorrection(r,f),v=Math.ceil(i.measureText(r,f)),y=b+u+p,x=t.borderSize+m+g+v+d,w=Math.max(1,Math.floor(c));let k=Math.round(y*c);k%2!=w%2&&(k+=1);const C=h>0?Math.max(1,Math.floor(h*l)):0,S=Math.round(x*l),T=Math.round(d*l),A=null!==(a=this._commonData.fixedCoordinate)&&void 0!==a?a:this._commonData.coordinate,M=Math.round(A*c)-Math.floor(.5*c),L=Math.floor(M+w/2-k/2),R=L+k,E="right"===s,I=E?o.width-h:h,P=E?n.width-C:C;let F,D,B;return E?(F=P-S,D=P-T,B=I-d-m-h):(F=P+S,D=P+T,B=I+d+m),{alignRight:E,bitmap:{yTop:L,yMid:M,yBottom:R,totalWidth:S,totalHeight:k,radius:2*l,horzBorder:C,xOutside:F,xInside:P,xTick:D,tickHeight:w,right:n.width},media:{yTop:L/c,yBottom:R/c,xText:B,textMidCorrection:_}}}}class se{constructor(e){this._commonRendererData={coordinate:0,background:"#000",additionalPaddingBottom:0,additionalPaddingTop:0},this._axisRendererData={text:"",visible:!1,tickVisible:!0,moveTextToInvisibleTick:!1,borderColor:"",color:"#FFF",borderVisible:!1,separatorVisible:!1},this._paneRendererData={text:"",visible:!1,tickVisible:!1,moveTextToInvisibleTick:!0,borderColor:"",color:"#FFF",borderVisible:!0,separatorVisible:!0},this._invalidated=!0,this._axisRenderer=new(e||ie)(this._axisRendererData,this._commonRendererData),this._paneRenderer=new(e||ie)(this._paneRendererData,this._commonRendererData)}text(){return this._updateRendererDataIfNeeded(),this._axisRendererData.text}coordinate(){return this._updateRendererDataIfNeeded(),this._commonRendererData.coordinate}update(){this._invalidated=!0}height(e,t=!1){return Math.max(this._axisRenderer.height(e,t),this._paneRenderer.height(e,t))}getFixedCoordinate(){return this._commonRendererData.fixedCoordinate||0}setFixedCoordinate(e){this._commonRendererData.fixedCoordinate=e}isVisible(){return this._updateRendererDataIfNeeded(),this._axisRendererData.visible||this._paneRendererData.visible}isAxisLabelVisible(){return this._updateRendererDataIfNeeded(),this._axisRendererData.visible}renderer(e){return this._updateRendererDataIfNeeded(),this._axisRendererData.tickVisible=this._axisRendererData.tickVisible&&e.options().ticksVisible,this._paneRendererData.tickVisible=this._paneRendererData.tickVisible&&e.options().ticksVisible,this._axisRenderer.setData(this._axisRendererData,this._commonRendererData),this._paneRenderer.setData(this._paneRendererData,this._commonRendererData),this._axisRenderer}paneRenderer(){return this._updateRendererDataIfNeeded(),this._axisRenderer.setData(this._axisRendererData,this._commonRendererData),this._paneRenderer.setData(this._paneRendererData,this._commonRendererData),this._paneRenderer}_updateRendererDataIfNeeded(){this._invalidated&&(this._axisRendererData.tickVisible=!0,this._paneRendererData.tickVisible=!1,this._updateRendererData(this._axisRendererData,this._paneRendererData,this._commonRendererData))}}class ae extends se{constructor(e,t,i){super(),this._source=e,this._priceScale=t,this._valueProvider=i}_updateRendererData(e,t,i){if(e.visible=!1,2===this._source.options().mode)return;const s=this._source.options().horzLine;if(!s.labelVisible)return;const a=this._priceScale.firstValue();if(!this._source.visible()||this._priceScale.isEmpty()||null===a)return;const r=M(s.labelBackgroundColor);i.background=r.background,e.color=r.foreground;const n=2/12*this._priceScale.fontSize();i.additionalPaddingTop=n,i.additionalPaddingBottom=n;const o=this._valueProvider(this._priceScale);i.coordinate=o.coordinate,e.text=this._priceScale.formatPrice(o.price,a),e.visible=!0}}const re=/[1-9]/g;class ne{constructor(){this._data=null}setData(e){this._data=e}draw(e,t){if(null===this._data||!1===this._data.visible||0===this._data.text.length)return;const i=e.useMediaCoordinateSpace((({context:e})=>(e.font=t.font,Math.round(t.widthCache.measureText(e,_(this._data).text,re)))));if(i<=0)return;const s=t.paddingHorizontal,a=i+2*s,r=a/2,n=this._data.width;let o=this._data.coordinate,l=Math.floor(o-r)+.5;l<0?(o+=Math.abs(0-l),l=Math.floor(o-r)+.5):l+a>n&&(o-=Math.abs(n-(l+a)),l=Math.floor(o-r)+.5);const c=l+a,d=Math.ceil(0+t.borderSize+t.tickLength+t.paddingTop+t.fontSize+t.paddingBottom);e.useBitmapCoordinateSpace((({context:e,horizontalPixelRatio:i,verticalPixelRatio:s})=>{const a=_(this._data);e.fillStyle=a.background;const r=Math.round(l*i),n=Math.round(0*s),o=Math.round(c*i),h=Math.round(d*s),u=Math.round(2*i);if(e.beginPath(),e.moveTo(r,n),e.lineTo(r,h-u),e.arcTo(r,h,r+u,h,u),e.lineTo(o-u,h),e.arcTo(o,h,o,h-u,u),e.lineTo(o,n),e.fill(),a.tickVisible){const r=Math.round(a.coordinate*i),o=n,l=Math.round((o+t.tickLength)*s);e.fillStyle=a.color;const c=Math.max(1,Math.floor(i)),d=Math.floor(.5*i);e.fillRect(r-d,o,c,l-o)}})),e.useMediaCoordinateSpace((({context:e})=>{const i=_(this._data),a=0+t.borderSize+t.tickLength+t.paddingTop+t.fontSize/2;e.font=t.font,e.textAlign="left",e.textBaseline="middle",e.fillStyle=i.color;const r=t.widthCache.yMidCorrection(e,"Apr0");e.translate(l+s,a+r),e.fillText(i.text,0,0)}))}}class oe{constructor(e,t,i){this._invalidated=!0,this._renderer=new ne,this._rendererData={visible:!1,background:"#4c525e",color:"white",text:"",width:0,coordinate:NaN,tickVisible:!0},this._crosshair=e,this._model=t,this._valueProvider=i}update(){this._invalidated=!0}renderer(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._renderer.setData(this._rendererData),this._renderer}_updateImpl(){const e=this._rendererData;if(e.visible=!1,2===this._crosshair.options().mode)return;const t=this._crosshair.options().vertLine;if(!t.labelVisible)return;const i=this._model.timeScale();if(i.isEmpty())return;e.width=i.width();const s=this._valueProvider();if(null===s)return;e.coordinate=s.coordinate;const a=i.indexToTimeScalePoint(this._crosshair.appliedIndex());e.text=i.formatDateTime(_(a)),e.visible=!0;const r=M(t.labelBackgroundColor);e.background=r.background,e.color=r.foreground,e.tickVisible=i.options().ticksVisible}}class le{constructor(){this._priceScale=null,this._zorder=0}zorder(){return this._zorder}setZorder(e){this._zorder=e}priceScale(){return this._priceScale}setPriceScale(e){this._priceScale=e}labelPaneViews(e){return[]}timeAxisViews(){return[]}visible(){return!0}}var ce,de,he,ue;!function(e){e[e.Normal=0]="Normal",e[e.Magnet=1]="Magnet",e[e.Hidden=2]="Hidden"}(ce||(ce={}));class pe extends le{constructor(e,t){super(),this._pane=null,this._price=NaN,this._index=0,this._visible=!0,this._priceAxisViews=new Map,this._subscribed=!1,this._x=NaN,this._y=NaN,this._originX=NaN,this._originY=NaN,this._model=e,this._options=t,this._markersPaneView=new $(e,this),this._currentPosPriceProvider=((e,t)=>i=>{const s=t(),a=e();if(i===_(this._pane).defaultPriceScale())return{price:a,coordinate:s};{const e=_(i.firstValue());return{price:i.coordinateToPrice(s,e),coordinate:s}}})((()=>this._price),(()=>this._y));const i=((e,t)=>()=>{const i=this._model.timeScale().indexToTime(e()),s=t();return i&&Number.isFinite(s)?{time:i,coordinate:s}:null})((()=>this._index),(()=>this.appliedX()));this._timeAxisView=new oe(this,e,i),this._paneView=new K(this)}options(){return this._options}saveOriginCoord(e,t){this._originX=e,this._originY=t}clearOriginCoord(){this._originX=NaN,this._originY=NaN}originCoordX(){return this._originX}originCoordY(){return this._originY}setPosition(e,t,i){this._subscribed||(this._subscribed=!0),this._visible=!0,this._tryToUpdateViews(e,t,i)}appliedIndex(){return this._index}appliedX(){return this._x}appliedY(){return this._y}visible(){return this._visible}clearPosition(){this._visible=!1,this._setIndexToLastSeriesBarIndex(),this._price=NaN,this._x=NaN,this._y=NaN,this._pane=null,this.clearOriginCoord()}paneViews(e){return null!==this._pane?[this._paneView,this._markersPaneView]:[]}horzLineVisible(e){return e===this._pane&&this._options.horzLine.visible}vertLineVisible(){return this._options.vertLine.visible}priceAxisViews(e,t){this._visible&&this._pane===e||this._priceAxisViews.clear();const i=[];return this._pane===e&&i.push(this._createPriceAxisViewOnDemand(this._priceAxisViews,t,this._currentPosPriceProvider)),i}timeAxisViews(){return this._visible?[this._timeAxisView]:[]}pane(){return this._pane}updateAllViews(){this._paneView.update(),this._priceAxisViews.forEach((e=>e.update())),this._timeAxisView.update(),this._markersPaneView.update()}_priceScaleByPane(e){return e&&!e.defaultPriceScale().isEmpty()?e.defaultPriceScale():null}_tryToUpdateViews(e,t,i){this._tryToUpdateData(e,t,i)&&this.updateAllViews()}_tryToUpdateData(e,t,i){const s=this._x,a=this._y,r=this._price,n=this._index,o=this._pane,l=this._priceScaleByPane(i);this._index=e,this._x=isNaN(e)?NaN:this._model.timeScale().indexToCoordinate(e),this._pane=i;const c=null!==l?l.firstValue():null;return null!==l&&null!==c?(this._price=t,this._y=l.priceToCoordinate(t,c)):(this._price=NaN,this._y=NaN),s!==this._x||a!==this._y||n!==this._index||r!==this._price||o!==this._pane}_setIndexToLastSeriesBarIndex(){const e=this._model.serieses().map((e=>e.bars().lastIndex())).filter(B),t=0===e.length?null:Math.max(...e);this._index=null!==t?t:NaN}_createPriceAxisViewOnDemand(e,t,i){let s=e.get(t);return void 0===s&&(s=new ae(this,t,i),e.set(t,s)),s}}function me(e){return"left"===e||"right"===e}!function(e){e.Left="left",e.Right="right",e.NonPrimary="non-primary"}(de||(de={})),function(e){e[e.None=0]="None",e[e.Cursor=1]="Cursor",e[e.Light=2]="Light",e[e.Full=3]="Full"}(he||(he={})),function(e){e[e.FitContent=0]="FitContent",e[e.ApplyRange=1]="ApplyRange",e[e.ApplyBarSpacing=2]="ApplyBarSpacing",e[e.ApplyRightOffset=3]="ApplyRightOffset",e[e.Reset=4]="Reset",e[e.Animation=5]="Animation",e[e.StopAnimation=6]="StopAnimation"}(ue||(ue={}));class ge{constructor(e){this._invalidatedPanes=new Map,this._timeScaleInvalidations=[],this._globalLevel=e}invalidatePane(e,t){const i=function(e,t){return void 0===e?t:{level:Math.max(e.level,t.level),autoScale:e.autoScale||t.autoScale}}(this._invalidatedPanes.get(e),t);this._invalidatedPanes.set(e,i)}fullInvalidation(){return this._globalLevel}invalidateForPane(e){const t=this._invalidatedPanes.get(e);return void 0===t?{level:this._globalLevel}:{level:Math.max(this._globalLevel,t.level),autoScale:t.autoScale}}setFitContent(){this.stopTimeScaleAnimation(),this._timeScaleInvalidations=[{type:0}]}applyRange(e){this.stopTimeScaleAnimation(),this._timeScaleInvalidations=[{type:1,value:e}]}setTimeScaleAnimation(e){this._removeTimeScaleAnimation(),this._timeScaleInvalidations.push({type:5,value:e})}stopTimeScaleAnimation(){this._removeTimeScaleAnimation(),this._timeScaleInvalidations.push({type:6})}resetTimeScale(){this.stopTimeScaleAnimation(),this._timeScaleInvalidations=[{type:4}]}setBarSpacing(e){this.stopTimeScaleAnimation(),this._timeScaleInvalidations.push({type:2,value:e})}setRightOffset(e){this.stopTimeScaleAnimation(),this._timeScaleInvalidations.push({type:3,value:e})}timeScaleInvalidations(){return this._timeScaleInvalidations}merge(e){for(const t of e._timeScaleInvalidations)this._applyTimeScaleInvalidation(t);this._globalLevel=Math.max(this._globalLevel,e._globalLevel),e._invalidatedPanes.forEach(((e,t)=>{this.invalidatePane(t,e)}))}static light(){return new ge(2)}static full(){return new ge(3)}_applyTimeScaleInvalidation(e){switch(e.type){case 0:this.setFitContent();break;case 1:this.applyRange(e.value);break;case 2:this.setBarSpacing(e.value);break;case 3:this.setRightOffset(e.value);break;case 4:this.resetTimeScale();break;case 5:this.setTimeScaleAnimation(e.value);break;case 6:this._removeTimeScaleAnimation()}}_removeTimeScaleAnimation(){const e=this._timeScaleInvalidations.findIndex((e=>5===e.type));-1!==e&&this._timeScaleInvalidations.splice(e,1)}}const fe=".";function be(e,t){if(!E(e))return"n/a";if(!I(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return 0===t?e.toString():("0000000000000000"+e.toString()).slice(-t)}class _e{constructor(e,t){if(t||(t=1),E(e)&&I(e)||(e=100),e<0)throw new TypeError("invalid base");this._priceScale=e,this._minMove=t,this._calculateDecimal()}format(e){const t=e<0?"":"";return e=Math.abs(e),t+this._formatAsDecimal(e)}_calculateDecimal(){if(this._fractionalLength=0,this._priceScale>0&&this._minMove>0){let e=this._priceScale;for(;e>1;)e/=10,this._fractionalLength++}}_formatAsDecimal(e){const t=this._priceScale/this._minMove;let i=Math.floor(e),s="";const a=void 0!==this._fractionalLength?this._fractionalLength:NaN;if(t>1){let r=+(Math.round(e*t)-i*t).toFixed(this._fractionalLength);r>=t&&(r-=t,i+=1),s=fe+be(+r.toFixed(this._fractionalLength)*this._minMove,a)}else i=Math.round(i*t)/t,a>0&&(s=fe+be(0,a));return i.toFixed(0)+s}}class ve extends _e{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class ye{constructor(e){this._precision=e}format(e){let t="";return e<0&&(t="-",e=-e),e<995?t+this._formatNumber(e):e<999995?t+this._formatNumber(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this._formatNumber(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this._formatNumber(e/1e9)+"B")}_formatNumber(e){let t;const i=Math.pow(10,this._precision);return t=(e=Math.round(e*i)/i)>=1e-15&&e<1?e.toFixed(this._precision).replace(/\.?0+$/,""):String(e),t.replace(/(\.[1-9]*)0+$/,((e,t)=>t))}}function xe(e,t,i,s,a,r,n){if(0===t.length||s.from>=t.length||s.to<=0)return;const{context:o,horizontalPixelRatio:l,verticalPixelRatio:c}=e,d=t[s.from];let h=r(e,d),u=d;if(s.to-s.from<2){const t=a/2;o.beginPath();const i={x:d.x-t,y:d.y},s={x:d.x+t,y:d.y};o.moveTo(i.x*l,i.y*c),o.lineTo(s.x*l,s.y*c),n(e,h,i,s)}else{const a=(t,i)=>{n(e,h,u,i),o.beginPath(),h=t,u=i};let p=u;o.beginPath(),o.moveTo(d.x*l,d.y*c);for(let n=s.from+1;n<s.to;++n){p=t[n];const s=r(e,p);switch(i){case 0:o.lineTo(p.x*l,p.y*c);break;case 1:o.lineTo(p.x*l,t[n-1].y*c),s!==h&&(a(s,p),o.lineTo(p.x*l,t[n-1].y*c)),o.lineTo(p.x*l,p.y*c);break;case 2:{const[e,i]=Se(t,n-1,n);o.bezierCurveTo(e.x*l,e.y*c,i.x*l,i.y*c,p.x*l,p.y*c);break}}1!==i&&s!==h&&(a(s,p),o.moveTo(p.x*l,p.y*c))}(u!==p||u===p&&1===i)&&n(e,h,u,p)}}const we=6;function ke(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ce(e,t){return{x:e.x/t,y:e.y/t}}function Se(e,t,i){const s=Math.max(0,t-1),a=Math.min(e.length-1,i+1);var r,n;return[(r=e[t],n=Ce(ke(e[i],e[s]),we),{x:r.x+n.x,y:r.y+n.y}),ke(e[i],Ce(ke(e[a],e[t]),we))]}function Te(e,t,i,s,a){const{context:r,horizontalPixelRatio:n,verticalPixelRatio:o}=t;r.lineTo(a.x*n,e*o),r.lineTo(s.x*n,e*o),r.closePath(),r.fillStyle=i,r.fill()}class Ae extends U{constructor(){super(...arguments),this._data=null}setData(e){this._data=e}_drawImpl(e){var t;if(null===this._data)return;const{items:i,visibleRange:s,barWidth:a,lineWidth:r,lineStyle:n,lineType:o}=this._data,l=null!==(t=this._data.baseLevelCoordinate)&&void 0!==t?t:this._data.invertFilledArea?0:e.mediaSize.height;if(null===s)return;const c=e.context;c.lineCap="butt",c.lineJoin="round",c.lineWidth=r,m(c,n),c.lineWidth=1,xe(e,i,o,s,a,this._fillStyle.bind(this),Te.bind(null,l))}}function Me(e,t,i){return Math.min(Math.max(e,t),i)}function Le(e,t,i){return t-e<=i}function Re(e){const t=Math.ceil(e);return t%2==0?t-1:t}class Ee{get(e,t){const i=this._params,{topColor1:s,topColor2:a,bottomColor1:r,bottomColor2:n,bottom:o,baseLevelCoordinate:l}=t;if(void 0===this._cachedValue||void 0===i||i.topColor1!==s||i.topColor2!==a||i.bottomColor1!==r||i.bottomColor2!==n||i.baseLevelCoordinate!==l||i.bottom!==o){const i=e.context.createLinearGradient(0,0,0,o);if(i.addColorStop(0,s),null!=l){const t=Me(l*e.verticalPixelRatio/o,0,1);i.addColorStop(t,a),i.addColorStop(t,r)}i.addColorStop(1,n),this._cachedValue=i,this._params=t}return this._cachedValue}}class Ie extends Ae{constructor(){super(...arguments),this._fillCache=new Ee}_fillStyle(e,t){return this._fillCache.get(e,{topColor1:t.topColor,topColor2:"",bottomColor1:"",bottomColor2:t.bottomColor,bottom:e.bitmapSize.height})}}function Pe(e,t){const i=e.context;i.strokeStyle=t,i.stroke()}class Fe extends U{constructor(){super(...arguments),this._data=null}setData(e){this._data=e}_drawImpl(e){if(null===this._data)return;const{items:t,visibleRange:i,barWidth:s,lineType:a,lineWidth:r,lineStyle:n,pointMarkersRadius:o}=this._data;if(null===i)return;const l=e.context;l.lineCap="butt",l.lineWidth=r*e.verticalPixelRatio,m(l,n),l.lineJoin="round";const c=this._strokeStyle.bind(this);void 0!==a&&xe(e,t,a,i,s,c,Pe),o&&function(e,t,i,s,a){const{horizontalPixelRatio:r,verticalPixelRatio:n,context:o}=e;let l=null;const c=Math.max(1,Math.floor(r))%2/2,d=i*n+c;for(let h=s.to-1;h>=s.from;--h){const i=t[h];if(i){const t=a(e,i);t!==l&&(o.beginPath(),null!==l&&o.fill(),o.fillStyle=t,l=t);const s=Math.round(i.x*r)+c,h=i.y*n;o.moveTo(s,h),o.arc(s,h,d,0,2*Math.PI)}}o.fill()}(e,t,o,i,c)}}class De extends Fe{_strokeStyle(e,t){return t.lineColor}}function Be(e,t,i,s,a=0,r=t.length){let n=r-a;for(;0<n;){const r=n>>1,o=a+r;s(t[o],i)===e?(a=o+1,n-=r+1):n=r}return a}const ze=Be.bind(null,!0),Ve=Be.bind(null,!1);function Oe(e,t){return e.time<t}function We(e,t){return t<e.time}function qe(e,t,i){const s=t.left(),a=t.right(),r=ze(e,s,Oe),n=Ve(e,a,We);if(!i)return{from:r,to:n};let o=r,l=n;return r>0&&r<e.length&&e[r].time>=s&&(o=r-1),n>0&&n<e.length&&e[n-1].time<=a&&(l=n+1),{from:o,to:l}}class je{constructor(e,t,i){this._invalidated=!0,this._dataInvalidated=!0,this._optionsInvalidated=!0,this._items=[],this._itemsVisibleRange=null,this._series=e,this._model=t,this._extendedVisibleRange=i}update(e){this._invalidated=!0,"data"===e&&(this._dataInvalidated=!0),"options"===e&&(this._optionsInvalidated=!0)}renderer(){return this._series.visible()?(this._makeValid(),null===this._itemsVisibleRange?null:this._renderer):null}_updateOptions(){this._items=this._items.map((e=>Object.assign(Object.assign({},e),this._series.barColorer().barStyle(e.time))))}_clearVisibleRange(){this._itemsVisibleRange=null}_makeValid(){this._dataInvalidated&&(this._fillRawPoints(),this._dataInvalidated=!1),this._optionsInvalidated&&(this._updateOptions(),this._optionsInvalidated=!1),this._invalidated&&(this._makeValidImpl(),this._invalidated=!1)}_makeValidImpl(){const e=this._series.priceScale(),t=this._model.timeScale();if(this._clearVisibleRange(),t.isEmpty()||e.isEmpty())return;const i=t.visibleStrictRange();if(null===i)return;if(0===this._series.bars().size())return;const s=this._series.firstValue();null!==s&&(this._itemsVisibleRange=qe(this._items,i,this._extendedVisibleRange),this._convertToCoordinates(e,t,s.value),this._prepareRendererData())}}class Ue extends je{constructor(e,t){super(e,t,!0)}_convertToCoordinates(e,t,i){t.indexesToCoordinates(this._items,z(this._itemsVisibleRange)),e.pointsArrayToCoordinates(this._items,i,z(this._itemsVisibleRange))}_createRawItemBase(e,t){return{time:e,price:t,x:NaN,y:NaN}}_fillRawPoints(){const e=this._series.barColorer();this._items=this._series.bars().rows().map((t=>{const i=t.value[3];return this._createRawItem(t.index,i,e)}))}}class Ne extends Ue{constructor(e,t){super(e,t),this._renderer=new j,this._areaRenderer=new Ie,this._lineRenderer=new De,this._renderer.setRenderers([this._areaRenderer,this._lineRenderer])}_createRawItem(e,t,i){return Object.assign(Object.assign({},this._createRawItemBase(e,t)),i.barStyle(e))}_prepareRendererData(){const e=this._series.options();this._areaRenderer.setData({lineType:e.lineType,items:this._items,lineStyle:e.lineStyle,lineWidth:e.lineWidth,baseLevelCoordinate:null,invertFilledArea:e.invertFilledArea,visibleRange:this._itemsVisibleRange,barWidth:this._model.timeScale().barSpacing()}),this._lineRenderer.setData({lineType:e.lineVisible?e.lineType:void 0,items:this._items,lineStyle:e.lineStyle,lineWidth:e.lineWidth,visibleRange:this._itemsVisibleRange,barWidth:this._model.timeScale().barSpacing(),pointMarkersRadius:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}class He extends U{constructor(){super(...arguments),this._data=null,this._barWidth=0,this._barLineWidth=0}setData(e){this._data=e}_drawImpl({context:e,horizontalPixelRatio:t,verticalPixelRatio:i}){if(null===this._data||0===this._data.bars.length||null===this._data.visibleRange)return;this._barWidth=this._calcBarWidth(t),this._barWidth>=2&&Math.max(1,Math.floor(t))%2!=this._barWidth%2&&this._barWidth--,this._barLineWidth=this._data.thinBars?Math.min(this._barWidth,Math.floor(t)):this._barWidth;let s=null;const a=this._barLineWidth<=this._barWidth&&this._data.barSpacing>=Math.floor(1.5*t);for(let r=this._data.visibleRange.from;r<this._data.visibleRange.to;++r){const n=this._data.bars[r];s!==n.barColor&&(e.fillStyle=n.barColor,s=n.barColor);const o=Math.floor(.5*this._barLineWidth),l=Math.round(n.x*t),c=l-o,d=this._barLineWidth,h=c+d-1,u=Math.min(n.highY,n.lowY),p=Math.max(n.highY,n.lowY),m=Math.round(u*i)-o,g=Math.round(p*i)+o,f=Math.max(g-m,this._barLineWidth);e.fillRect(c,m,d,f);const b=Math.ceil(1.5*this._barWidth);if(a){if(this._data.openVisible){const t=l-b;let s=Math.max(m,Math.round(n.openY*i)-o),a=s+d-1;a>m+f-1&&(a=m+f-1,s=a-d+1),e.fillRect(t,s,c-t,a-s+1)}const t=l+b;let s=Math.max(m,Math.round(n.closeY*i)-o),a=s+d-1;a>m+f-1&&(a=m+f-1,s=a-d+1),e.fillRect(h+1,s,t-h,a-s+1)}}}_calcBarWidth(e){const t=Math.floor(e);return Math.max(t,Math.floor(function(e,t){return Math.floor(.3*e*t)}(_(this._data).barSpacing,e)))}}class Xe extends je{constructor(e,t){super(e,t,!1)}_convertToCoordinates(e,t,i){t.indexesToCoordinates(this._items,z(this._itemsVisibleRange)),e.barPricesToCoordinates(this._items,i,z(this._itemsVisibleRange))}_createDefaultItem(e,t,i){return{time:e,open:t.value[0],high:t.value[1],low:t.value[2],close:t.value[3],x:NaN,openY:NaN,highY:NaN,lowY:NaN,closeY:NaN}}_fillRawPoints(){const e=this._series.barColorer();this._items=this._series.bars().rows().map((t=>this._createRawItem(t.index,t,e)))}}class $e extends Xe{constructor(){super(...arguments),this._renderer=new He}_createRawItem(e,t,i){return Object.assign(Object.assign({},this._createDefaultItem(e,t,i)),i.barStyle(e))}_prepareRendererData(){const e=this._series.options();this._renderer.setData({bars:this._items,barSpacing:this._model.timeScale().barSpacing(),openVisible:e.openVisible,thinBars:e.thinBars,visibleRange:this._itemsVisibleRange})}}class Qe extends Ae{constructor(){super(...arguments),this._fillCache=new Ee}_fillStyle(e,t){const i=this._data;return this._fillCache.get(e,{topColor1:t.topFillColor1,topColor2:t.topFillColor2,bottomColor1:t.bottomFillColor1,bottomColor2:t.bottomFillColor2,bottom:e.bitmapSize.height,baseLevelCoordinate:i.baseLevelCoordinate})}}class Ke extends Fe{constructor(){super(...arguments),this._strokeCache=new Ee}_strokeStyle(e,t){const i=this._data;return this._strokeCache.get(e,{topColor1:t.topLineColor,topColor2:t.topLineColor,bottomColor1:t.bottomLineColor,bottomColor2:t.bottomLineColor,bottom:e.bitmapSize.height,baseLevelCoordinate:i.baseLevelCoordinate})}}class Ge extends Ue{constructor(e,t){super(e,t),this._renderer=new j,this._baselineAreaRenderer=new Qe,this._baselineLineRenderer=new Ke,this._renderer.setRenderers([this._baselineAreaRenderer,this._baselineLineRenderer])}_createRawItem(e,t,i){return Object.assign(Object.assign({},this._createRawItemBase(e,t)),i.barStyle(e))}_prepareRendererData(){const e=this._series.firstValue();if(null===e)return;const t=this._series.options(),i=this._series.priceScale().priceToCoordinate(t.baseValue.price,e.value),s=this._model.timeScale().barSpacing();this._baselineAreaRenderer.setData({items:this._items,lineWidth:t.lineWidth,lineStyle:t.lineStyle,lineType:t.lineType,baseLevelCoordinate:i,invertFilledArea:!1,visibleRange:this._itemsVisibleRange,barWidth:s}),this._baselineLineRenderer.setData({items:this._items,lineWidth:t.lineWidth,lineStyle:t.lineStyle,lineType:t.lineVisible?t.lineType:void 0,pointMarkersRadius:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,baseLevelCoordinate:i,visibleRange:this._itemsVisibleRange,barWidth:s})}}var Je;!function(e){e[e.BarBorderWidth=1]="BarBorderWidth"}(Je||(Je={}));class Ye extends U{constructor(){super(...arguments),this._data=null,this._barWidth=0}setData(e){this._data=e}_drawImpl(e){if(null===this._data||0===this._data.bars.length||null===this._data.visibleRange)return;const{horizontalPixelRatio:t}=e;this._barWidth=function(e,t){if(e>=2.5&&e<=4)return Math.floor(3*t);const i=1-.2*Math.atan(Math.max(4,e)-4)/(.5*Math.PI),s=Math.floor(e*i*t),a=Math.floor(e*t),r=Math.min(s,a);return Math.max(Math.floor(t),r)}(this._data.barSpacing,t),this._barWidth>=2&&Math.floor(t)%2!=this._barWidth%2&&this._barWidth--;const i=this._data.bars;this._data.wickVisible&&this._drawWicks(e,i,this._data.visibleRange),this._data.borderVisible&&this._drawBorder(e,i,this._data.visibleRange);const s=this._calculateBorderWidth(t);(!this._data.borderVisible||this._barWidth>2*s)&&this._drawCandles(e,i,this._data.visibleRange)}_drawWicks(e,t,i){if(null===this._data)return;const{context:s,horizontalPixelRatio:a,verticalPixelRatio:r}=e;let n="",o=Math.min(Math.floor(a),Math.floor(this._data.barSpacing*a));o=Math.max(Math.floor(a),Math.min(o,this._barWidth));const l=Math.floor(.5*o);let c=null;for(let d=i.from;d<i.to;d++){const e=t[d];e.barWickColor!==n&&(s.fillStyle=e.barWickColor,n=e.barWickColor);const i=Math.round(Math.min(e.openY,e.closeY)*r),h=Math.round(Math.max(e.openY,e.closeY)*r),u=Math.round(e.highY*r),p=Math.round(e.lowY*r);let m=Math.round(a*e.x)-l;const g=m+o-1;null!==c&&(m=Math.max(c+1,m),m=Math.min(m,g));const f=g-m+1;s.fillRect(m,u,f,i-u),s.fillRect(m,h+1,f,p-h),c=g}}_calculateBorderWidth(e){let t=Math.floor(1*e);this._barWidth<=2*t&&(t=Math.floor(.5*(this._barWidth-1)));const i=Math.max(Math.floor(e),t);return this._barWidth<=2*i?Math.max(Math.floor(e),Math.floor(1*e)):i}_drawBorder(e,t,i){if(null===this._data)return;const{context:s,horizontalPixelRatio:a,verticalPixelRatio:r}=e;let n="";const o=this._calculateBorderWidth(a);let l=null;for(let c=i.from;c<i.to;c++){const e=t[c];e.barBorderColor!==n&&(s.fillStyle=e.barBorderColor,n=e.barBorderColor);let i=Math.round(e.x*a)-Math.floor(.5*this._barWidth);const d=i+this._barWidth-1,h=Math.round(Math.min(e.openY,e.closeY)*r),u=Math.round(Math.max(e.openY,e.closeY)*r);if(null!==l&&(i=Math.max(l+1,i),i=Math.min(i,d)),this._data.barSpacing*a>2*o)G(s,i,h,d-i+1,u-h+1,o);else{const e=d-i+1;s.fillRect(i,h,e,u-h+1)}l=d}}_drawCandles(e,t,i){if(null===this._data)return;const{context:s,horizontalPixelRatio:a,verticalPixelRatio:r}=e;let n="";const o=this._calculateBorderWidth(a);for(let l=i.from;l<i.to;l++){const e=t[l];let i=Math.round(Math.min(e.openY,e.closeY)*r),c=Math.round(Math.max(e.openY,e.closeY)*r),d=Math.round(e.x*a)-Math.floor(.5*this._barWidth),h=d+this._barWidth-1;if(e.barColor!==n){const t=e.barColor;s.fillStyle=t,n=t}this._data.borderVisible&&(d+=o,i+=o,h-=o,c-=o),i>c||s.fillRect(d,i,h-d+1,c-i+1)}}}class Ze extends Xe{constructor(){super(...arguments),this._renderer=new Ye}_createRawItem(e,t,i){return Object.assign(Object.assign({},this._createDefaultItem(e,t,i)),i.barStyle(e))}_prepareRendererData(){const e=this._series.options();this._renderer.setData({bars:this._items,barSpacing:this._model.timeScale().barSpacing(),wickVisible:e.wickVisible,borderVisible:e.borderVisible,visibleRange:this._itemsVisibleRange})}}class et{constructor(e,t){this._sourceRenderer=e,this._priceScale=t}draw(e,t,i){this._sourceRenderer.draw(e,this._priceScale,t,i)}}class tt extends je{constructor(e,t,i){super(e,t,!1),this._paneView=i,this._renderer=new et(this._paneView.renderer(),(t=>{const i=e.firstValue();return null===i?null:e.priceScale().priceToCoordinate(t,i.value)}))}priceValueBuilder(e){return this._paneView.priceValueBuilder(e)}isWhitespace(e){return this._paneView.isWhitespace(e)}_fillRawPoints(){const e=this._series.barColorer();this._items=this._series.bars().rows().map((t=>Object.assign(Object.assign({time:t.index,x:NaN},e.barStyle(t.index)),{originalData:t.data})))}_convertToCoordinates(e,t){t.indexesToCoordinates(this._items,z(this._itemsVisibleRange))}_prepareRendererData(){this._paneView.update({bars:this._items.map(it),barSpacing:this._model.timeScale().barSpacing(),visibleRange:this._itemsVisibleRange},this._series.options())}}function it(e){return{x:e.x,time:e.time,originalData:e.originalData,barColor:e.barColor}}class st extends U{constructor(){super(...arguments),this._data=null,this._precalculatedCache=[]}setData(e){this._data=e,this._precalculatedCache=[]}_drawImpl({context:e,horizontalPixelRatio:t,verticalPixelRatio:i}){if(null===this._data||0===this._data.items.length||null===this._data.visibleRange)return;this._precalculatedCache.length||this._fillPrecalculatedCache(t);const s=Math.max(1,Math.floor(i)),a=Math.round(this._data.histogramBase*i)-Math.floor(s/2),r=a+s;for(let n=this._data.visibleRange.from;n<this._data.visibleRange.to;n++){const t=this._data.items[n],o=this._precalculatedCache[n-this._data.visibleRange.from],l=Math.round(t.y*i);let c,d;e.fillStyle=t.barColor,l<=a?(c=l,d=r):(c=a,d=l-Math.floor(s/2)+s),e.fillRect(o.left,c,o.right-o.left+1,d-c)}}_fillPrecalculatedCache(e){if(null===this._data||0===this._data.items.length||null===this._data.visibleRange)return void(this._precalculatedCache=[]);const t=Math.ceil(this._data.barSpacing*e)<=1?0:Math.max(1,Math.floor(e)),i=Math.round(this._data.barSpacing*e)-t;this._precalculatedCache=new Array(this._data.visibleRange.to-this._data.visibleRange.from);for(let a=this._data.visibleRange.from;a<this._data.visibleRange.to;a++){const t=this._data.items[a],s=Math.round(t.x*e);let r,n;if(i%2){const e=(i-1)/2;r=s-e,n=s+e}else{const e=i/2;r=s-e,n=s+e-1}this._precalculatedCache[a-this._data.visibleRange.from]={left:r,right:n,roundedCenter:s,center:t.x*e,time:t.time}}for(let a=this._data.visibleRange.from+1;a<this._data.visibleRange.to;a++){const e=this._precalculatedCache[a-this._data.visibleRange.from],i=this._precalculatedCache[a-this._data.visibleRange.from-1];e.time===i.time+1&&e.left-i.right!==t+1&&(i.roundedCenter>i.center?i.right=e.left-t-1:e.left=i.right+t+1)}let s=Math.ceil(this._data.barSpacing*e);for(let a=this._data.visibleRange.from;a<this._data.visibleRange.to;a++){const e=this._precalculatedCache[a-this._data.visibleRange.from];e.right<e.left&&(e.right=e.left);const t=e.right-e.left+1;s=Math.min(t,s)}if(t>0&&s<4)for(let a=this._data.visibleRange.from;a<this._data.visibleRange.to;a++){const e=this._precalculatedCache[a-this._data.visibleRange.from];e.right-e.left+1>s&&(e.roundedCenter>e.center?e.right-=1:e.left+=1)}}}class at extends Ue{constructor(){super(...arguments),this._renderer=new st}_createRawItem(e,t,i){return Object.assign(Object.assign({},this._createRawItemBase(e,t)),i.barStyle(e))}_prepareRendererData(){const e={items:this._items,barSpacing:this._model.timeScale().barSpacing(),visibleRange:this._itemsVisibleRange,histogramBase:this._series.priceScale().priceToCoordinate(this._series.options().base,_(this._series.firstValue()).value)};this._renderer.setData(e)}}class rt extends Ue{constructor(){super(...arguments),this._renderer=new De}_createRawItem(e,t,i){return Object.assign(Object.assign({},this._createRawItemBase(e,t)),i.barStyle(e))}_prepareRendererData(){const e=this._series.options(),t={items:this._items,lineStyle:e.lineStyle,lineType:e.lineVisible?e.lineType:void 0,lineWidth:e.lineWidth,pointMarkersRadius:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,visibleRange:this._itemsVisibleRange,barWidth:this._model.timeScale().barSpacing()};this._renderer.setData(t)}}const nt=/[2-9]/g;class ot{constructor(e=50){this._actualSize=0,this._usageTick=1,this._oldestTick=1,this._tick2Labels={},this._cache=new Map,this._maxSize=e}reset(){this._actualSize=0,this._cache.clear(),this._usageTick=1,this._oldestTick=1,this._tick2Labels={}}measureText(e,t,i){return this._getMetrics(e,t,i).width}yMidCorrection(e,t,i){const s=this._getMetrics(e,t,i);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}_getMetrics(e,t,i){const s=i||nt,a=String(t).replace(s,"0");if(this._cache.has(a))return b(this._cache.get(a)).metrics;if(this._actualSize===this._maxSize){const e=this._tick2Labels[this._oldestTick];delete this._tick2Labels[this._oldestTick],this._cache.delete(e),this._oldestTick++,this._actualSize--}e.save(),e.textBaseline="middle";const r=e.measureText(a);return e.restore(),0===r.width&&t.length||(this._cache.set(a,{metrics:r,tick:this._usageTick}),this._tick2Labels[this._usageTick]=a,this._actualSize++,this._usageTick++),r}}class lt{constructor(e){this._priceAxisViewRenderer=null,this._rendererOptions=null,this._align="right",this._textWidthCache=e}setParams(e,t,i){this._priceAxisViewRenderer=e,this._rendererOptions=t,this._align=i}draw(e){null!==this._rendererOptions&&null!==this._priceAxisViewRenderer&&this._priceAxisViewRenderer.draw(e,this._rendererOptions,this._textWidthCache,this._align)}}class ct{constructor(e,t,i){this._priceAxisView=e,this._textWidthCache=new ot(50),this._dataSource=t,this._chartModel=i,this._fontSize=-1,this._renderer=new lt(this._textWidthCache)}renderer(){const e=this._chartModel.paneForSource(this._dataSource);if(null===e)return null;const t=e.isOverlay(this._dataSource)?e.defaultVisiblePriceScale():this._dataSource.priceScale();if(null===t)return null;const i=e.priceScalePosition(t);if("overlay"===i)return null;const s=this._chartModel.priceAxisRendererOptions();return s.fontSize!==this._fontSize&&(this._fontSize=s.fontSize,this._textWidthCache.reset()),this._renderer.setParams(this._priceAxisView.paneRenderer(),s,i),this._renderer}}var dt,ht;!function(e){e[e.HitTestThreshold=7]="HitTestThreshold"}(dt||(dt={}));class ut extends U{constructor(){super(...arguments),this._data=null}setData(e){this._data=e}hitTest(e,t){var i;if(!(null===(i=this._data)||void 0===i?void 0:i.visible))return null;const{y:s,lineWidth:a,externalId:r}=this._data;return t>=s-a-7&&t<=s+a+7?{hitTestData:this._data,externalId:r}:null}_drawImpl({context:e,bitmapSize:t,horizontalPixelRatio:i,verticalPixelRatio:s}){if(null===this._data)return;if(!1===this._data.visible)return;const a=Math.round(this._data.y*s);a<0||a>t.height||(e.lineCap="butt",e.strokeStyle=this._data.color,e.lineWidth=Math.floor(this._data.lineWidth*i),m(e,this._data.lineStyle),g(e,a,0,t.width))}}class pt{constructor(e){this._lineRendererData={y:0,color:"rgba(0, 0, 0, 0)",lineWidth:1,lineStyle:0,visible:!1},this._lineRenderer=new ut,this._invalidated=!0,this._series=e,this._model=e.model(),this._lineRenderer.setData(this._lineRendererData)}update(){this._invalidated=!0}renderer(){return this._series.visible()?(this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._lineRenderer):null}}class mt extends pt{constructor(e){super(e)}_updateImpl(){this._lineRendererData.visible=!1;const e=this._series.priceScale(),t=e.mode().mode;if(2!==t&&3!==t)return;const i=this._series.options();if(!i.baseLineVisible||!this._series.visible())return;const s=this._series.firstValue();null!==s&&(this._lineRendererData.visible=!0,this._lineRendererData.y=e.priceToCoordinate(s.value,s.value),this._lineRendererData.color=i.baseLineColor,this._lineRendererData.lineWidth=i.baseLineWidth,this._lineRendererData.lineStyle=i.baseLineStyle)}}class gt extends U{constructor(){super(...arguments),this._data=null}setData(e){this._data=e}data(){return this._data}_drawImpl({context:e,horizontalPixelRatio:t,verticalPixelRatio:i}){const s=this._data;if(null===s)return;const a=Math.max(1,Math.floor(t)),r=a%2/2,n=Math.round(s.center.x*t)+r,o=s.center.y*i;e.fillStyle=s.seriesLineColor,e.beginPath();const l=Math.max(2,1.5*s.seriesLineWidth)*t;e.arc(n,o,l,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.fillColor,e.beginPath(),e.arc(n,o,s.radius*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=a,e.strokeStyle=s.strokeColor,e.beginPath(),e.arc(n,o,s.radius*t+a/2,0,2*Math.PI,!1),e.stroke()}}!function(e){e[e.AnimationPeriod=2600]="AnimationPeriod",e[e.Stage1Period=.25]="Stage1Period",e[e.Stage2Period=.275]="Stage2Period",e[e.Stage3Period=.475]="Stage3Period",e[e.Stage1StartCircleRadius=4]="Stage1StartCircleRadius",e[e.Stage1EndCircleRadius=10]="Stage1EndCircleRadius",e[e.Stage1StartFillAlpha=.25]="Stage1StartFillAlpha",e[e.Stage1EndFillAlpha=0]="Stage1EndFillAlpha",e[e.Stage1StartStrokeAlpha=.4]="Stage1StartStrokeAlpha",e[e.Stage1EndStrokeAlpha=.8]="Stage1EndStrokeAlpha",e[e.Stage2StartCircleRadius=10]="Stage2StartCircleRadius",e[e.Stage2EndCircleRadius=14]="Stage2EndCircleRadius",e[e.Stage2StartFillAlpha=0]="Stage2StartFillAlpha",e[e.Stage2EndFillAlpha=0]="Stage2EndFillAlpha",e[e.Stage2StartStrokeAlpha=.8]="Stage2StartStrokeAlpha",e[e.Stage2EndStrokeAlpha=0]="Stage2EndStrokeAlpha",e[e.Stage3StartCircleRadius=14]="Stage3StartCircleRadius",e[e.Stage3EndCircleRadius=14]="Stage3EndCircleRadius",e[e.Stage3StartFillAlpha=0]="Stage3StartFillAlpha",e[e.Stage3EndFillAlpha=0]="Stage3EndFillAlpha",e[e.Stage3StartStrokeAlpha=0]="Stage3StartStrokeAlpha",e[e.Stage3EndStrokeAlpha=0]="Stage3EndStrokeAlpha"}(ht||(ht={}));const ft=[{start:0,end:.25,startRadius:4,endRadius:10,startFillAlpha:.25,endFillAlpha:0,startStrokeAlpha:.4,endStrokeAlpha:.8},{start:.25,end:.525,startRadius:10,endRadius:14,startFillAlpha:0,endFillAlpha:0,startStrokeAlpha:.8,endStrokeAlpha:0},{start:.525,end:1,startRadius:14,endRadius:14,startFillAlpha:0,endFillAlpha:0,startStrokeAlpha:0,endStrokeAlpha:0}];function bt(e,t,i,s){return function(e,t){if("transparent"===e)return e;const i=A(e),s=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${t*s})`}(e,i+(s-i)*t)}function _t(e,t){const i=e%2600/2600;let s;for(const l of ft)if(i>=l.start&&i<=l.end){s=l;break}f(void 0!==s,"Last price animation internal logic error");const a=(i-s.start)/(s.end-s.start);return{fillColor:bt(t,a,s.startFillAlpha,s.endFillAlpha),strokeColor:bt(t,a,s.startStrokeAlpha,s.endStrokeAlpha),radius:(r=a,n=s.startRadius,o=s.endRadius,n+(o-n)*r)};var r,n,o}class vt{constructor(e){this._renderer=new gt,this._invalidated=!0,this._stageInvalidated=!0,this._startTime=performance.now(),this._endTime=this._startTime-1,this._series=e}onDataCleared(){this._endTime=this._startTime-1,this.update()}onNewRealtimeDataReceived(){if(this.update(),2===this._series.options().lastPriceAnimation){const e=performance.now(),t=this._endTime-e;if(t>0)return void(t<650&&(this._endTime+=2600));this._startTime=e,this._endTime=e+2600}}update(){this._invalidated=!0}invalidateStage(){this._stageInvalidated=!0}visible(){return 0!==this._series.options().lastPriceAnimation}animationActive(){switch(this._series.options().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this._endTime}}renderer(){return this._invalidated?(this._updateImpl(),this._invalidated=!1,this._stageInvalidated=!1):this._stageInvalidated&&(this._updateRendererDataStage(),this._stageInvalidated=!1),this._renderer}_updateImpl(){this._renderer.setData(null);const e=this._series.model().timeScale(),t=e.visibleStrictRange(),i=this._series.firstValue();if(null===t||null===i)return;const s=this._series.lastValueData(!0);if(s.noData||!t.contains(s.index))return;const a={x:e.indexToCoordinate(s.index),y:this._series.priceScale().priceToCoordinate(s.price,i.value)},r=s.color,n=this._series.options().lineWidth,o=_t(this._duration(),r);this._renderer.setData({seriesLineColor:r,seriesLineWidth:n,fillColor:o.fillColor,strokeColor:o.strokeColor,radius:o.radius,center:a})}_updateRendererDataStage(){const e=this._renderer.data();if(null!==e){const t=_t(this._duration(),e.seriesLineColor);e.fillColor=t.fillColor,e.strokeColor=t.strokeColor,e.radius=t.radius}}_duration(){return this.animationActive()?performance.now()-this._startTime:2599}}var yt,xt;function wt(e,t){return Re(Math.min(Math.max(e,12),30)*t)}function kt(e,t){switch(e){case"arrowDown":case"arrowUp":return wt(t,1);case"circle":return wt(t,.8);case"square":return wt(t,.7)}}function Ct(e){return function(e){const t=Math.ceil(e);return t%2!=0?t-1:t}(wt(e,1))}function St(e){return Math.max(wt(e,.1),3)}function Tt(e,t,i,s,a){const r=kt("square",i),n=(r-1)/2,o=e-n,l=t-n;return s>=o&&s<=o+r&&a>=l&&a<=l+r}function At(e,t,i,s){const a=(kt("arrowUp",s)-1)/2*i.pixelRatio,r=(Re(s/2)-1)/2*i.pixelRatio;t.beginPath(),e?(t.moveTo(i.x-a,i.y),t.lineTo(i.x,i.y-a),t.lineTo(i.x+a,i.y),t.lineTo(i.x+r,i.y),t.lineTo(i.x+r,i.y+a),t.lineTo(i.x-r,i.y+a),t.lineTo(i.x-r,i.y)):(t.moveTo(i.x-a,i.y),t.lineTo(i.x,i.y+a),t.lineTo(i.x+a,i.y),t.lineTo(i.x+r,i.y),t.lineTo(i.x+r,i.y-a),t.lineTo(i.x-r,i.y-a),t.lineTo(i.x-r,i.y)),t.fill()}function Mt(e,t,i,s,a,r){return Tt(t,i,s,a,r)}!function(e){e[e.MinShapeSize=12]="MinShapeSize",e[e.MaxShapeSize=30]="MaxShapeSize",e[e.MinShapeMargin=3]="MinShapeMargin"}(yt||(yt={}));class Lt extends U{constructor(){super(...arguments),this._data=null,this._textWidthCache=new ot,this._fontSize=-1,this._fontFamily="",this._font=""}setData(e){this._data=e}setParams(e,t){this._fontSize===e&&this._fontFamily===t||(this._fontSize=e,this._fontFamily=t,this._font=O(e,t),this._textWidthCache.reset())}hitTest(e,t){if(null===this._data||null===this._data.visibleRange)return null;for(let i=this._data.visibleRange.from;i<this._data.visibleRange.to;i++){const s=this._data.items[i];if(Et(s,e,t))return{hitTestData:s.internalId,externalId:s.externalId}}return null}_drawImpl({context:e,horizontalPixelRatio:t,verticalPixelRatio:i},s,a){if(null!==this._data&&null!==this._data.visibleRange){e.textBaseline="middle",e.font=this._font;for(let s=this._data.visibleRange.from;s<this._data.visibleRange.to;s++){const a=this._data.items[s];void 0!==a.text&&(a.text.width=this._textWidthCache.measureText(e,a.text.content),a.text.height=this._fontSize,a.text.x=a.x-a.text.width/2),Rt(a,e,t,i)}}}}function Rt(e,t,i,s){t.fillStyle=e.color,void 0!==e.text&&function(e,t,i,s,a,r){e.save(),e.scale(a,r),e.fillText(t,i,s),e.restore()}(t,e.text.content,e.text.x,e.text.y,i,s),function(e,t,i){if(0!==e.size){switch(e.shape){case"arrowDown":return void At(!1,t,i,e.size);case"arrowUp":return void At(!0,t,i,e.size);case"circle":return void function(e,t,i){const s=(kt("circle",i)-1)/2;e.beginPath(),e.arc(t.x,t.y,s*t.pixelRatio,0,2*Math.PI,!1),e.fill()}(t,i,e.size);case"square":return void function(e,t,i){const s=kt("square",i),a=(s-1)*t.pixelRatio/2,r=t.x-a,n=t.y-a;e.fillRect(r,n,s*t.pixelRatio,s*t.pixelRatio)}(t,i,e.size)}e.shape}}(e,t,function(e,t,i){const s=Math.max(1,Math.floor(t))%2/2;return{x:Math.round(e.x*t)+s,y:e.y*i,pixelRatio:t}}(e,i,s))}function Et(e,t,i){return!(void 0===e.text||!function(e,t,i,s,a,r){const n=s/2;return a>=e&&a<=e+i&&r>=t-n&&r<=t+n}(e.text.x,e.text.y,e.text.width,e.text.height,t,i))||function(e,t,i){if(0===e.size)return!1;switch(e.shape){case"arrowDown":case"arrowUp":return Mt(0,e.x,e.y,e.size,t,i);case"circle":return function(e,t,i,s,a){const r=2+kt("circle",i)/2,n=e-s,o=t-a;return Math.sqrt(n*n+o*o)<=r}(e.x,e.y,e.size,t,i);case"square":return Tt(e.x,e.y,e.size,t,i)}}(e,t,i)}function It(e,t,i,s,a,r,n,o,l){const c=E(i)?i:i.close,d=E(i)?i:i.high,h=E(i)?i:i.low,u=E(t.size)?Math.max(t.size,0):1,p=Ct(o.barSpacing())*u,m=p/2;switch(e.size=p,t.position){case"inBar":return e.y=n.priceToCoordinate(c,l),void(void 0!==e.text&&(e.text.y=e.y+m+r+.6*a));case"aboveBar":return e.y=n.priceToCoordinate(d,l)-m-s.aboveBar,void 0!==e.text&&(e.text.y=e.y-m-.6*a,s.aboveBar+=1.2*a),void(s.aboveBar+=p+r);case"belowBar":return e.y=n.priceToCoordinate(h,l)+m+s.belowBar,void 0!==e.text&&(e.text.y=e.y+m+r+.6*a,s.belowBar+=1.2*a),void(s.belowBar+=p+r)}t.position}!function(e){e[e.TextMargin=.1]="TextMargin"}(xt||(xt={}));class Pt{constructor(e,t){this._invalidated=!0,this._dataInvalidated=!0,this._autoScaleMarginsInvalidated=!0,this._autoScaleMargins=null,this._renderer=new Lt,this._series=e,this._model=t,this._data={items:[],visibleRange:null}}update(e){this._invalidated=!0,this._autoScaleMarginsInvalidated=!0,"data"===e&&(this._dataInvalidated=!0)}renderer(e,t){if(!this._series.visible())return null;this._invalidated&&this._makeValid();const i=this._model.options().layout;return this._renderer.setParams(i.fontSize,i.fontFamily),this._renderer.setData(this._data),this._renderer}autoScaleMargins(){if(this._autoScaleMarginsInvalidated){if(this._series.indexedMarkers().length>0){const e=this._model.timeScale().barSpacing(),t=St(e),i=1.5*Ct(e)+2*t;this._autoScaleMargins={above:i,below:i}}else this._autoScaleMargins=null;this._autoScaleMarginsInvalidated=!1}return this._autoScaleMargins}_makeValid(){const e=this._series.priceScale(),t=this._model.timeScale(),i=this._series.indexedMarkers();this._dataInvalidated&&(this._data.items=i.map((e=>({time:e.time,x:0,y:0,size:0,shape:e.shape,color:e.color,internalId:e.internalId,externalId:e.id,text:void 0}))),this._dataInvalidated=!1);const s=this._model.options().layout;this._data.visibleRange=null;const a=t.visibleStrictRange();if(null===a)return;const r=this._series.firstValue();if(null===r)return;if(0===this._data.items.length)return;let n=NaN;const o=St(t.barSpacing()),l={aboveBar:o,belowBar:o};this._data.visibleRange=qe(this._data.items,a,!0);for(let c=this._data.visibleRange.from;c<this._data.visibleRange.to;c++){const a=i[c];a.time!==n&&(l.aboveBar=o,l.belowBar=o,n=a.time);const d=this._data.items[c];d.x=t.indexToCoordinate(a.time),void 0!==a.text&&a.text.length>0&&(d.text={content:a.text,x:0,y:0,width:0,height:0});const h=this._series.dataAt(a.time);null!==h&&It(d,a,h,l,s.fontSize,o,e,t,r.value)}this._invalidated=!1}}class Ft extends pt{constructor(e){super(e)}_updateImpl(){const e=this._lineRendererData;e.visible=!1;const t=this._series.options();if(!t.priceLineVisible||!this._series.visible())return;const i=this._series.lastValueData(0===t.priceLineSource);i.noData||(e.visible=!0,e.y=i.coordinate,e.color=this._series.priceLineColor(i.color),e.lineWidth=t.priceLineWidth,e.lineStyle=t.priceLineStyle)}}class Dt extends se{constructor(e){super(),this._source=e}_updateRendererData(e,t,i){e.visible=!1,t.visible=!1;const s=this._source;if(!s.visible())return;const a=s.options(),r=a.lastValueVisible,n=""!==s.title(),o=0===a.seriesLastValueMode,l=s.lastValueData(!1);if(l.noData)return;r&&(e.text=this._axisText(l,r,o),e.visible=0!==e.text.length),(n||o)&&(t.text=this._paneText(l,r,n,o),t.visible=t.text.length>0);const c=s.priceLineColor(l.color),d=M(c);i.background=d.background,i.coordinate=l.coordinate,t.borderColor=s.model().backgroundColorAtYPercentFromTop(l.coordinate/s.priceScale().height()),e.borderColor=c,e.color=d.foreground,t.color=d.foreground}_paneText(e,t,i,s){let a="";const r=this._source.title();return i&&0!==r.length&&(a+=`${r} `),t&&s&&(a+=this._source.priceScale().isPercentage()?e.formattedPriceAbsolute:e.formattedPricePercentage),a.trim()}_axisText(e,t,i){return t?i?this._source.priceScale().isPercentage()?e.formattedPricePercentage:e.formattedPriceAbsolute:e.text:""}}function Bt(e,t,i,s){const a=Number.isFinite(t),r=Number.isFinite(i);return a&&r?e(t,i):a||r?a?t:i:s}class zt{constructor(e,t){this._minValue=e,this._maxValue=t}equals(e){return null!==e&&this._minValue===e._minValue&&this._maxValue===e._maxValue}clone(){return new zt(this._minValue,this._maxValue)}minValue(){return this._minValue}maxValue(){return this._maxValue}length(){return this._maxValue-this._minValue}isEmpty(){return this._maxValue===this._minValue||Number.isNaN(this._maxValue)||Number.isNaN(this._minValue)}merge(e){return null===e?this:new zt(Bt(Math.min,this.minValue(),e.minValue(),-1/0),Bt(Math.max,this.maxValue(),e.maxValue(),1/0))}scaleAroundCenter(e){if(!E(e))return;if(0===this._maxValue-this._minValue)return;const t=.5*(this._maxValue+this._minValue);let i=this._maxValue-t,s=this._minValue-t;i*=e,s*=e,this._maxValue=t+i,this._minValue=t+s}shift(e){E(e)&&(this._maxValue+=e,this._minValue+=e)}toRaw(){return{minValue:this._minValue,maxValue:this._maxValue}}static fromRaw(e){return null===e?null:new zt(e.minValue,e.maxValue)}}class Vt{constructor(e,t){this._priceRange=e,this._margins=t||null}priceRange(){return this._priceRange}margins(){return this._margins}toRaw(){return null===this._priceRange?null:{priceRange:this._priceRange.toRaw(),margins:this._margins||void 0}}static fromRaw(e){return null===e?null:new Vt(zt.fromRaw(e.priceRange),e.margins)}}class Ot extends pt{constructor(e,t){super(e),this._priceLine=t}_updateImpl(){const e=this._lineRendererData;e.visible=!1;const t=this._priceLine.options();if(!this._series.visible()||!t.lineVisible)return;const i=this._priceLine.yCoord();null!==i&&(e.visible=!0,e.y=i,e.color=t.color,e.lineWidth=t.lineWidth,e.lineStyle=t.lineStyle,e.externalId=this._priceLine.options().id)}}class Wt extends se{constructor(e,t){super(),this._series=e,this._priceLine=t}_updateRendererData(e,t,i){e.visible=!1,t.visible=!1;const s=this._priceLine.options(),a=s.axisLabelVisible,r=""!==s.title,n=this._series;if(!a||!n.visible())return;const o=this._priceLine.yCoord();if(null===o)return;r&&(t.text=s.title,t.visible=!0),t.borderColor=n.model().backgroundColorAtYPercentFromTop(o/n.priceScale().height()),e.text=this._formatPrice(s.price),e.visible=!0;const l=M(s.axisLabelColor||s.color);i.background=l.background;const c=s.axisLabelTextColor||l.foreground;e.color=c,t.color=c,i.coordinate=o}_formatPrice(e){const t=this._series.firstValue();return null===t?"":this._series.priceScale().formatPrice(e,t.value)}}class qt{constructor(e,t){this._series=e,this._options=t,this._priceLineView=new Ot(e,this),this._priceAxisView=new Wt(e,this),this._panePriceAxisView=new ct(this._priceAxisView,e,e.model())}applyOptions(e){R(this._options,e),this.update(),this._series.model().lightUpdate()}options(){return this._options}paneView(){return this._priceLineView}labelPaneView(){return this._panePriceAxisView}priceAxisView(){return this._priceAxisView}update(){this._priceLineView.update(),this._priceAxisView.update()}yCoord(){const e=this._series,t=e.priceScale();if(e.model().timeScale().isEmpty()||t.isEmpty())return null;const i=e.firstValue();return null===i?null:t.priceToCoordinate(this._options.price,i.value)}}class jt extends le{constructor(e){super(),this._model=e}model(){return this._model}}const Ut={Bar:(e,t,i,s)=>{var a;const r=t.upColor,n=t.downColor,o=_(e(i,s)),l=v(o.value[0])<=v(o.value[3]);return{barColor:null!==(a=o.color)&&void 0!==a?a:l?r:n}},Candlestick:(e,t,i,s)=>{var a,r,n;const o=t.upColor,l=t.downColor,c=t.borderUpColor,d=t.borderDownColor,h=t.wickUpColor,u=t.wickDownColor,p=_(e(i,s)),m=v(p.value[0])<=v(p.value[3]);return{barColor:null!==(a=p.color)&&void 0!==a?a:m?o:l,barBorderColor:null!==(r=p.borderColor)&&void 0!==r?r:m?c:d,barWickColor:null!==(n=p.wickColor)&&void 0!==n?n:m?h:u}},Custom:(e,t,i,s)=>{var a;return{barColor:null!==(a=_(e(i,s)).color)&&void 0!==a?a:t.color}},Area:(e,t,i,s)=>{var a,r,n,o;const l=_(e(i,s));return{barColor:null!==(a=l.lineColor)&&void 0!==a?a:t.lineColor,lineColor:null!==(r=l.lineColor)&&void 0!==r?r:t.lineColor,topColor:null!==(n=l.topColor)&&void 0!==n?n:t.topColor,bottomColor:null!==(o=l.bottomColor)&&void 0!==o?o:t.bottomColor}},Baseline:(e,t,i,s)=>{var a,r,n,o,l,c;const d=_(e(i,s));return{barColor:d.value[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,topLineColor:null!==(a=d.topLineColor)&&void 0!==a?a:t.topLineColor,bottomLineColor:null!==(r=d.bottomLineColor)&&void 0!==r?r:t.bottomLineColor,topFillColor1:null!==(n=d.topFillColor1)&&void 0!==n?n:t.topFillColor1,topFillColor2:null!==(o=d.topFillColor2)&&void 0!==o?o:t.topFillColor2,bottomFillColor1:null!==(l=d.bottomFillColor1)&&void 0!==l?l:t.bottomFillColor1,bottomFillColor2:null!==(c=d.bottomFillColor2)&&void 0!==c?c:t.bottomFillColor2}},Line:(e,t,i,s)=>{var a,r;const n=_(e(i,s));return{barColor:null!==(a=n.color)&&void 0!==a?a:t.color,lineColor:null!==(r=n.color)&&void 0!==r?r:t.color}},Histogram:(e,t,i,s)=>{var a;return{barColor:null!==(a=_(e(i,s)).color)&&void 0!==a?a:t.color}}};class Nt{constructor(e){this._findBar=(e,t)=>void 0!==t?t.value:this._series.bars().valueAt(e),this._series=e,this._styleGetter=Ut[e.seriesType()]}barStyle(e,t){return this._styleGetter(this._findBar,this._series.options(),e,t)}}var Ht;!function(e){e[e.NearestLeft=-1]="NearestLeft",e[e.None=0]="None",e[e.NearestRight=1]="NearestRight"}(Ht||(Ht={}));const Xt=30;class $t{constructor(){this._items=[],this._minMaxCache=new Map,this._rowSearchCache=new Map}last(){return this.size()>0?this._items[this._items.length-1]:null}firstIndex(){return this.size()>0?this._indexAt(0):null}lastIndex(){return this.size()>0?this._indexAt(this._items.length-1):null}size(){return this._items.length}isEmpty(){return 0===this.size()}contains(e){return null!==this._search(e,0)}valueAt(e){return this.search(e)}search(e,t=0){const i=this._search(e,t);return null===i?null:Object.assign(Object.assign({},this._valueAt(i)),{index:this._indexAt(i)})}rows(){return this._items}minMaxOnRangeCached(e,t,i){if(this.isEmpty())return null;let s=null;for(const a of i)s=Qt(s,this._minMaxOnRangeCachedImpl(e,t,a));return s}setData(e){this._rowSearchCache.clear(),this._minMaxCache.clear(),this._items=e}_indexAt(e){return this._items[e].index}_valueAt(e){return this._items[e]}_search(e,t){const i=this._bsearch(e);if(null===i&&0!==t)switch(t){case-1:return this._searchNearestLeft(e);case 1:return this._searchNearestRight(e);default:throw new TypeError("Unknown search mode")}return i}_searchNearestLeft(e){let t=this._lowerbound(e);return t>0&&(t-=1),t!==this._items.length&&this._indexAt(t)<e?t:null}_searchNearestRight(e){const t=this._upperbound(e);return t!==this._items.length&&e<this._indexAt(t)?t:null}_bsearch(e){const t=this._lowerbound(e);return t===this._items.length||e<this._items[t].index?null:t}_lowerbound(e){return ze(this._items,e,((e,t)=>e.index<t))}_upperbound(e){return Ve(this._items,e,((e,t)=>e.index>t))}_plotMinMax(e,t,i){let s=null;for(let a=e;a<t;a++){const e=this._items[a].value[i];Number.isNaN(e)||(null===s?s={min:e,max:e}:(e<s.min&&(s.min=e),e>s.max&&(s.max=e)))}return s}_minMaxOnRangeCachedImpl(e,t,i){if(this.isEmpty())return null;let s=null;const a=_(this.firstIndex()),r=_(this.lastIndex()),n=Math.max(e,a),o=Math.min(t,r),l=Math.ceil(n/Xt)*Xt,c=Math.max(l,Math.floor(o/Xt)*Xt);{const e=this._lowerbound(n),a=this._upperbound(Math.min(o,l,t));s=Qt(s,this._plotMinMax(e,a,i))}let d=this._minMaxCache.get(i);void 0===d&&(d=new Map,this._minMaxCache.set(i,d));for(let h=Math.max(l+1,n);h<c;h+=Xt){const e=Math.floor(h/Xt);let t=d.get(e);if(void 0===t){const s=this._lowerbound(e*Xt),a=this._upperbound((e+1)*Xt-1);t=this._plotMinMax(s,a,i),d.set(e,t)}s=Qt(s,t)}{const e=this._lowerbound(c),t=this._upperbound(o);s=Qt(s,this._plotMinMax(e,t,i))}return s}}function Qt(e,t){return null===e?t:null===t?e:{min:Math.min(e.min,t.min),max:Math.max(e.max,t.max)}}class Kt{constructor(e){this._baseRenderer=e}draw(e,t,i){this._baseRenderer.draw(e)}drawBackground(e,t,i){var s,a;null===(a=(s=this._baseRenderer).drawBackground)||void 0===a||a.call(s,e)}}class Gt{constructor(e){this._cache=null,this._paneView=e}renderer(){var e;const t=this._paneView.renderer();if(null===t)return null;if((null===(e=this._cache)||void 0===e?void 0:e.base)===t)return this._cache.wrapper;const i=new Kt(t);return this._cache={base:t,wrapper:i},i}zOrder(){var e,t,i;return null!==(i=null===(t=(e=this._paneView).zOrder)||void 0===t?void 0:t.call(e))&&void 0!==i?i:"normal"}}function Jt(e){var t,i,s,a,r;return{text:e.text(),coordinate:e.coordinate(),fixedCoordinate:null===(t=e.fixedCoordinate)||void 0===t?void 0:t.call(e),color:e.textColor(),background:e.backColor(),visible:null===(s=null===(i=e.visible)||void 0===i?void 0:i.call(e))||void 0===s||s,tickVisible:null===(r=null===(a=e.tickVisible)||void 0===a?void 0:a.call(e))||void 0===r||r}}class Yt{constructor(e,t){this._renderer=new ne,this._baseView=e,this._timeScale=t}renderer(){return this._renderer.setData(Object.assign({width:this._timeScale.width()},Jt(this._baseView))),this._renderer}}class Zt extends se{constructor(e,t){super(),this._baseView=e,this._priceScale=t}_updateRendererData(e,t,i){const s=Jt(this._baseView);i.background=s.background,e.color=s.color;const a=2/12*this._priceScale.fontSize();i.additionalPaddingTop=a,i.additionalPaddingBottom=a,i.coordinate=s.coordinate,i.fixedCoordinate=s.fixedCoordinate,e.text=s.text,e.visible=s.visible,e.tickVisible=s.tickVisible}}class ei{constructor(e,t){this._paneViewsCache=null,this._timeAxisViewsCache=null,this._priceAxisViewsCache=null,this._priceAxisPaneViewsCache=null,this._timeAxisPaneViewsCache=null,this._primitive=e,this._series=t}primitive(){return this._primitive}updateAllViews(){var e,t;null===(t=(e=this._primitive).updateAllViews)||void 0===t||t.call(e)}paneViews(){var e,t,i,s;const a=null!==(i=null===(t=(e=this._primitive).paneViews)||void 0===t?void 0:t.call(e))&&void 0!==i?i:[];if((null===(s=this._paneViewsCache)||void 0===s?void 0:s.base)===a)return this._paneViewsCache.wrapper;const r=a.map((e=>new Gt(e)));return this._paneViewsCache={base:a,wrapper:r},r}timeAxisViews(){var e,t,i,s;const a=null!==(i=null===(t=(e=this._primitive).timeAxisViews)||void 0===t?void 0:t.call(e))&&void 0!==i?i:[];if((null===(s=this._timeAxisViewsCache)||void 0===s?void 0:s.base)===a)return this._timeAxisViewsCache.wrapper;const r=this._series.model().timeScale(),n=a.map((e=>new Yt(e,r)));return this._timeAxisViewsCache={base:a,wrapper:n},n}priceAxisViews(){var e,t,i,s;const a=null!==(i=null===(t=(e=this._primitive).priceAxisViews)||void 0===t?void 0:t.call(e))&&void 0!==i?i:[];if((null===(s=this._priceAxisViewsCache)||void 0===s?void 0:s.base)===a)return this._priceAxisViewsCache.wrapper;const r=this._series.priceScale(),n=a.map((e=>new Zt(e,r)));return this._priceAxisViewsCache={base:a,wrapper:n},n}priceAxisPaneViews(){var e,t,i,s;const a=null!==(i=null===(t=(e=this._primitive).priceAxisPaneViews)||void 0===t?void 0:t.call(e))&&void 0!==i?i:[];if((null===(s=this._priceAxisPaneViewsCache)||void 0===s?void 0:s.base)===a)return this._priceAxisPaneViewsCache.wrapper;const r=a.map((e=>new Gt(e)));return this._priceAxisPaneViewsCache={base:a,wrapper:r},r}timeAxisPaneViews(){var e,t,i,s;const a=null!==(i=null===(t=(e=this._primitive).timeAxisPaneViews)||void 0===t?void 0:t.call(e))&&void 0!==i?i:[];if((null===(s=this._timeAxisPaneViewsCache)||void 0===s?void 0:s.base)===a)return this._timeAxisPaneViewsCache.wrapper;const r=a.map((e=>new Gt(e)));return this._timeAxisPaneViewsCache={base:a,wrapper:r},r}autoscaleInfo(e,t){var i,s,a;return null!==(a=null===(s=(i=this._primitive).autoscaleInfo)||void 0===s?void 0:s.call(i,e,t))&&void 0!==a?a:null}hitTest(e,t){var i,s,a;return null!==(a=null===(s=(i=this._primitive).hitTest)||void 0===s?void 0:s.call(i,e,t))&&void 0!==a?a:null}}function ti(e,t,i,s){e.forEach((e=>{t(e).forEach((e=>{e.zOrder()===i&&s.push(e)}))}))}function ii(e){return e.paneViews()}function si(e){return e.priceAxisPaneViews()}function ai(e){return e.timeAxisPaneViews()}class ri extends jt{constructor(e,t,i,s,a){super(e),this._data=new $t,this._priceLineView=new Ft(this),this._customPriceLines=[],this._baseHorizontalLineView=new mt(this),this._lastPriceAnimationPaneView=null,this._barColorerCache=null,this._markers=[],this._indexedMarkers=[],this._animationTimeoutId=null,this._primitives=[],this._options=t,this._seriesType=i;const r=new Dt(this);this._priceAxisViews=[r],this._panePriceAxisView=new ct(r,this,e),"Area"!==i&&"Line"!==i&&"Baseline"!==i||(this._lastPriceAnimationPaneView=new vt(this)),this._recreateFormatter(),this._recreatePaneViews(a)}destroy(){null!==this._animationTimeoutId&&clearTimeout(this._animationTimeoutId)}priceLineColor(e){return this._options.priceLineColor||e}lastValueData(e){const t={noData:!0},i=this.priceScale();if(this.model().timeScale().isEmpty()||i.isEmpty()||this._data.isEmpty())return t;const s=this.model().timeScale().visibleStrictRange(),a=this.firstValue();if(null===s||null===a)return t;let r,n;if(e){const e=this._data.last();if(null===e)return t;r=e,n=e.index}else{const e=this._data.search(s.right(),-1);if(null===e)return t;if(r=this._data.valueAt(e.index),null===r)return t;n=e.index}const o=r.value[3],l=this.barColorer().barStyle(n,{value:r}),c=i.priceToCoordinate(o,a.value);return{noData:!1,price:o,text:i.formatPrice(o,a.value),formattedPriceAbsolute:i.formatPriceAbsolute(o),formattedPricePercentage:i.formatPricePercentage(o,a.value),color:l.barColor,coordinate:c,index:n}}barColorer(){return null!==this._barColorerCache||(this._barColorerCache=new Nt(this)),this._barColorerCache}options(){return this._options}applyOptions(e){var t;const i=e.priceScaleId;void 0!==i&&i!==this._options.priceScaleId&&this.model().moveSeriesToScale(this,i);const s=null!==(t=this._options.pane)&&void 0!==t?t:0;R(this._options,e),void 0!==e.priceFormat&&(this._recreateFormatter(),this.model().fullUpdate()),e.pane&&s!==e.pane&&this.model().moveSeriesToPane(this,s,e.pane),this.model().updateSource(this),this.model().updateCrosshair(),this._paneView.update("options")}setData(e,t){this._data.setData(e),this._recalculateMarkers(),this._paneView.update("data"),this._markersPaneView.update("data"),null!==this._lastPriceAnimationPaneView&&(t&&t.lastBarUpdatedOrNewBarsAddedToTheRight?this._lastPriceAnimationPaneView.onNewRealtimeDataReceived():0===e.length&&this._lastPriceAnimationPaneView.onDataCleared());const i=this.model().paneForSource(this);this.model().recalculatePane(i),this.model().updateSource(this),this.model().updateCrosshair(),this.model().lightUpdate()}setMarkers(e){this._markers=e,this._recalculateMarkers();const t=this.model().paneForSource(this);this._markersPaneView.update("data"),this.model().recalculatePane(t),this.model().updateSource(this),this.model().updateCrosshair(),this.model().lightUpdate()}markers(){return this._markers}indexedMarkers(){return this._indexedMarkers}createPriceLine(e){const t=new qt(this,e);return this._customPriceLines.push(t),this.model().updateSource(this),t}removePriceLine(e){const t=this._customPriceLines.indexOf(e);-1!==t&&this._customPriceLines.splice(t,1),this.model().updateSource(this)}seriesType(){return this._seriesType}firstValue(){const e=this.firstBar();return null===e?null:{value:e.value[3],timePoint:e.time}}firstBar(){const e=this.model().timeScale().visibleStrictRange();if(null===e)return null;const t=e.left();return this._data.search(t,1)}bars(){return this._data}dataAt(e){const t=this._data.valueAt(e);return null===t?null:"Bar"===this._seriesType||"Candlestick"===this._seriesType||"Custom"===this._seriesType?{open:t.value[0],high:t.value[1],low:t.value[2],close:t.value[3]}:t.value[3]}topPaneViews(e){const t=[];ti(this._primitives,ii,"top",t);const i=this._lastPriceAnimationPaneView;return null!==i&&i.visible()?(null===this._animationTimeoutId&&i.animationActive()&&(this._animationTimeoutId=setTimeout((()=>{this._animationTimeoutId=null,this.model().cursorUpdate()}),0)),i.invalidateStage(),t.push(i),t):t}paneViews(){const e=[];this._isOverlay()||e.push(this._baseHorizontalLineView),e.push(this._paneView,this._priceLineView,this._markersPaneView);const t=this._customPriceLines.map((e=>e.paneView()));return e.push(...t),ti(this._primitives,ii,"normal",e),e}bottomPaneViews(){return this._extractPaneViews(ii,"bottom")}pricePaneViews(e){return this._extractPaneViews(si,e)}timePaneViews(e){return this._extractPaneViews(ai,e)}primitiveHitTest(e,t){return this._primitives.map((i=>i.hitTest(e,t))).filter((e=>null!==e))}labelPaneViews(e){return[this._panePriceAxisView,...this._customPriceLines.map((e=>e.labelPaneView()))]}priceAxisViews(e,t){if(t!==this._priceScale&&!this._isOverlay())return[];const i=[...this._priceAxisViews];for(const s of this._customPriceLines)i.push(s.priceAxisView());return this._primitives.forEach((e=>{i.push(...e.priceAxisViews())})),i}timeAxisViews(){const e=[];return this._primitives.forEach((t=>{e.push(...t.timeAxisViews())})),e}autoscaleInfo(e,t){if(void 0!==this._options.autoscaleInfoProvider){const i=this._options.autoscaleInfoProvider((()=>{const i=this._autoscaleInfoImpl(e,t);return null===i?null:i.toRaw()}));return Vt.fromRaw(i)}return this._autoscaleInfoImpl(e,t)}minMove(){return this._options.priceFormat.minMove}formatter(){return this._formatter}updateAllViews(){var e;this._paneView.update(),this._markersPaneView.update();for(const t of this._priceAxisViews)t.update();for(const t of this._customPriceLines)t.update();this._priceLineView.update(),this._baseHorizontalLineView.update(),null===(e=this._lastPriceAnimationPaneView)||void 0===e||e.update(),this._primitives.forEach((e=>e.updateAllViews()))}priceScale(){return _(super.priceScale())}markerDataAtIndex(e){if("Line"!==this._seriesType&&"Area"!==this._seriesType&&"Baseline"!==this._seriesType||!this._options.crosshairMarkerVisible)return null;const t=this._data.valueAt(e);return null===t?null:{price:t.value[3],radius:this._markerRadius(),borderColor:this._markerBorderColor(),borderWidth:this._markerBorderWidth(),backgroundColor:this._markerBackgroundColor(e)}}title(){return this._options.title}visible(){return this._options.visible}attachPrimitive(e){this._primitives.push(new ei(e,this))}detachPrimitive(e){this._primitives=this._primitives.filter((t=>t.primitive()!==e))}customSeriesPlotValuesBuilder(){if(this._paneView instanceof tt!=0)return e=>this._paneView.priceValueBuilder(e)}customSeriesWhitespaceCheck(){if(this._paneView instanceof tt!=0)return e=>this._paneView.isWhitespace(e)}_isOverlay(){return!me(this.priceScale().id())}_autoscaleInfoImpl(e,t){if(!I(e)||!I(t)||this._data.isEmpty())return null;const i="Line"===this._seriesType||"Area"===this._seriesType||"Baseline"===this._seriesType||"Histogram"===this._seriesType?[3]:[2,1],s=this._data.minMaxOnRangeCached(e,t,i);let a=null!==s?new zt(s.min,s.max):null;if("Histogram"===this.seriesType()){const e=this._options.base,t=new zt(e,e);a=null!==a?a.merge(t):t}let r=this._markersPaneView.autoScaleMargins();return this._primitives.forEach((i=>{const s=i.autoscaleInfo(e,t);if(null==s?void 0:s.priceRange){const e=new zt(s.priceRange.minValue,s.priceRange.maxValue);a=null!==a?a.merge(e):e}var n,o,l,c;(null==s?void 0:s.margins)&&(n=r,o=s.margins,r={above:Math.max(null!==(l=null==n?void 0:n.above)&&void 0!==l?l:0,o.above),below:Math.max(null!==(c=null==n?void 0:n.below)&&void 0!==c?c:0,o.below)})})),new Vt(a,r)}_markerRadius(){switch(this._seriesType){case"Line":case"Area":case"Baseline":return this._options.crosshairMarkerRadius}return 0}_markerBorderColor(){switch(this._seriesType){case"Line":case"Area":case"Baseline":{const e=this._options.crosshairMarkerBorderColor;if(0!==e.length)return e}}return null}_markerBorderWidth(){switch(this._seriesType){case"Line":case"Area":case"Baseline":return this._options.crosshairMarkerBorderWidth}return 0}_markerBackgroundColor(e){switch(this._seriesType){case"Line":case"Area":case"Baseline":{const e=this._options.crosshairMarkerBackgroundColor;if(0!==e.length)return e}}return this.barColorer().barStyle(e).barColor}_recreateFormatter(){switch(this._options.priceFormat.type){case"custom":this._formatter={format:this._options.priceFormat.formatter};break;case"volume":this._formatter=new ye(this._options.priceFormat.precision);break;case"percent":this._formatter=new ve(this._options.priceFormat.precision);break;default:{const e=Math.pow(10,this._options.priceFormat.precision);this._formatter=new _e(e,this._options.priceFormat.minMove*e)}}null!==this._priceScale&&this._priceScale.updateFormatter()}_recalculateMarkers(){const e=this.model().timeScale();if(!e.hasPoints()||this._data.isEmpty())return void(this._indexedMarkers=[]);const t=_(this._data.firstIndex());this._indexedMarkers=this._markers.map(((i,s)=>{const a=_(e.timeToIndex(i.time,!0)),r=a<t?1:-1;return{time:_(this._data.search(a,r)).index,position:i.position,shape:i.shape,color:i.color,id:i.id,internalId:s,text:i.text,size:i.size,originalTime:i.originalTime}}))}_recreatePaneViews(e){switch(this._markersPaneView=new Pt(this,this.model()),this._seriesType){case"Bar":this._paneView=new $e(this,this.model());break;case"Candlestick":this._paneView=new Ze(this,this.model());break;case"Line":this._paneView=new rt(this,this.model());break;case"Custom":this._paneView=new tt(this,this.model(),b(e));break;case"Area":this._paneView=new Ne(this,this.model());break;case"Baseline":this._paneView=new Ge(this,this.model());break;case"Histogram":this._paneView=new at(this,this.model());break;default:throw Error("Unknown chart style assigned: "+this._seriesType)}}_extractPaneViews(e,t){const i=[];return ti(this._primitives,e,t,i),i}}class ni{constructor(e){this._options=e}align(e,t,i){let s=e;if(0===this._options.mode)return s;const a=i.defaultPriceScale(),r=a.firstValue();if(null===r)return s;const n=a.priceToCoordinate(e,r),o=i.dataSources().filter((e=>e instanceof ri)).reduce(((e,s)=>{if(i.isOverlay(s)||!s.visible())return e;const a=s.priceScale(),r=s.bars();if(a.isEmpty()||!r.contains(t))return e;const n=r.valueAt(t);if(null===n)return e;const o=v(s.firstValue());return e.concat([a.priceToCoordinate(n.value[3],o.value)])}),[]);if(0===o.length)return s;o.sort(((e,t)=>Math.abs(e-n)-Math.abs(t-n)));const l=o[0];return s=a.coordinateToPrice(l,r),s}}class oi extends U{constructor(){super(...arguments),this._data=null}setData(e){this._data=e}_drawImpl({context:e,bitmapSize:t,horizontalPixelRatio:i,verticalPixelRatio:s}){if(null===this._data)return;const a=Math.max(1,Math.floor(i));e.lineWidth=a,function(e,t){e.save(),e.lineWidth%2&&e.translate(.5,.5),t(),e.restore()}(e,(()=>{const r=_(this._data);if(r.vertLinesVisible){e.strokeStyle=r.vertLinesColor,m(e,r.vertLineStyle),e.beginPath();for(const s of r.timeMarks){const r=Math.round(s.coord*i);e.moveTo(r,-a),e.lineTo(r,t.height+a)}e.stroke()}if(r.horzLinesVisible){e.strokeStyle=r.horzLinesColor,m(e,r.horzLineStyle),e.beginPath();for(const i of r.priceMarks){const r=Math.round(i.coord*s);e.moveTo(-a,r),e.lineTo(t.width+a,r)}e.stroke()}}))}}class li{constructor(e){this._renderer=new oi,this._invalidated=!0,this._pane=e}update(){this._invalidated=!0}renderer(){if(this._invalidated){const e=this._pane.model().options().grid,t={horzLinesVisible:e.horzLines.visible,vertLinesVisible:e.vertLines.visible,horzLinesColor:e.horzLines.color,vertLinesColor:e.vertLines.color,horzLineStyle:e.horzLines.style,vertLineStyle:e.vertLines.style,priceMarks:this._pane.defaultPriceScale().marks(),timeMarks:(this._pane.model().timeScale().marks()||[]).map((e=>({coord:e.coord})))};this._renderer.setData(t),this._invalidated=!1}return this._renderer}}class ci{constructor(e){this._paneView=new li(e)}paneView(){return this._paneView}}const di={logicalOffset:4,coordOffset:1e-4};function hi(e,t){const i=100*(e-t)/t;return t<0?-i:i}function ui(e,t){const i=hi(e.minValue(),t),s=hi(e.maxValue(),t);return new zt(i,s)}function pi(e,t){const i=100*(e-t)/t+100;return t<0?-i:i}function mi(e,t){const i=pi(e.minValue(),t),s=pi(e.maxValue(),t);return new zt(i,s)}function gi(e,t){const i=Math.abs(e);if(i<1e-15)return 0;const s=Math.log10(i+t.coordOffset)+t.logicalOffset;return e<0?-s:s}function fi(e,t){const i=Math.abs(e);if(i<1e-15)return 0;const s=Math.pow(10,i-t.logicalOffset)-t.coordOffset;return e<0?-s:s}function bi(e,t){if(null===e)return null;const i=gi(e.minValue(),t),s=gi(e.maxValue(),t);return new zt(i,s)}function _i(e,t){if(null===e)return null;const i=fi(e.minValue(),t),s=fi(e.maxValue(),t);return new zt(i,s)}function vi(e){if(null===e)return di;const t=Math.abs(e.maxValue()-e.minValue());if(t>=1||t<1e-15)return di;const i=Math.ceil(Math.abs(Math.log10(t))),s=di.logicalOffset+i;return{logicalOffset:s,coordOffset:1/Math.pow(10,s)}}var yi,xi;!function(e){e[e.TickSpanEpsilon=1e-14]="TickSpanEpsilon"}(yi||(yi={}));class wi{constructor(e,t){if(this._base=e,this._integralDividers=t,function(e){if(e<0)return!1;for(let t=e;t>1;t/=10)if(t%10!=0)return!1;return!0}(this._base))this._fractionalDividers=[2,2.5,2];else{this._fractionalDividers=[];for(let e=this._base;1!==e;){if(e%2==0)this._fractionalDividers.push(2),e/=2;else{if(e%5!=0)throw new Error("unexpected base");this._fractionalDividers.push(2,2.5),e/=5}if(this._fractionalDividers.length>100)throw new Error("something wrong with base")}}}tickSpan(e,t,i){const s=0===this._base?0:1/this._base;let a=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-t)))),r=0,n=this._integralDividers[0];for(;;){const e=Le(a,s,1e-14)&&a>s+1e-14,t=Le(a,i*n,1e-14),o=Le(a,1,1e-14);if(!(e&&t&&o))break;a/=n,n=this._integralDividers[++r%this._integralDividers.length]}if(a<=s+1e-14&&(a=s),a=Math.max(1,a),this._fractionalDividers.length>0&&(o=a,l=1,c=1e-14,Math.abs(o-l)<c))for(r=0,n=this._fractionalDividers[0];Le(a,i*n,1e-14)&&a>s+1e-14;)a/=n,n=this._fractionalDividers[++r%this._fractionalDividers.length];var o,l,c;return a}}class ki{constructor(e,t,i,s){this._marks=[],this._priceScale=e,this._base=t,this._coordinateToLogicalFunc=i,this._logicalToCoordinateFunc=s}tickSpan(e,t){if(e<t)throw new Error("high < low");const i=this._priceScale.height(),s=(e-t)*this._tickMarkHeight()/i,a=new wi(this._base,[2,2.5,2]),r=new wi(this._base,[2,2,2.5]),n=new wi(this._base,[2.5,2,2]),o=[];return o.push(a.tickSpan(e,t,s),r.tickSpan(e,t,s),n.tickSpan(e,t,s)),function(e){if(e.length<1)throw Error("array is empty");let t=e[0];for(let i=1;i<e.length;++i)e[i]<t&&(t=e[i]);return t}(o)}rebuildTickMarks(){const e=this._priceScale,t=e.firstValue();if(null===t)return void(this._marks=[]);const i=e.height(),s=this._coordinateToLogicalFunc(i-1,t),a=this._coordinateToLogicalFunc(0,t),r=this._priceScale.options().entireTextOnly?this._fontHeight()/2:0,n=r,o=i-1-r,l=Math.max(s,a),c=Math.min(s,a);if(l===c)return void(this._marks=[]);let d=this.tickSpan(l,c),h=l%d;h+=h<0?d:0;const u=l>=c?1:-1;let p=null,m=0;for(let g=l-h;g>c;g-=d){const i=this._logicalToCoordinateFunc(g,t,!0);null!==p&&Math.abs(i-p)<this._tickMarkHeight()||i<n||i>o||(m<this._marks.length?(this._marks[m].coord=i,this._marks[m].label=e.formatLogical(g)):this._marks.push({coord:i,label:e.formatLogical(g)}),m++,p=i,e.isLog()&&(d=this.tickSpan(g*u,c)))}this._marks.length=m}marks(){return this._marks}_fontHeight(){return this._priceScale.fontSize()}_tickMarkHeight(){return Math.ceil(2.5*this._fontHeight())}}function Ci(e){return e.slice().sort(((e,t)=>_(e.zorder())-_(t.zorder())))}!function(e){e[e.Normal=0]="Normal",e[e.Logarithmic=1]="Logarithmic",e[e.Percentage=2]="Percentage",e[e.IndexedTo100=3]="IndexedTo100"}(xi||(xi={}));const Si=new ve,Ti=new _e(100,1);class Ai{constructor(e,t,i,s){this._height=0,this._internalHeightCache=null,this._priceRange=null,this._priceRangeSnapshot=null,this._invalidatedForRange={isValid:!1,visibleBars:null},this._marginAbove=0,this._marginBelow=0,this._onMarksChanged=new L,this._modeChanged=new L,this._dataSources=[],this._cachedOrderedSources=null,this._marksCache=null,this._scaleStartPoint=null,this._scrollStartPoint=null,this._formatter=Ti,this._logFormula=vi(null),this._id=e,this._options=t,this._layoutOptions=i,this._localizationOptions=s,this._markBuilder=new ki(this,100,this._coordinateToLogical.bind(this),this._logicalToCoordinate.bind(this))}id(){return this._id}options(){return this._options}applyOptions(e){if(R(this._options,e),this.updateFormatter(),void 0!==e.mode&&this.setMode({mode:e.mode}),void 0!==e.scaleMargins){const t=b(e.scaleMargins.top),i=b(e.scaleMargins.bottom);if(t<0||t>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(i<0||i>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(t+i>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${t+i}`);this._invalidateInternalHeightCache(),this._marksCache=null}}isAutoScale(){return this._options.autoScale}isLog(){return 1===this._options.mode}isPercentage(){return 2===this._options.mode}isIndexedTo100(){return 3===this._options.mode}mode(){return{autoScale:this._options.autoScale,isInverted:this._options.invertScale,mode:this._options.mode}}setMode(e){const t=this.mode();let i=null;void 0!==e.autoScale&&(this._options.autoScale=e.autoScale),void 0!==e.mode&&(this._options.mode=e.mode,2!==e.mode&&3!==e.mode||(this._options.autoScale=!0),this._invalidatedForRange.isValid=!1),1===t.mode&&e.mode!==t.mode&&(function(e,t){if(null===e)return!1;const i=fi(e.minValue(),t),s=fi(e.maxValue(),t);return isFinite(i)&&isFinite(s)}(this._priceRange,this._logFormula)?(i=_i(this._priceRange,this._logFormula),null!==i&&this.setPriceRange(i)):this._options.autoScale=!0),1===e.mode&&e.mode!==t.mode&&(i=bi(this._priceRange,this._logFormula),null!==i&&this.setPriceRange(i));const s=t.mode!==this._options.mode;s&&(2===t.mode||this.isPercentage())&&this.updateFormatter(),s&&(3===t.mode||this.isIndexedTo100())&&this.updateFormatter(),void 0!==e.isInverted&&t.isInverted!==e.isInverted&&(this._options.invertScale=e.isInverted,this._onIsInvertedChanged()),this._modeChanged.fire(t,this.mode())}modeChanged(){return this._modeChanged}fontSize(){return this._layoutOptions.fontSize}height(){return this._height}setHeight(e){this._height!==e&&(this._height=e,this._invalidateInternalHeightCache(),this._marksCache=null)}internalHeight(){if(this._internalHeightCache)return this._internalHeightCache;const e=this.height()-this._topMarginPx()-this._bottomMarginPx();return this._internalHeightCache=e,e}priceRange(){return this._makeSureItIsValid(),this._priceRange}setPriceRange(e,t){const i=this._priceRange;(t||null===i&&null!==e||null!==i&&!i.equals(e))&&(this._marksCache=null,this._priceRange=e)}isEmpty(){return this._makeSureItIsValid(),0===this._height||!this._priceRange||this._priceRange.isEmpty()}invertedCoordinate(e){return this.isInverted()?e:this.height()-1-e}priceToCoordinate(e,t){return this.isPercentage()?e=hi(e,t):this.isIndexedTo100()&&(e=pi(e,t)),this._logicalToCoordinate(e,t)}pointsArrayToCoordinates(e,t,i){this._makeSureItIsValid();const s=this._bottomMarginPx(),a=_(this.priceRange()),r=a.minValue(),n=a.maxValue(),o=this.internalHeight()-1,l=this.isInverted(),c=o/(n-r),d=void 0===i?0:i.from,h=void 0===i?e.length:i.to,u=this._getCoordinateTransformer();for(let p=d;p<h;p++){const i=e[p],a=i.price;if(isNaN(a))continue;let n=a;null!==u&&(n=u(i.price,t));const o=s+c*(n-r),d=l?o:this._height-1-o;i.y=d}}barPricesToCoordinates(e,t,i){this._makeSureItIsValid();const s=this._bottomMarginPx(),a=_(this.priceRange()),r=a.minValue(),n=a.maxValue(),o=this.internalHeight()-1,l=this.isInverted(),c=o/(n-r),d=void 0===i?0:i.from,h=void 0===i?e.length:i.to,u=this._getCoordinateTransformer();for(let p=d;p<h;p++){const i=e[p];let a=i.open,n=i.high,o=i.low,d=i.close;null!==u&&(a=u(i.open,t),n=u(i.high,t),o=u(i.low,t),d=u(i.close,t));let h=s+c*(a-r),m=l?h:this._height-1-h;i.openY=m,h=s+c*(n-r),m=l?h:this._height-1-h,i.highY=m,h=s+c*(o-r),m=l?h:this._height-1-h,i.lowY=m,h=s+c*(d-r),m=l?h:this._height-1-h,i.closeY=m}}coordinateToPrice(e,t){const i=this._coordinateToLogical(e,t);return this.logicalToPrice(i,t)}logicalToPrice(e,t){let i=e;return this.isPercentage()?i=function(e,t){return t<0&&(e=-e),e/100*t+t}(i,t):this.isIndexedTo100()&&(i=function(e,t){return e-=100,t<0&&(e=-e),e/100*t+t}(i,t)),i}dataSources(){return this._dataSources}orderedSources(){if(this._cachedOrderedSources)return this._cachedOrderedSources;let e=[];for(let t=0;t<this._dataSources.length;t++){const i=this._dataSources[t];null===i.zorder()&&i.setZorder(t+1),e.push(i)}return e=Ci(e),this._cachedOrderedSources=e,this._cachedOrderedSources}addDataSource(e){-1===this._dataSources.indexOf(e)&&(this._dataSources.push(e),this.updateFormatter(),this.invalidateSourcesCache())}removeDataSource(e){const t=this._dataSources.indexOf(e);if(-1===t)throw new Error("source is not attached to scale");this._dataSources.splice(t,1),0===this._dataSources.length&&(this.setMode({autoScale:!0}),this.setPriceRange(null)),this.updateFormatter(),this.invalidateSourcesCache()}firstValue(){let e=null;for(const t of this._dataSources){const i=t.firstValue();null!==i&&(null===e||i.timePoint<e.timePoint)&&(e=i)}return null===e?null:e.value}isInverted(){return this._options.invertScale}marks(){const e=null===this.firstValue();if(null!==this._marksCache&&(e||this._marksCache.firstValueIsNull===e))return this._marksCache.marks;this._markBuilder.rebuildTickMarks();const t=this._markBuilder.marks();return this._marksCache={marks:t,firstValueIsNull:e},this._onMarksChanged.fire(),t}onMarksChanged(){return this._onMarksChanged}startScale(e){this.isPercentage()||this.isIndexedTo100()||null===this._scaleStartPoint&&null===this._priceRangeSnapshot&&(this.isEmpty()||(this._scaleStartPoint=this._height-e,this._priceRangeSnapshot=_(this.priceRange()).clone()))}scaleTo(e){if(this.isPercentage()||this.isIndexedTo100())return;if(null===this._scaleStartPoint)return;this.setMode({autoScale:!1}),(e=this._height-e)<0&&(e=0);let t=(this._scaleStartPoint+.2*(this._height-1))/(e+.2*(this._height-1));const i=_(this._priceRangeSnapshot).clone();t=Math.max(t,.1),i.scaleAroundCenter(t),this.setPriceRange(i)}endScale(){this.isPercentage()||this.isIndexedTo100()||(this._scaleStartPoint=null,this._priceRangeSnapshot=null)}startScroll(e){this.isAutoScale()||null===this._scrollStartPoint&&null===this._priceRangeSnapshot&&(this.isEmpty()||(this._scrollStartPoint=e,this._priceRangeSnapshot=_(this.priceRange()).clone()))}scrollTo(e){if(this.isAutoScale())return;if(null===this._scrollStartPoint)return;const t=_(this.priceRange()).length()/(this.internalHeight()-1);let i=e-this._scrollStartPoint;this.isInverted()&&(i*=-1);const s=i*t,a=_(this._priceRangeSnapshot).clone();a.shift(s),this.setPriceRange(a,!0),this._marksCache=null}endScroll(){this.isAutoScale()||null!==this._scrollStartPoint&&(this._scrollStartPoint=null,this._priceRangeSnapshot=null)}formatter(){return this._formatter||this.updateFormatter(),this._formatter}formatPrice(e,t){switch(this._options.mode){case 2:return this._formatPercentage(hi(e,t));case 3:return this.formatter().format(pi(e,t));default:return this._formatPrice(e)}}formatLogical(e){switch(this._options.mode){case 2:return this._formatPercentage(e);case 3:return this.formatter().format(e);default:return this._formatPrice(e)}}formatPriceAbsolute(e){return this._formatPrice(e,_(this._formatterSource()).formatter())}formatPricePercentage(e,t){return e=hi(e,t),this._formatPercentage(e,Si)}sourcesForAutoScale(){return this._dataSources}recalculatePriceRange(e){this._invalidatedForRange={visibleBars:e,isValid:!1}}updateAllViews(){this._dataSources.forEach((e=>e.updateAllViews()))}updateFormatter(){this._marksCache=null;const e=this._formatterSource();let t=100;null!==e&&(t=Math.round(1/e.minMove())),this._formatter=Ti,this.isPercentage()?(this._formatter=Si,t=100):this.isIndexedTo100()?(this._formatter=new _e(100,1),t=100):null!==e&&(this._formatter=e.formatter()),this._markBuilder=new ki(this,t,this._coordinateToLogical.bind(this),this._logicalToCoordinate.bind(this)),this._markBuilder.rebuildTickMarks()}invalidateSourcesCache(){this._cachedOrderedSources=null}_formatterSource(){return this._dataSources[0]||null}_topMarginPx(){return this.isInverted()?this._options.scaleMargins.bottom*this.height()+this._marginBelow:this._options.scaleMargins.top*this.height()+this._marginAbove}_bottomMarginPx(){return this.isInverted()?this._options.scaleMargins.top*this.height()+this._marginAbove:this._options.scaleMargins.bottom*this.height()+this._marginBelow}_makeSureItIsValid(){this._invalidatedForRange.isValid||(this._invalidatedForRange.isValid=!0,this._recalculatePriceRangeImpl())}_invalidateInternalHeightCache(){this._internalHeightCache=null}_logicalToCoordinate(e,t){if(this._makeSureItIsValid(),this.isEmpty())return 0;e=this.isLog()&&e?gi(e,this._logFormula):e;const i=_(this.priceRange()),s=this._bottomMarginPx()+(this.internalHeight()-1)*(e-i.minValue())/i.length();return this.invertedCoordinate(s)}_coordinateToLogical(e,t){if(this._makeSureItIsValid(),this.isEmpty())return 0;const i=this.invertedCoordinate(e),s=_(this.priceRange()),a=s.minValue()+s.length()*((i-this._bottomMarginPx())/(this.internalHeight()-1));return this.isLog()?fi(a,this._logFormula):a}_onIsInvertedChanged(){this._marksCache=null,this._markBuilder.rebuildTickMarks()}_recalculatePriceRangeImpl(){const e=this._invalidatedForRange.visibleBars;if(null===e)return;let t=null;const i=this.sourcesForAutoScale();let s=0,a=0;for(const o of i){if(!o.visible())continue;const i=o.firstValue();if(null===i)continue;const r=o.autoscaleInfo(e.left(),e.right());let n=r&&r.priceRange();if(null!==n){switch(this._options.mode){case 1:n=bi(n,this._logFormula);break;case 2:n=ui(n,i.value);break;case 3:n=mi(n,i.value)}if(t=null===t?n:t.merge(_(n)),null!==r){const e=r.margins();null!==e&&(s=Math.max(s,e.above),a=Math.max(s,e.below))}}}if(s===this._marginAbove&&a===this._marginBelow||(this._marginAbove=s,this._marginBelow=a,this._marksCache=null,this._invalidateInternalHeightCache()),null!==t){if(t.minValue()===t.maxValue()){const e=this._formatterSource(),i=5*(null===e||this.isPercentage()||this.isIndexedTo100()?1:e.minMove());this.isLog()&&(t=_i(t,this._logFormula)),t=new zt(t.minValue()-i,t.maxValue()+i),this.isLog()&&(t=bi(t,this._logFormula))}if(this.isLog()){const e=_i(t,this._logFormula),i=vi(e);if(r=i,n=this._logFormula,r.logicalOffset!==n.logicalOffset||r.coordOffset!==n.coordOffset){const s=null!==this._priceRangeSnapshot?_i(this._priceRangeSnapshot,this._logFormula):null;this._logFormula=i,t=bi(e,i),null!==s&&(this._priceRangeSnapshot=bi(s,i))}}this.setPriceRange(t)}else null===this._priceRange&&(this.setPriceRange(new zt(-.5,.5)),this._logFormula=vi(null));var r,n;this._invalidatedForRange.isValid=!0}_getCoordinateTransformer(){return this.isPercentage()?hi:this.isIndexedTo100()?pi:this.isLog()?e=>gi(e,this._logFormula):null}_formatValue(e,t,i){return void 0===t?(void 0===i&&(i=this.formatter()),i.format(e)):t(e)}_formatPrice(e,t){return this._formatValue(e,this._localizationOptions.priceFormatter,t)}_formatPercentage(e,t){return this._formatValue(e,this._localizationOptions.percentageFormatter,t)}}class Mi{constructor(e,t,i=0){this._dataSources=[],this._overlaySourcesByScaleId=new Map,this._height=0,this._width=0,this._stretchFactor=1e3,this._cachedOrderedSources=null,this._destroyed=new L,this._timeScale=e,this._model=t,this._grid=new ci(this);const s=t.options();this._leftPriceScale=this._createPriceScale("left",s.leftPriceScale),this._rightPriceScale=0===i?this._createPriceScale("right",s.rightPriceScale):this._createPriceScale("non-primary",s.nonPrimaryPriceScale),this._leftPriceScale.modeChanged().subscribe(this._onPriceScaleModeChanged.bind(this,this._leftPriceScale),this),this._rightPriceScale.modeChanged().subscribe(this._onPriceScaleModeChanged.bind(this,this._rightPriceScale),this),this.applyScaleOptions(s)}applyScaleOptions(e){if(e.leftPriceScale&&this._leftPriceScale.applyOptions(e.leftPriceScale),"right"===this._rightPriceScale.id()&&e.rightPriceScale&&this._rightPriceScale.applyOptions(e.rightPriceScale),"non-primary"===this._rightPriceScale.id()&&e.nonPrimaryPriceScale&&this._rightPriceScale.applyOptions(e.nonPrimaryPriceScale),e.localization&&(this._leftPriceScale.updateFormatter(),this._rightPriceScale.updateFormatter()),e.overlayPriceScales){const t=Array.from(this._overlaySourcesByScaleId.values());for(const i of t){const t=_(i[0].priceScale());t.applyOptions(e.overlayPriceScales),e.localization&&t.updateFormatter()}}}priceScaleById(e){switch(e){case"left":return this._leftPriceScale;case"right":return this._rightPriceScale}return this._overlaySourcesByScaleId.has(e)?b(this._overlaySourcesByScaleId.get(e))[0].priceScale():null}destroy(){this.model().priceScalesOptionsChanged().unsubscribeAll(this),this._leftPriceScale.modeChanged().unsubscribeAll(this),this._rightPriceScale.modeChanged().unsubscribeAll(this),this._dataSources.forEach((e=>{e.destroy&&e.destroy()})),this._destroyed.fire()}stretchFactor(){return this._stretchFactor}setStretchFactor(e){this._stretchFactor=e}model(){return this._model}width(){return this._width}height(){return this._height}setWidth(e){this._width=e,this.updateAllSources()}setHeight(e){this._height=e,this._leftPriceScale.setHeight(e),this._rightPriceScale.setHeight(e),this._dataSources.forEach((t=>{if(this.isOverlay(t)){const i=t.priceScale();null!==i&&i.setHeight(e)}})),this.updateAllSources()}dataSources(){return this._dataSources}isOverlay(e){const t=e.priceScale();return null===t||this._leftPriceScale!==t&&this._rightPriceScale!==t}addDataSource(e,t,i){const s=void 0!==i?i:this._getZOrderMinMax().maxZOrder+1;this._insertDataSource(e,t,s)}removeDataSource(e){const t=this._dataSources.indexOf(e);f(-1!==t,"removeDataSource: invalid data source"),this._dataSources.splice(t,1);const i=_(e.priceScale()).id();if(this._overlaySourcesByScaleId.has(i)){const t=b(this._overlaySourcesByScaleId.get(i)),s=t.indexOf(e);-1!==s&&(t.splice(s,1),0===t.length&&this._overlaySourcesByScaleId.delete(i))}const s=e.priceScale();s&&s.dataSources().indexOf(e)>=0&&s.removeDataSource(e),null!==s&&(s.invalidateSourcesCache(),this.recalculatePriceScale(s)),this._cachedOrderedSources=null}priceScalePosition(e){return e===this._leftPriceScale?"left":e===this._rightPriceScale?"right":"overlay"}leftPriceScale(){return this._leftPriceScale}rightPriceScale(){return this._rightPriceScale}startScalePrice(e,t){e.startScale(t)}scalePriceTo(e,t){e.scaleTo(t),this.updateAllSources()}endScalePrice(e){e.endScale()}startScrollPrice(e,t){e.startScroll(t)}scrollPriceTo(e,t){e.scrollTo(t),this.updateAllSources()}endScrollPrice(e){e.endScroll()}updateAllSources(){this._dataSources.forEach((e=>{e.updateAllViews()}))}defaultPriceScale(){let e=null;return this._model.options().rightPriceScale.visible&&0!==this._rightPriceScale.dataSources().length?e=this._rightPriceScale:this._model.options().leftPriceScale.visible&&0!==this._leftPriceScale.dataSources().length?e=this._leftPriceScale:0!==this._dataSources.length&&(e=this._dataSources[0].priceScale()),null===e&&(e=this._rightPriceScale),e}defaultVisiblePriceScale(){let e=null;return this._model.options().rightPriceScale.visible?e=this._rightPriceScale:this._model.options().leftPriceScale.visible&&(e=this._leftPriceScale),e}recalculatePriceScale(e){null!==e&&e.isAutoScale()&&this._recalculatePriceScaleImpl(e)}resetPriceScale(e){const t=this._timeScale.visibleStrictRange();e.setMode({autoScale:!0}),null!==t&&e.recalculatePriceRange(t),this.updateAllSources()}momentaryAutoScale(){this._recalculatePriceScaleImpl(this._leftPriceScale),this._recalculatePriceScaleImpl(this._rightPriceScale)}recalculate(){this.recalculatePriceScale(this._leftPriceScale),this.recalculatePriceScale(this._rightPriceScale),this._dataSources.forEach((e=>{this.isOverlay(e)&&this.recalculatePriceScale(e.priceScale())})),this.updateAllSources(),this._model.lightUpdate()}orderedSources(){return null===this._cachedOrderedSources&&(this._cachedOrderedSources=Ci(this._dataSources)),this._cachedOrderedSources}onDestroyed(){return this._destroyed}grid(){return this._grid}_recalculatePriceScaleImpl(e){const t=e.sourcesForAutoScale();if(t&&t.length>0&&!this._timeScale.isEmpty()){const t=this._timeScale.visibleStrictRange();null!==t&&e.recalculatePriceRange(t)}e.updateAllViews()}_getZOrderMinMax(){const e=this.orderedSources();if(0===e.length)return{minZOrder:0,maxZOrder:0};let t=0,i=0;for(let s=0;s<e.length;s++){const a=e[s].zorder();null!==a&&(a<t&&(t=a),a>i&&(i=a))}return{minZOrder:t,maxZOrder:i}}_insertDataSource(e,t,i){let s=this.priceScaleById(t);if(null===s&&(s=this._createPriceScale(t,this._model.options().overlayPriceScales)),this._dataSources.push(e),!me(t)){const i=this._overlaySourcesByScaleId.get(t)||[];i.push(e),this._overlaySourcesByScaleId.set(t,i)}s.addDataSource(e),e.setPriceScale(s),e.setZorder(i),this.recalculatePriceScale(s),this._cachedOrderedSources=null}_onPriceScaleModeChanged(e,t,i){t.mode!==i.mode&&this._recalculatePriceScaleImpl(e)}_createPriceScale(e,t){const i=Object.assign({visible:!0,autoScale:!0},D(t)),s=new Ai(e,i,this._model.options().layout,this._model.options().localization);return s.setHeight(this.height()),s}}class Li{constructor(e,t,i=50){this._actualSize=0,this._usageTick=1,this._oldestTick=1,this._cache=new Map,this._tick2Labels=new Map,this._format=e,this._horzScaleBehavior=t,this._maxSize=i}format(e){const t=e.time,i=this._horzScaleBehavior.cacheKey(t),s=this._cache.get(i);if(void 0!==s)return s.string;if(this._actualSize===this._maxSize){const e=this._tick2Labels.get(this._oldestTick);this._tick2Labels.delete(this._oldestTick),this._cache.delete(b(e)),this._oldestTick++,this._actualSize--}const a=this._format(e);return this._cache.set(i,{string:a,tick:this._usageTick}),this._tick2Labels.set(this._usageTick,i),this._actualSize++,this._usageTick++,a}}class Ri{constructor(e,t){f(e<=t,"right should be >= left"),this._left=e,this._right=t}left(){return this._left}right(){return this._right}count(){return this._right-this._left+1}contains(e){return this._left<=e&&e<=this._right}equals(e){return this._left===e.left()&&this._right===e.right()}}function Ei(e,t){return null===e||null===t?e===t:e.equals(t)}class Ii{constructor(){this._marksByWeight=new Map,this._cache=null,this._uniformDistribution=!1}setUniformDistribution(e){this._uniformDistribution=e,this._cache=null}setTimeScalePoints(e,t){this._removeMarksSinceIndex(t),this._cache=null;for(let i=t;i<e.length;++i){const t=e[i];let s=this._marksByWeight.get(t.timeWeight);void 0===s&&(s=[],this._marksByWeight.set(t.timeWeight,s)),s.push({index:i,time:t.time,weight:t.timeWeight,originalTime:t.originalTime})}}build(e,t){const i=Math.ceil(t/e);return null!==this._cache&&this._cache.maxIndexesPerMark===i||(this._cache={marks:this._buildMarksImpl(i),maxIndexesPerMark:i}),this._cache.marks}_removeMarksSinceIndex(e){if(0===e)return void this._marksByWeight.clear();const t=[];this._marksByWeight.forEach(((i,s)=>{e<=i[0].index?t.push(s):i.splice(ze(i,e,(t=>t.index<e)),1/0)}));for(const i of t)this._marksByWeight.delete(i)}_buildMarksImpl(e){let t=[];for(const i of Array.from(this._marksByWeight.keys()).sort(((e,t)=>t-e))){if(!this._marksByWeight.get(i))continue;const s=t;t=[];const a=s.length;let r=0;const n=b(this._marksByWeight.get(i)),o=n.length;let l=1/0,c=-1/0;for(let i=0;i<o;i++){const o=n[i],d=o.index;for(;r<a;){const e=s[r],i=e.index;if(!(i<d)){l=i;break}r++,t.push(e),c=i,l=1/0}if(l-d>=e&&d-c>=e)t.push(o),c=d;else if(this._uniformDistribution)return s}for(;r<a;r++)t.push(s[r])}return t}}class Pi{constructor(e){this._logicalRange=e}strictRange(){return null===this._logicalRange?null:new Ri(Math.floor(this._logicalRange.left()),Math.ceil(this._logicalRange.right()))}logicalRange(){return this._logicalRange}static invalid(){return new Pi(null)}}var Fi,Di,Bi,zi,Vi,Oi,Wi,qi,ji;function Ui(e,t){return e.weight>t.weight?e:t}!function(e){e[e.DefaultAnimationDuration=400]="DefaultAnimationDuration",e[e.MinVisibleBarsCount=2]="MinVisibleBarsCount"}(Fi||(Fi={}));class Ni{constructor(e,t,i,s){this._width=0,this._baseIndexOrNull=null,this._points=[],this._scrollStartPoint=null,this._scaleStartPoint=null,this._tickMarks=new Ii,this._formattedByWeight=new Map,this._visibleRange=Pi.invalid(),this._visibleRangeInvalidated=!0,this._visibleBarsChanged=new L,this._logicalRangeChanged=new L,this._optionsApplied=new L,this._commonTransitionStartState=null,this._timeMarksCache=null,this._labels=[],this._options=t,this._localizationOptions=i,this._rightOffset=t.rightOffset,this._barSpacing=t.barSpacing,this._model=e,this._horzScaleBehavior=s,this._updateDateTimeFormatter(),this._tickMarks.setUniformDistribution(t.uniformDistribution)}options(){return this._options}applyLocalizationOptions(e){R(this._localizationOptions,e),this._invalidateTickMarks(),this._updateDateTimeFormatter()}applyOptions(e,t){var i;R(this._options,e),this._options.fixLeftEdge&&this._doFixLeftEdge(),this._options.fixRightEdge&&this._doFixRightEdge(),void 0!==e.barSpacing&&this._model.setBarSpacing(e.barSpacing),void 0!==e.rightOffset&&this._model.setRightOffset(e.rightOffset),void 0!==e.minBarSpacing&&this._model.setBarSpacing(null!==(i=e.barSpacing)&&void 0!==i?i:this._barSpacing),this._invalidateTickMarks(),this._updateDateTimeFormatter(),this._optionsApplied.fire()}indexToTime(e){var t,i;return null!==(i=null===(t=this._points[e])||void 0===t?void 0:t.time)&&void 0!==i?i:null}indexToTimeScalePoint(e){var t;return null!==(t=this._points[e])&&void 0!==t?t:null}timeToIndex(e,t){if(this._points.length<1)return null;if(this._horzScaleBehavior.key(e)>this._horzScaleBehavior.key(this._points[this._points.length-1].time))return t?this._points.length-1:null;const i=ze(this._points,this._horzScaleBehavior.key(e),((e,t)=>this._horzScaleBehavior.key(e.time)<t));return this._horzScaleBehavior.key(e)<this._horzScaleBehavior.key(this._points[i].time)?t?i:null:i}isEmpty(){return 0===this._width||0===this._points.length||null===this._baseIndexOrNull}hasPoints(){return this._points.length>0}visibleStrictRange(){return this._updateVisibleRange(),this._visibleRange.strictRange()}visibleLogicalRange(){return this._updateVisibleRange(),this._visibleRange.logicalRange()}visibleTimeRange(){const e=this.visibleStrictRange();if(null===e)return null;const t={from:e.left(),to:e.right()};return this.timeRangeForLogicalRange(t)}timeRangeForLogicalRange(e){const t=Math.round(e.from),i=Math.round(e.to),s=_(this._firstIndex()),a=_(this.lastIndex());return{from:_(this.indexToTimeScalePoint(Math.max(s,t))),to:_(this.indexToTimeScalePoint(Math.min(a,i)))}}logicalRangeForTimeRange(e){return{from:_(this.timeToIndex(e.from,!0)),to:_(this.timeToIndex(e.to,!0))}}width(){return this._width}setWidth(e){if(!isFinite(e)||e<=0)return;if(this._width===e)return;const t=this.visibleLogicalRange(),i=this._width;if(this._width=e,this._visibleRangeInvalidated=!0,this._options.lockVisibleTimeRangeOnResize&&0!==i){const t=this._barSpacing*e/i;this._barSpacing=t}if(this._options.fixLeftEdge&&null!==t&&t.left()<=0){const t=i-e;this._rightOffset-=Math.round(t/this._barSpacing)+1,this._visibleRangeInvalidated=!0}this._correctBarSpacing(),this._correctOffset()}indexToCoordinate(e){if(this.isEmpty()||!I(e))return 0;const t=this.baseIndex()+this._rightOffset-e;return this._width-(t+.5)*this._barSpacing-1}indexesToCoordinates(e,t){const i=this.baseIndex(),s=void 0===t?0:t.from,a=void 0===t?e.length:t.to;for(let r=s;r<a;r++){const t=e[r].time,s=i+this._rightOffset-t,a=this._width-(s+.5)*this._barSpacing-1;e[r].x=a}}coordinateToIndex(e){return Math.ceil(this._coordinateToFloatIndex(e))}setRightOffset(e){this._visibleRangeInvalidated=!0,this._rightOffset=e,this._correctOffset(),this._model.recalculateAllPanes(),this._model.lightUpdate()}barSpacing(){return this._barSpacing}setBarSpacing(e){this._setBarSpacing(e),this._correctOffset(),this._model.recalculateAllPanes(),this._model.lightUpdate()}rightOffset(){return this._rightOffset}marks(){if(this.isEmpty())return null;if(null!==this._timeMarksCache)return this._timeMarksCache;const e=this._barSpacing,t=5*(this._model.options().layout.fontSize+4)/8*(this._options.tickMarkMaxCharacterLength||8),i=Math.round(t/e),s=_(this.visibleStrictRange()),a=Math.max(s.left(),s.left()-i),r=Math.max(s.right(),s.right()-i),n=this._tickMarks.build(e,t),o=this._firstIndex()+i,l=this.lastIndex()-i,c=this._isAllScalingAndScrollingDisabled(),d=this._options.fixLeftEdge||c,h=this._options.fixRightEdge||c;let u=0;for(const p of n){if(!(a<=p.index&&p.index<=r))continue;let e;u<this._labels.length?(e=this._labels[u],e.coord=this.indexToCoordinate(p.index),e.label=this._formatLabel(p),e.weight=p.weight):(e={needAlignCoordinate:!1,coord:this.indexToCoordinate(p.index),label:this._formatLabel(p),weight:p.weight},this._labels.push(e)),this._barSpacing>t/2&&!c?e.needAlignCoordinate=!1:e.needAlignCoordinate=d&&p.index<=o||h&&p.index>=l,u++}return this._labels.length=u,this._timeMarksCache=this._labels,this._labels}restoreDefault(){this._visibleRangeInvalidated=!0,this.setBarSpacing(this._options.barSpacing),this.setRightOffset(this._options.rightOffset)}setBaseIndex(e){this._visibleRangeInvalidated=!0,this._baseIndexOrNull=e,this._correctOffset(),this._doFixLeftEdge()}zoom(e,t){const i=this._coordinateToFloatIndex(e),s=this.barSpacing(),a=s+t*(s/10);this.setBarSpacing(a),this._options.rightBarStaysOnScroll||this.setRightOffset(this.rightOffset()+(i-this._coordinateToFloatIndex(e)))}startScale(e){this._scrollStartPoint&&this.endScroll(),null===this._scaleStartPoint&&null===this._commonTransitionStartState&&(this.isEmpty()||(this._scaleStartPoint=e,this._saveCommonTransitionsStartState()))}scaleTo(e){if(null===this._commonTransitionStartState)return;const t=Me(this._width-e,0,this._width),i=Me(this._width-_(this._scaleStartPoint),0,this._width);0!==t&&0!==i&&this.setBarSpacing(this._commonTransitionStartState.barSpacing*t/i)}endScale(){null!==this._scaleStartPoint&&(this._scaleStartPoint=null,this._clearCommonTransitionsStartState())}startScroll(e){null===this._scrollStartPoint&&null===this._commonTransitionStartState&&(this.isEmpty()||(this._scrollStartPoint=e,this._saveCommonTransitionsStartState()))}scrollTo(e){if(null===this._scrollStartPoint)return;const t=(this._scrollStartPoint-e)/this.barSpacing();this._rightOffset=_(this._commonTransitionStartState).rightOffset+t,this._visibleRangeInvalidated=!0,this._correctOffset()}endScroll(){null!==this._scrollStartPoint&&(this._scrollStartPoint=null,this._clearCommonTransitionsStartState())}scrollToRealTime(){this.scrollToOffsetAnimated(this._options.rightOffset)}scrollToOffsetAnimated(e,t=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(t)||t<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const i=this._rightOffset,s=performance.now();this._model.setTimeScaleAnimation({finished:e=>(e-s)/t>=1,getPosition:a=>{const r=(a-s)/t;return r>=1?e:i+(e-i)*r}})}update(e,t){this._visibleRangeInvalidated=!0,this._points=e,this._tickMarks.setTimeScalePoints(e,t),this._correctOffset()}visibleBarsChanged(){return this._visibleBarsChanged}logicalRangeChanged(){return this._logicalRangeChanged}optionsApplied(){return this._optionsApplied}baseIndex(){return this._baseIndexOrNull||0}setVisibleRange(e){const t=e.count();this._setBarSpacing(this._width/t),this._rightOffset=e.right()-this.baseIndex(),this._correctOffset(),this._visibleRangeInvalidated=!0,this._model.recalculateAllPanes(),this._model.lightUpdate()}fitContent(){const e=this._firstIndex(),t=this.lastIndex();null!==e&&null!==t&&this.setVisibleRange(new Ri(e,t+this._options.rightOffset))}setLogicalRange(e){const t=new Ri(e.from,e.to);this.setVisibleRange(t)}formatDateTime(e){return void 0!==this._localizationOptions.timeFormatter?this._localizationOptions.timeFormatter(e.originalTime):this._horzScaleBehavior.formatHorzItem(e.time)}lastIndex(){return 0===this._points.length?null:this._points.length-1}_isAllScalingAndScrollingDisabled(){const{handleScroll:e,handleScale:t}=this._model.options();return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}_firstIndex(){return 0===this._points.length?null:0}_rightOffsetForCoordinate(e){return(this._width-1-e)/this._barSpacing}_coordinateToFloatIndex(e){const t=this._rightOffsetForCoordinate(e),i=this.baseIndex()+this._rightOffset-t;return Math.round(1e6*i)/1e6}_setBarSpacing(e){const t=this._barSpacing;this._barSpacing=e,this._correctBarSpacing(),t!==this._barSpacing&&(this._visibleRangeInvalidated=!0,this._resetTimeMarksCache())}_updateVisibleRange(){if(!this._visibleRangeInvalidated)return;if(this._visibleRangeInvalidated=!1,this.isEmpty())return void this._setVisibleRange(Pi.invalid());const e=this.baseIndex(),t=this._width/this._barSpacing,i=this._rightOffset+e,s=new Ri(i-t+1,i);this._setVisibleRange(new Pi(s))}_correctBarSpacing(){const e=this._minBarSpacing();if(this._barSpacing<e&&(this._barSpacing=e,this._visibleRangeInvalidated=!0),0!==this._width){const e=.5*this._width;this._barSpacing>e&&(this._barSpacing=e,this._visibleRangeInvalidated=!0)}}_minBarSpacing(){return this._options.fixLeftEdge&&this._options.fixRightEdge&&0!==this._points.length?this._width/this._points.length:this._options.minBarSpacing}_correctOffset(){const e=this._maxRightOffset();this._rightOffset>e&&(this._rightOffset=e,this._visibleRangeInvalidated=!0);const t=this._minRightOffset();null!==t&&this._rightOffset<t&&(this._rightOffset=t,this._visibleRangeInvalidated=!0)}_minRightOffset(){const e=this._firstIndex(),t=this._baseIndexOrNull;return null===e||null===t?null:e-t-1+(this._options.fixLeftEdge?this._width/this._barSpacing:Math.min(2,this._points.length))}_maxRightOffset(){return this._options.fixRightEdge?0:this._width/this._barSpacing-Math.min(2,this._points.length)}_saveCommonTransitionsStartState(){this._commonTransitionStartState={barSpacing:this.barSpacing(),rightOffset:this.rightOffset()}}_clearCommonTransitionsStartState(){this._commonTransitionStartState=null}_formatLabel(e){let t=this._formattedByWeight.get(e.weight);return void 0===t&&(t=new Li((e=>this._formatLabelImpl(e)),this._horzScaleBehavior),this._formattedByWeight.set(e.weight,t)),t.format(e)}_formatLabelImpl(e){return this._horzScaleBehavior.formatTickmark(e,this._localizationOptions)}_setVisibleRange(e){const t=this._visibleRange;this._visibleRange=e,Ei(t.strictRange(),this._visibleRange.strictRange())||this._visibleBarsChanged.fire(),Ei(t.logicalRange(),this._visibleRange.logicalRange())||this._logicalRangeChanged.fire(),this._resetTimeMarksCache()}_resetTimeMarksCache(){this._timeMarksCache=null}_invalidateTickMarks(){this._resetTimeMarksCache(),this._formattedByWeight.clear()}_updateDateTimeFormatter(){this._horzScaleBehavior.updateFormatter(this._localizationOptions)}_doFixLeftEdge(){if(!this._options.fixLeftEdge)return;const e=this._firstIndex();if(null===e)return;const t=this.visibleStrictRange();if(null===t)return;const i=t.left()-e;if(i<0){const e=this._rightOffset-i-1;this.setRightOffset(e)}this._correctBarSpacing()}_doFixRightEdge(){this._correctOffset(),this._correctBarSpacing()}}class Hi{draw(e,t,i){e.useMediaCoordinateSpace((e=>this._drawImpl(e,t,i)))}drawBackground(e,t,i){e.useMediaCoordinateSpace((e=>this._drawBackgroundImpl(e,t,i)))}_drawBackgroundImpl(e,t,i){}}class Xi extends Hi{constructor(e){super(),this._metricsCache=new Map,this._data=e}_drawImpl(e){}_drawBackgroundImpl(e){if(!this._data.visible)return;const{context:t,mediaSize:i}=e;let s=0;for(const r of this._data.lines){if(0===r.text.length)continue;t.font=r.font;const e=this._metrics(t,r.text);e>i.width?r.zoom=i.width/e:r.zoom=1,s+=r.lineHeight*r.zoom}let a=0;switch(this._data.vertAlign){case"top":a=0;break;case"center":a=Math.max((i.height-s)/2,0);break;case"bottom":a=Math.max(i.height-s,0)}t.fillStyle=this._data.color;for(const r of this._data.lines){t.save();let e=0;switch(this._data.horzAlign){case"left":t.textAlign="left",e=r.lineHeight/2;break;case"center":t.textAlign="center",e=i.width/2;break;case"right":t.textAlign="right",e=i.width-1-r.lineHeight/2}t.translate(e,a),t.textBaseline="top",t.font=r.font,t.scale(r.zoom,r.zoom),t.fillText(r.text,0,r.vertOffset),t.restore(),a+=r.lineHeight*r.zoom}}_metrics(e,t){const i=this._fontCache(e.font);let s=i.get(t);return void 0===s&&(s=e.measureText(t).width,i.set(t,s)),s}_fontCache(e){let t=this._metricsCache.get(e);return void 0===t&&(t=new Map,this._metricsCache.set(e,t)),t}}class $i{constructor(e){this._invalidated=!0,this._rendererData={visible:!1,color:"",lines:[],vertAlign:"center",horzAlign:"center"},this._renderer=new Xi(this._rendererData),this._source=e}update(){this._invalidated=!0}renderer(){return this._invalidated&&(this._updateImpl(),this._invalidated=!1),this._renderer}_updateImpl(){const e=this._source.options(),t=this._rendererData;t.visible=e.visible,t.visible&&(t.color=e.color,t.horzAlign=e.horzAlign,t.vertAlign=e.vertAlign,t.lines=[{text:e.text,font:O(e.fontSize,e.fontFamily,e.fontStyle),lineHeight:1.2*e.fontSize,vertOffset:0,zoom:0}])}}class Qi extends le{constructor(e,t){super(),this._options=t,this._paneView=new $i(this)}priceAxisViews(){return[]}paneViews(){return[this._paneView]}options(){return this._options}updateAllViews(){this._paneView.update()}}!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom"}(Di||(Di={})),function(e){e[e.OnTouchEnd=0]="OnTouchEnd",e[e.OnNextTap=1]="OnNextTap"}(Bi||(Bi={}));class Ki{constructor(e,t,i){this._panes=[],this._panesToIndex=new Map,this._serieses=[],this._width=0,this._hoveredSource=null,this._priceScalesOptionsChanged=new L,this._crosshairMoved=new L,this._suppressSeriesMoving=!1,this._gradientColorsCache=null,this._invalidateHandler=e,this._options=t,this._horzScaleBehavior=i,this._rendererOptionsProvider=new q(this),this._timeScale=new Ni(this,t.timeScale,this._options.localization,i),this._crosshair=new pe(this,t.crosshair),this._magnet=new ni(t.crosshair),this._watermark=new Qi(this,t.watermark),this.createPane(),this._panes[0].setStretchFactor(2e3),this._backgroundTopColor=this._getBackgroundColor(0),this._backgroundBottomColor=this._getBackgroundColor(1)}fullUpdate(){this._invalidate(ge.full())}lightUpdate(){this._invalidate(ge.light())}cursorUpdate(){this._invalidate(new ge(1))}updateSource(e){const t=this._invalidationMaskForSource(e);this._invalidate(t)}hoveredSource(){return this._hoveredSource}setHoveredSource(e){const t=this._hoveredSource;this._hoveredSource=e,null!==t&&this.updateSource(t.source),null!==e&&this.updateSource(e.source)}options(){return this._options}applyOptions(e){R(this._options,e),this._panes.forEach((t=>t.applyScaleOptions(e))),void 0!==e.timeScale&&this._timeScale.applyOptions(e.timeScale),void 0!==e.localization&&this._timeScale.applyLocalizationOptions(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this._priceScalesOptionsChanged.fire(),this._backgroundTopColor=this._getBackgroundColor(0),this._backgroundBottomColor=this._getBackgroundColor(1),this.fullUpdate()}applyPriceScaleOptions(e,t){if("left"===e)return void this.applyOptions({leftPriceScale:t});if("right"===e)return void this.applyOptions({rightPriceScale:t});const i=this.findPriceScale(e);null!==i&&(i.priceScale.applyOptions(t),this._priceScalesOptionsChanged.fire())}findPriceScale(e){for(const t of this._panes){const i=t.priceScaleById(e);if(null!==i)return{pane:t,priceScale:i}}return null}timeScale(){return this._timeScale}panes(){return this._panes}watermarkSource(){return this._watermark}crosshairSource(){return this._crosshair}crosshairMoved(){return this._crosshairMoved}setPaneHeight(e,t){e.setHeight(t),this.recalculateAllPanes()}setWidth(e){this._width=e,this._timeScale.setWidth(this._width),this._panes.forEach((t=>t.setWidth(e))),this.recalculateAllPanes()}createPane(e){if(void 0!==e)if(e>this._panes.length)for(let a=this._panes.length;a<e;a++)this.createPane(a);else if(e<this._panes.length)return this._panes[e];const t=void 0===e?this._panes.length-1+1:e,i=new Mi(this._timeScale,this,t);void 0!==e?this._panes.splice(e,0,i):this._panes.push(i),this._buildPaneIndexMapping();const s=ge.full();return s.invalidatePane(t,{level:0,autoScale:!0}),this._invalidate(s),i}removePane(e){if(0===e)return;if(this._panes[e].orderedSources().forEach((e=>{e instanceof ri&&this.removeSeries(e)})),this._suppressSeriesMoving=!0,e!==this._panes.length-1)for(let i=e+1;i<this._panes.length;i++)this._panes[i].orderedSources().forEach((e=>{e instanceof ri&&e.applyOptions({pane:i-1})}));this._panes.splice(e,1),this._suppressSeriesMoving=!1,this._buildPaneIndexMapping();const t=new ge(3);this._invalidate(t)}swapPane(e,t){const i=this._panes[e],s=this._panes[t];this._suppressSeriesMoving=!0,i.orderedSources().forEach((e=>{e instanceof ri&&e.applyOptions({pane:t})})),s.orderedSources().forEach((t=>{t instanceof ri&&t.applyOptions({pane:e})})),this._panes[e]=s,this._panes[t]=i,this._suppressSeriesMoving=!1,this._buildPaneIndexMapping(),this._invalidate(new ge(3))}startScalePrice(e,t,i){e.startScalePrice(t,i)}scalePriceTo(e,t,i){e.scalePriceTo(t,i),this.updateCrosshair(),this._invalidate(this._paneInvalidationMask(e,2))}endScalePrice(e,t){e.endScalePrice(t),this._invalidate(this._paneInvalidationMask(e,2))}startScrollPrice(e,t,i){t.isAutoScale()||e.startScrollPrice(t,i)}scrollPriceTo(e,t,i){t.isAutoScale()||(e.scrollPriceTo(t,i),this.updateCrosshair(),this._invalidate(this._paneInvalidationMask(e,2)))}endScrollPrice(e,t){t.isAutoScale()||(e.endScrollPrice(t),this._invalidate(this._paneInvalidationMask(e,2)))}resetPriceScale(e,t){e.resetPriceScale(t),this._invalidate(this._paneInvalidationMask(e,2))}startScaleTime(e){this._timeScale.startScale(e)}zoomTime(e,t){const i=this.timeScale();if(i.isEmpty()||0===t)return;const s=i.width();e=Math.max(1,Math.min(e,s)),i.zoom(e,t),this.recalculateAllPanes()}scrollChart(e){this.startScrollTime(0),this.scrollTimeTo(e),this.endScrollTime()}scaleTimeTo(e){this._timeScale.scaleTo(e),this.recalculateAllPanes()}endScaleTime(){this._timeScale.endScale(),this.lightUpdate()}startScrollTime(e){this._timeScale.startScroll(e)}scrollTimeTo(e){this._timeScale.scrollTo(e),this.recalculateAllPanes()}endScrollTime(){this._timeScale.endScroll(),this.lightUpdate()}serieses(){return this._serieses}setAndSaveCurrentPosition(e,t,i,s,a){this._crosshair.saveOriginCoord(e,t);let r=NaN,n=this._timeScale.coordinateToIndex(e);const o=this._timeScale.visibleStrictRange();null!==o&&(n=Math.min(Math.max(o.left(),n),o.right()));const l=s.defaultPriceScale(),c=l.firstValue();null!==c&&(r=l.coordinateToPrice(t,c)),r=this._magnet.align(r,n,s),this._crosshair.setPosition(n,r,s),this.cursorUpdate();const d=this.getPaneIndex(s);a||this._crosshairMoved.fire(this._crosshair.appliedIndex(),{x:e,y:t,paneIndex:d},i)}setAndSaveSyntheticPosition(e,t,i){const s=i.defaultPriceScale(),a=s.firstValue(),r=s.priceToCoordinate(e,_(a)),n=this._timeScale.timeToIndex(t,!0),o=this._timeScale.indexToCoordinate(_(n));this.setAndSaveCurrentPosition(o,r,null,i,!0)}clearCurrentPosition(e){this.crosshairSource().clearPosition(),this.cursorUpdate(),e||this._crosshairMoved.fire(null,null,null)}updateCrosshair(){const e=this._crosshair.pane();if(null!==e){const t=this._crosshair.originCoordX(),i=this._crosshair.originCoordY();this.setAndSaveCurrentPosition(t,i,null,e)}this._crosshair.updateAllViews()}updateTimeScale(e,t,i){const s=this._timeScale.indexToTime(0);void 0!==t&&void 0!==i&&this._timeScale.update(t,i);const a=this._timeScale.indexToTime(0),r=this._timeScale.baseIndex(),n=this._timeScale.visibleStrictRange();if(null!==n&&null!==s&&null!==a){const t=n.contains(r),o=this._horzScaleBehavior.key(s)>this._horzScaleBehavior.key(a),l=null!==e&&e>r&&!o,c=this._timeScale.options().allowShiftVisibleRangeOnWhitespaceReplacement,d=t&&(!(void 0===i)||c)&&this._timeScale.options().shiftVisibleRangeOnNewBar;if(l&&!d){const t=e-r;this._timeScale.setRightOffset(this._timeScale.rightOffset()-t)}}this._timeScale.setBaseIndex(e)}recalculatePane(e){null!==e&&e.recalculate()}paneForSource(e){const t=this._panes.find((t=>t.orderedSources().includes(e)));return void 0===t?null:t}recalculateAllPanes(){this._watermark.updateAllViews(),this._panes.forEach((e=>e.recalculate())),this.updateCrosshair()}destroy(){this._panes.forEach((e=>e.destroy())),this._panes.length=0,this._options.localization.priceFormatter=void 0,this._options.localization.percentageFormatter=void 0,this._options.localization.timeFormatter=void 0}rendererOptionsProvider(){return this._rendererOptionsProvider}priceAxisRendererOptions(){return this._rendererOptionsProvider.options()}priceScalesOptionsChanged(){return this._priceScalesOptionsChanged}createSeries(e,t,i){const s=t.pane||0;this._panes.length-1<=s&&this.createPane(s);const a=this._panes[s],r=this._createSeries(t,e,a,i);return this._serieses.push(r),1===this._serieses.length?this.fullUpdate():this.lightUpdate(),r}removeSeries(e){const t=this.paneForSource(e),i=this._serieses.indexOf(e);f(-1!==i,"Series not found"),this._serieses.splice(i,1),_(t).removeDataSource(e),e.destroy&&e.destroy()}moveSeriesToScale(e,t){const i=_(this.paneForSource(e));i.removeDataSource(e);const s=this.findPriceScale(t);if(null===s){const s=e.zorder();i.addDataSource(e,t,s)}else{const a=s.pane===i?e.zorder():void 0;s.pane.addDataSource(e,t,a)}}fitContent(){const e=ge.light();e.setFitContent(),this._invalidate(e)}setTargetLogicalRange(e){const t=ge.light();t.applyRange(e),this._invalidate(t)}resetTimeScale(){const e=ge.light();e.resetTimeScale(),this._invalidate(e)}setBarSpacing(e){const t=ge.light();t.setBarSpacing(e),this._invalidate(t)}setRightOffset(e){const t=ge.light();t.setRightOffset(e),this._invalidate(t)}setTimeScaleAnimation(e){const t=ge.light();t.setTimeScaleAnimation(e),this._invalidate(t)}stopTimeScaleAnimation(){const e=ge.light();e.stopTimeScaleAnimation(),this._invalidate(e)}defaultVisiblePriceScaleId(){return this._options.rightPriceScale.visible?"right":"left"}moveSeriesToPane(e,t,i){if(i===t||this._suppressSeriesMoving)return;e.options().pane!==i&&e.applyOptions({pane:i});const s=this.paneForSource(e);null==s||s.removeDataSource(e);const a=this.createPane(i);this._addSeriesToPane(e,a)}backgroundBottomColor(){return this._backgroundBottomColor}backgroundTopColor(){return this._backgroundTopColor}backgroundColorAtYPercentFromTop(e){const t=this._backgroundBottomColor,i=this._backgroundTopColor;if(t===i)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),null===this._gradientColorsCache||this._gradientColorsCache.topColor!==i||this._gradientColorsCache.bottomColor!==t)this._gradientColorsCache={topColor:i,bottomColor:t,colors:new Map};else{const t=this._gradientColorsCache.colors.get(e);if(void 0!==t)return t}const s=function(e,t,i){const[s,a,r,n]=A(e),[o,l,c,d]=A(t),h=[x(s+i*(o-s)),x(a+i*(l-a)),x(r+i*(c-r)),w(n+i*(d-n))];return`rgba(${h[0]}, ${h[1]}, ${h[2]}, ${h[3]})`}(i,t,e/100);return this._gradientColorsCache.colors.set(e,s),s}getPaneIndex(e){var t;return null!==(t=this._panesToIndex.get(e))&&void 0!==t?t:0}_paneInvalidationMask(e,t){const i=new ge(t);if(null!==e){const s=this._panes.indexOf(e);i.invalidatePane(s,{level:t})}return i}_invalidationMaskForSource(e,t){return void 0===t&&(t=2),this._paneInvalidationMask(this.paneForSource(e),t)}_invalidate(e){this._invalidateHandler&&this._invalidateHandler(e),this._panes.forEach((e=>e.grid().paneView().update()))}_createSeries(e,t,i,s){const a=new ri(this,e,t,i,s);return this._addSeriesToPane(a,i),a}_addSeriesToPane(e,t){const i=e.options().priceScaleId,s=void 0!==i?i:this.defaultVisiblePriceScaleId();t.addDataSource(e,s),me(s)||e.applyOptions(e.options())}_getBackgroundColor(e){const t=this._options.layout;return"gradient"===t.background.type?0===e?t.background.topColor:t.background.bottomColor:t.background.color}_buildPaneIndexMapping(){this._panesToIndex.clear();for(let e=0;e<this._panes.length;e++)this._panesToIndex.set(this._panes[e],e)}}function Gi(e){return!E(e)&&!P(e)}function Ji(e){return E(e)}!function(e){e[e.Disabled=0]="Disabled",e[e.Continuous=1]="Continuous",e[e.OnDataUpdate=2]="OnDataUpdate"}(zi||(zi={})),function(e){e[e.LastPriceAndPercentageValue=0]="LastPriceAndPercentageValue",e[e.LastValueAccordingToScale=1]="LastValueAccordingToScale"}(Vi||(Vi={})),function(e){e[e.LastBar=0]="LastBar",e[e.LastVisible=1]="LastVisible"}(Oi||(Oi={})),function(e){e.Solid="solid",e.VerticalGradient="gradient"}(Wi||(Wi={})),function(e){e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.DayOfMonth=2]="DayOfMonth",e[e.Time=3]="Time",e[e.TimeWithSeconds=4]="TimeWithSeconds"}(qi||(qi={})),function(e){e[e.LessThanSecond=0]="LessThanSecond",e[e.Second=10]="Second",e[e.Minute1=20]="Minute1",e[e.Minute5=21]="Minute5",e[e.Minute30=22]="Minute30",e[e.Hour1=30]="Hour1",e[e.Hour3=31]="Hour3",e[e.Hour6=32]="Hour6",e[e.Hour12=33]="Hour12",e[e.Day=50]="Day",e[e.Month=60]="Month",e[e.Year=70]="Year"}(ji||(ji={}));const Yi=e=>e.getUTCFullYear();function Zi(e,t,i){return t.replace(/yyyy/g,(e=>be(Yi(e),4))(e)).replace(/yy/g,(e=>be(Yi(e)%100,2))(e)).replace(/MMMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:"long"}))(e,i)).replace(/MMM/g,((e,t)=>new Date(e.getUTCFullYear(),e.getUTCMonth(),1).toLocaleString(t,{month:"short"}))(e,i)).replace(/MM/g,(e=>be((e=>e.getUTCMonth()+1)(e),2))(e)).replace(/dd/g,(e=>be((e=>e.getUTCDate())(e),2))(e))}class es{constructor(e="yyyy-MM-dd",t="default"){this._dateFormat=e,this._locale=t}format(e){return Zi(e,this._dateFormat,this._locale)}}class ts{constructor(e){this._formatStr=e||"%h:%m:%s"}format(e){return this._formatStr.replace("%h",be(e.getUTCHours(),2)).replace("%m",be(e.getUTCMinutes(),2)).replace("%s",be(e.getUTCSeconds(),2))}}const is={dateFormat:"yyyy-MM-dd",timeFormat:"%h:%m:%s",dateTimeSeparator:" ",locale:"default"};class ss{constructor(e={}){const t=Object.assign(Object.assign({},is),e);this._dateFormatter=new es(t.dateFormat,t.locale),this._timeFormatter=new ts(t.timeFormat),this._separator=t.dateTimeSeparator}format(e){return`${this._dateFormatter.format(e)}${this._separator}${this._timeFormatter.format(e)}`}}function as(e){return 60*e*60*1e3}function rs(e){return 60*e*1e3}const ns=[{divisor:(os=1,1e3*os),weight:10},{divisor:rs(1),weight:20},{divisor:rs(5),weight:21},{divisor:rs(30),weight:22},{divisor:as(1),weight:30},{divisor:as(3),weight:31},{divisor:as(6),weight:32},{divisor:as(12),weight:33}];var os;function ls(e,t){if(e.getUTCFullYear()!==t.getUTCFullYear())return 70;if(e.getUTCMonth()!==t.getUTCMonth())return 60;if(e.getUTCDate()!==t.getUTCDate())return 50;for(let i=ns.length-1;i>=0;--i)if(Math.floor(t.getTime()/ns[i].divisor)!==Math.floor(e.getTime()/ns[i].divisor))return ns[i].weight;return 0}function cs(e){let t=e;if(P(e)&&(t=hs(e)),!Gi(t))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{timestamp:Math.round(i.getTime()/1e3),businessDay:t}}function ds(e){if(!Ji(e))throw new Error("time must be of type isUTCTimestamp");return{timestamp:e}}function hs(e){const t=new Date(e);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${e}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function us(e){P(e.time)&&(e.time=hs(e.time))}class ps{options(){return this._options}setOptions(e){this._options=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(e){e.forEach(us)}(e):us(e)}createConverterToInternalObj(e){return _(function(e){return 0===e.length?null:Gi(e[0].time)||P(e[0].time)?cs:ds}(e))}key(e){return"object"==typeof e&&"timestamp"in e?e.timestamp:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const t=e;return void 0===t.businessDay?new Date(1e3*t.timestamp).getTime():new Date(Date.UTC(t.businessDay.year,t.businessDay.month-1,t.businessDay.day)).getTime()}convertHorzItemToInternal(e){return Ji(t=e)?ds(t):Gi(t)?cs(t):cs(hs(t));var t}updateFormatter(e){if(!this._options)return;const t=e.dateFormat;this._options.timeScale.timeVisible?this._dateTimeFormatter=new ss({dateFormat:t,timeFormat:this._options.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",dateTimeSeparator:"   ",locale:e.locale}):this._dateTimeFormatter=new es(t,e.locale)}formatHorzItem(e){const t=e;return this._dateTimeFormatter.format(new Date(1e3*t.timestamp))}formatTickmark(e,t){const i=function(e,t,i){switch(e){case 0:case 10:return t?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return t?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this._options.timeScale.timeVisible,this._options.timeScale.secondsVisible),s=this._options.timeScale;if(void 0!==s.tickMarkFormatter){const a=s.tickMarkFormatter(e.originalTime,i,t.locale);if(null!==a)return a}return function(e,t,i){const s={};switch(t){case 0:s.year="numeric";break;case 1:s.month="short";break;case 2:s.day="numeric";break;case 3:s.hour12=!1,s.hour="2-digit",s.minute="2-digit";break;case 4:s.hour12=!1,s.hour="2-digit",s.minute="2-digit",s.second="2-digit"}const a=void 0===e.businessDay?new Date(1e3*e.timestamp):new Date(Date.UTC(e.businessDay.year,e.businessDay.month-1,e.businessDay.day));return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()).toLocaleString(i,s)}(e.time,i,t.locale)}maxTickMarkWeight(e){let t=e.reduce(Ui,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){!function(e,t=0){if(0===e.length)return;let i=0===t?null:e[t-1].time.timestamp,s=null!==i?new Date(1e3*i):null,a=0;for(let r=t;r<e.length;++r){const t=e[r],n=new Date(1e3*t.time.timestamp);null!==s&&(t.timeWeight=ls(n,s)),a+=t.time.timestamp-(i||t.time.timestamp),i=t.time.timestamp,s=n}if(0===t&&e.length>1){const t=Math.ceil(a/(e.length-1)),i=new Date(1e3*(e[0].time.timestamp-t));e[0].timeWeight=ls(new Date(1e3*e[0].time.timestamp),i)}}(e,t)}static applyDefaults(e){return R({localization:{dateFormat:"dd MMM 'yy"}},null!=e?e:{})}}const ms="undefined"!=typeof window;function gs(){return!!ms&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function fs(){return!!ms&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function bs(e){return e+e%2}function _s(e){ms&&void 0!==window.chrome&&e.addEventListener("mousedown",(e=>{if(1===e.button)return e.preventDefault(),!1}))}var vs,ys,xs,ws,ks,Cs,Ss,Ts;!function(e){e[e.ResetClick=500]="ResetClick",e[e.LongTap=240]="LongTap",e[e.PreventFiresTouchEvents=500]="PreventFiresTouchEvents"}(vs||(vs={})),function(e){e[e.CancelClickManhattanDistance=5]="CancelClickManhattanDistance",e[e.CancelTapManhattanDistance=5]="CancelTapManhattanDistance",e[e.DoubleClickManhattanDistance=5]="DoubleClickManhattanDistance",e[e.DoubleTapManhattanDistance=30]="DoubleTapManhattanDistance"}(ys||(ys={}));class As{constructor(e,t,i){this._clickCount=0,this._clickTimeoutId=null,this._clickPosition={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapPosition={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartPosition=null,this._touchMoveStartPosition=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddlePoint=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!fs(),this._onFirefoxOutsideMouseUp=e=>{this._mouseUpHandler(e)},this._onMobileSafariDoubleClick=e=>{if(this._firesTouchEvents(e)){const t=this._makeCompatEvent(e);if(++this._tapCount,this._tapTimeoutId&&this._tapCount>1){const{manhattanDistance:i}=this._touchMouseMoveWithDownInfo(Rs(e),this._tapPosition);i<30&&!this._cancelTap&&this._processTouchEvent(t,this._handler.doubleTapEvent),this._resetTapTimeout()}}else{const t=this._makeCompatEvent(e);if(++this._clickCount,this._clickTimeoutId&&this._clickCount>1){const{manhattanDistance:i}=this._touchMouseMoveWithDownInfo(Rs(e),this._clickPosition);i<5&&!this._cancelClick&&this._processMouseEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()}}},this._target=e,this._handler=t,this._options=i,this._init()}destroy(){null!==this._unsubscribeOutsideMouseEvents&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),null!==this._unsubscribeOutsideTouchEvents&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),null!==this._unsubscribeMousemove&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),null!==this._unsubscribeRootMouseEvents&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),null!==this._unsubscribeRootTouchEvents&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),null!==this._unsubscribeMobileSafariEvents&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()}_mouseEnterHandler(e){this._unsubscribeMousemove&&this._unsubscribeMousemove();const t=this._mouseMoveHandler.bind(this);if(this._unsubscribeMousemove=()=>{this._target.removeEventListener("mousemove",t)},this._target.addEventListener("mousemove",t),this._firesTouchEvents(e))return;const i=this._makeCompatEvent(e);this._processMouseEvent(i,this._handler.mouseEnterEvent),this._acceptMouseLeave=!0}_resetClickTimeout(){null!==this._clickTimeoutId&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickPosition={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}}_resetTapTimeout(){null!==this._tapTimeoutId&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapPosition={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}}_mouseMoveHandler(e){if(this._mousePressed||null!==this._touchMoveStartPosition)return;if(this._firesTouchEvents(e))return;const t=this._makeCompatEvent(e);this._processMouseEvent(t,this._handler.mouseMoveEvent),this._acceptMouseLeave=!0}_touchMoveHandler(e){const t=Is(e.changedTouches,_(this._activeTouchId));if(null===t)return;if(this._lastTouchEventTimeStamp=Es(e),null!==this._startPinchMiddlePoint)return;if(this._preventTouchDragProcess)return;this._pinchPrevented=!0;const i=this._touchMouseMoveWithDownInfo(Rs(t),_(this._touchMoveStartPosition)),{xOffset:s,yOffset:a,manhattanDistance:r}=i;if(this._touchMoveExceededManhattanDistance||!(r<5)){if(!this._touchMoveExceededManhattanDistance){const e=.5*s,t=a>=e&&!this._options.treatVertTouchDragAsPageScroll(),i=e>a&&!this._options.treatHorzTouchDragAsPageScroll();t||i||(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}if(!this._preventTouchDragProcess){const i=this._makeCompatEvent(e,t);this._processTouchEvent(i,this._handler.touchMoveEvent),Ls(e)}}}_mouseMoveWithDownHandler(e){if(0!==e.button)return;const t=this._touchMouseMoveWithDownInfo(Rs(e),_(this._mouseMoveStartPosition)),{manhattanDistance:i}=t;if(i>=5&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick){const t=this._makeCompatEvent(e);this._processMouseEvent(t,this._handler.pressedMouseMoveEvent)}}_touchMouseMoveWithDownInfo(e,t){const i=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);return{xOffset:i,yOffset:s,manhattanDistance:i+s}}_touchEndHandler(e){let t=Is(e.changedTouches,_(this._activeTouchId));if(null===t&&0===e.touches.length&&(t=e.changedTouches[0]),null===t)return;this._activeTouchId=null,this._lastTouchEventTimeStamp=Es(e),this._clearLongTapTimeout(),this._touchMoveStartPosition=null,this._unsubscribeRootTouchEvents&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);const i=this._makeCompatEvent(e,t);if(this._processTouchEvent(i,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId&&this._tapCount>1){const{manhattanDistance:e}=this._touchMouseMoveWithDownInfo(Rs(t),this._tapPosition);e<30&&!this._cancelTap&&this._processTouchEvent(i,this._handler.doubleTapEvent),this._resetTapTimeout()}else this._cancelTap||(this._processTouchEvent(i,this._handler.tapEvent),this._handler.tapEvent&&Ls(e));0===this._tapCount&&Ls(e),0===e.touches.length&&this._longTapActive&&(this._longTapActive=!1,Ls(e))}_mouseUpHandler(e){if(0!==e.button&&2!==e.button)return;const t=this._makeCompatEvent(e);if(this._mouseMoveStartPosition=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),gs()&&this._target.ownerDocument.documentElement.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp),!this._firesTouchEvents(e))if(this._processMouseEvent(t,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId&&this._clickCount>1){const{manhattanDistance:i}=this._touchMouseMoveWithDownInfo(Rs(e),this._clickPosition);i<5&&!this._cancelClick&&this._processMouseEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()}else this._cancelClick||this._processMouseEvent(t,this._handler.mouseClickEvent)}_clearLongTapTimeout(){null!==this._longTapTimeoutId&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)}_touchStartHandler(e){if(null!==this._activeTouchId)return;const t=e.changedTouches[0];this._activeTouchId=t.identifier,this._lastTouchEventTimeStamp=Es(e);const i=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartPosition=Rs(t),this._unsubscribeRootTouchEvents&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);{const t=this._touchMoveHandler.bind(this),s=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=()=>{i.removeEventListener("touchmove",t),i.removeEventListener("touchend",s)},i.addEventListener("touchmove",t,{passive:!1}),i.addEventListener("touchend",s,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,e),240)}const s=this._makeCompatEvent(e,t);this._processTouchEvent(s,this._handler.touchStartEvent),this._tapTimeoutId||(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),500),this._tapPosition=Rs(t))}_mouseDownHandler(e){if(0!==e.button&&2!==e.button)return;const t=this._target.ownerDocument.documentElement;gs()&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartPosition=Rs(e),this._unsubscribeRootMouseEvents&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);{const e=this._mouseMoveWithDownHandler.bind(this),i=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=()=>{t.removeEventListener("mousemove",e),t.removeEventListener("mouseup",i)},t.addEventListener("mousemove",e),t.addEventListener("mouseup",i)}if(this._mousePressed=!0,this._firesTouchEvents(e))return;const i=this._makeCompatEvent(e);this._processMouseEvent(i,this._handler.mouseDownEvent),this._clickTimeoutId||(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),500),this._clickPosition=Rs(e))}_init(){this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));{const e=this._target.ownerDocument,t=e=>{this._handler.mouseDownOutsideEvent&&(e.composed&&this._target.contains(e.composedPath()[0])||e.target&&this._target.contains(e.target)||this._handler.mouseDownOutsideEvent())};this._unsubscribeOutsideTouchEvents=()=>{e.removeEventListener("touchstart",t)},this._unsubscribeOutsideMouseEvents=()=>{e.removeEventListener("mousedown",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0})}fs()&&(this._unsubscribeMobileSafariEvents=()=>{this._target.removeEventListener("dblclick",this._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),_s(this._target),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",(()=>{}),{passive:!1})}_initPinch(){void 0===this._handler.pinchStartEvent&&void 0===this._handler.pinchEvent&&void 0===this._handler.pinchEndEvent||(this._target.addEventListener("touchstart",(e=>this._checkPinchState(e.touches)),{passive:!0}),this._target.addEventListener("touchmove",(e=>{if(2===e.touches.length&&null!==this._startPinchMiddlePoint&&void 0!==this._handler.pinchEvent){const t=Ms(e.touches[0],e.touches[1])/this._startPinchDistance;this._handler.pinchEvent(this._startPinchMiddlePoint,t),Ls(e)}}),{passive:!1}),this._target.addEventListener("touchend",(e=>{this._checkPinchState(e.touches)})))}_checkPinchState(e){1===e.length&&(this._pinchPrevented=!1),2!==e.length||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(e)}_startPinch(e){const t=this._target.getBoundingClientRect()||{left:0,top:0};this._startPinchMiddlePoint={x:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,y:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this._startPinchDistance=Ms(e[0],e[1]),void 0!==this._handler.pinchStartEvent&&this._handler.pinchStartEvent(),this._clearLongTapTimeout()}_stopPinch(){null!==this._startPinchMiddlePoint&&(this._startPinchMiddlePoint=null,void 0!==this._handler.pinchEndEvent&&this._handler.pinchEndEvent())}_mouseLeaveHandler(e){if(this._unsubscribeMousemove&&this._unsubscribeMousemove(),this._firesTouchEvents(e))return;if(!this._acceptMouseLeave)return;const t=this._makeCompatEvent(e);this._processMouseEvent(t,this._handler.mouseLeaveEvent),this._acceptMouseLeave=!fs()}_longTapHandler(e){const t=Is(e.touches,_(this._activeTouchId));if(null===t)return;const i=this._makeCompatEvent(e,t);this._processTouchEvent(i,this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0}_firesTouchEvents(e){return e.sourceCapabilities&&void 0!==e.sourceCapabilities.firesTouchEvents?e.sourceCapabilities.firesTouchEvents:Es(e)<this._lastTouchEventTimeStamp+500}_processTouchEvent(e,t){t&&t.call(this._handler,e)}_processMouseEvent(e,t){t&&t.call(this._handler,e)}_makeCompatEvent(e,t){const i=t||e,s=this._target.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-s.left,localY:i.clientY-s.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,isTouch:!e.type.startsWith("mouse")&&"contextmenu"!==e.type&&"click"!==e.type,srcType:e.type,target:i.target,view:e.view,button:e.button,preventDefault:()=>{"touchstart"!==e.type&&Ls(e)}}}}function Ms(e,t){const i=e.clientX-t.clientX,s=e.clientY-t.clientY;return Math.sqrt(i*i+s*s)}function Ls(e){e.cancelable&&e.preventDefault()}function Rs(e){return{x:e.pageX,y:e.pageY}}function Es(e){return e.timeStamp||performance.now()}function Is(e,t){for(let i=0;i<e.length;++i)if(e[i].identifier===t)return e[i];return null}class Ps{constructor(e,t,i,s){if(this._startY=0,this._deltaY=0,this._totalHeight=0,this._totalStretch=0,this._minPaneHeight=0,this._maxPaneHeight=0,this._pixelStretchFactor=0,this._mouseActive=!1,this._chartWidget=e,this._paneA=e.paneWidgets()[t],this._paneB=e.paneWidgets()[i],this._rowElement=document.createElement("tr"),this._rowElement.style.height="1px",this._cell=document.createElement("td"),this._cell.style.position="relative",this._cell.style.padding="0",this._cell.style.margin="0",this._cell.setAttribute("colspan","3"),this._updateBorderColor(),this._rowElement.appendChild(this._cell),s)this._handle=null,this._mouseEventHandler=null;else{this._handle=document.createElement("div"),this._handle.style.position="absolute",this._handle.style.zIndex="50",this._handle.style.top="-4px",this._handle.style.height="9px",this._handle.style.width="100%",this._handle.style.backgroundColor="",this._handle.style.cursor="row-resize",this._cell.appendChild(this._handle);const e={mouseEnterEvent:this._mouseOverEvent.bind(this),mouseLeaveEvent:this._mouseLeaveEvent.bind(this),mouseDownEvent:this._mouseDownEvent.bind(this),touchStartEvent:this._mouseDownEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),touchMoveEvent:this._pressedMouseMoveEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this),touchEndEvent:this._mouseUpEvent.bind(this)};this._mouseEventHandler=new As(this._handle,e,{treatVertTouchDragAsPageScroll:()=>!1,treatHorzTouchDragAsPageScroll:()=>!0})}}destroy(){null!==this._mouseEventHandler&&this._mouseEventHandler.destroy()}getElement(){return this._rowElement}update(){this._updateBorderColor()}_updateBorderColor(){this._cell.style.background=this._chartWidget.options().timeScale.borderColor}_mouseOverEvent(e){null!==this._handle&&(this._handle.style.backgroundColor="hsla(225,8%,72%,.2)")}_mouseLeaveEvent(e){null===this._handle||this._mouseActive||(this._handle.style.backgroundColor="")}_mouseDownEvent(e){this._startY=e.pageY,this._deltaY=0;const t=this._paneA.getSize().height+this._paneB.getSize().height,i=this._paneA.stretchFactor()+this._paneB.stretchFactor();this._totalHeight=t,this._totalStretch=i,this._minPaneHeight=30,this._maxPaneHeight=t-this._minPaneHeight,this._pixelStretchFactor=i/t;const s=this._totalHeight;this._totalHeight=s}_pressedMouseMoveEvent(e){this._deltaY=e.pageY-this._startY;const t=this._paneA.getSize().height,i=Me(t+this._deltaY,this._minPaneHeight,this._maxPaneHeight)*this._pixelStretchFactor,s=this._totalStretch-i;this._paneA.setStretchFactor(i),this._paneB.setStretchFactor(s),this._chartWidget.adjustSize(),this._paneA.getSize().height!==t&&(this._startY=e.pageY),this._chartWidget.model().fullUpdate()}_mouseUpEvent(e){this._startY=0,this._deltaY=0,this._totalHeight=0,this._totalStretch=0,this._minPaneHeight=0,this._maxPaneHeight=0,this._pixelStretchFactor=0,this._mouseLeaveEvent(e)}}function Fs(e,t){return e.position-t.position}function Ds(e,t,i){const s=(e.position-t.position)/(e.time-t.time);return Math.sign(s)*Math.min(Math.abs(s),i)}!function(e){e[e.MaxStartDelay=50]="MaxStartDelay",e[e.EpsilonDistance=1]="EpsilonDistance"}(xs||(xs={}));class Bs{constructor(e,t,i,s){this._position1=null,this._position2=null,this._position3=null,this._position4=null,this._animationStartPosition=null,this._durationMsecs=0,this._speedPxPerMsec=0,this._minSpeed=e,this._maxSpeed=t,this._dumpingCoeff=i,this._minMove=s}addPosition(e,t){if(null!==this._position1){if(this._position1.time===t)return void(this._position1.position=e);if(Math.abs(this._position1.position-e)<this._minMove)return}this._position4=this._position3,this._position3=this._position2,this._position2=this._position1,this._position1={time:t,position:e}}start(e,t){if(null===this._position1||null===this._position2)return;if(t-this._position1.time>50)return;let i=0;const s=Ds(this._position1,this._position2,this._maxSpeed),a=Fs(this._position1,this._position2),r=[s],n=[a];if(i+=a,null!==this._position3){const e=Ds(this._position2,this._position3,this._maxSpeed);if(Math.sign(e)===Math.sign(s)){const t=Fs(this._position2,this._position3);if(r.push(e),n.push(t),i+=t,null!==this._position4){const e=Ds(this._position3,this._position4,this._maxSpeed);if(Math.sign(e)===Math.sign(s)){const t=Fs(this._position3,this._position4);r.push(e),n.push(t),i+=t}}}}let o=0;for(let l=0;l<r.length;++l)o+=n[l]/i*r[l];Math.abs(o)<this._minSpeed||(this._animationStartPosition={position:e,time:t},this._speedPxPerMsec=o,this._durationMsecs=function(e,t){const i=Math.log(t);return Math.log(1*i/-e)/i}(Math.abs(o),this._dumpingCoeff))}getPosition(e){const t=_(this._animationStartPosition),i=e-t.time;return t.position+this._speedPxPerMsec*(Math.pow(this._dumpingCoeff,i)-1)/Math.log(this._dumpingCoeff)}finished(e){return null===this._animationStartPosition||this._progressDuration(e)===this._durationMsecs}_progressDuration(e){const t=e-_(this._animationStartPosition).time;return Math.min(t,this._durationMsecs)}}function zs(e,t){const i=_(e.ownerDocument).createElement("canvas");e.appendChild(i);const a=(0,s.Dv)(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(e,t)=>({width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)})});return a.resizeCanvasElement(t),a}function Vs(e){var t;e.width=1,e.height=1,null===(t=e.getContext("2d"))||void 0===t||t.clearRect(0,0,1,1)}function Os(e,t,i,s){e.drawBackground&&e.drawBackground(t,i,s)}function Ws(e,t,i,s){e.draw(t,i,s)}function qs(e,t,i,s){const a=e(i,s);for(const r of a){const e=r.renderer(s);null!==e&&t(e)}}function js(e){return{source:e.source,object:{externalId:e.hit.externalId},cursorStyle:e.hit.cursorStyle}}function Us(e,t,i,s){for(const a of e){const e=a.renderer(s);if(null!==e&&e.hitTest){const s=e.hitTest(t,i);if(null!==s)return{view:a,object:s}}}return null}function Ns(e,t){return i=>{var s,a,r,n;return(null!==(a=null===(s=i.priceScale())||void 0===s?void 0:s.id())&&void 0!==a?a:"")!==t?[]:null!==(n=null===(r=i.pricePaneViews)||void 0===r?void 0:r.call(i,e))&&void 0!==n?n:[]}}!function(e){e[e.Default=0]="Default",e[e.NsResize=1]="NsResize"}(ws||(ws={})),function(e){e[e.DefaultOptimalWidth=34]="DefaultOptimalWidth"}(ks||(ks={})),function(e){e[e.LabelOffset=5]="LabelOffset"}(ks||(ks={}));class Hs{constructor(e,t,i,a){this._priceScale=null,this._size=null,this._mousedown=!1,this._widthCache=new ot(200),this._font=null,this._prevOptimalWidth=0,this._isSettingSize=!1,this._canvasSuggestedBitmapSizeChangedHandler=()=>{this._isSettingSize||this._pane.chart().model().lightUpdate()},this._topCanvasSuggestedBitmapSizeChangedHandler=()=>{this._isSettingSize||this._pane.chart().model().lightUpdate()},this._pane=e,this._options=t,this._layoutOptions=t.layout,this._rendererOptionsProvider=i,this._isLeft="left"===a,this._sourcePaneViews=Ns("normal",a),this._sourceTopPaneViews=Ns("top",a),this._sourceBottomPaneViews=Ns("bottom",a),this._cell=document.createElement("div"),this._cell.style.height="100%",this._cell.style.overflow="hidden",this._cell.style.width="25px",this._cell.style.left="0",this._cell.style.position="relative",this._canvasBinding=zs(this._cell,(0,s.Ej)({width:16,height:16})),this._canvasBinding.subscribeSuggestedBitmapSizeChanged(this._canvasSuggestedBitmapSizeChangedHandler);const r=this._canvasBinding.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this._topCanvasBinding=zs(this._cell,(0,s.Ej)({width:16,height:16})),this._topCanvasBinding.subscribeSuggestedBitmapSizeChanged(this._topCanvasSuggestedBitmapSizeChangedHandler);const n=this._topCanvasBinding.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0";const o={mouseDownEvent:this._mouseDownEvent.bind(this),touchStartEvent:this._mouseDownEvent.bind(this),pressedMouseMoveEvent:this._pressedMouseMoveEvent.bind(this),touchMoveEvent:this._pressedMouseMoveEvent.bind(this),mouseDownOutsideEvent:this._mouseDownOutsideEvent.bind(this),mouseUpEvent:this._mouseUpEvent.bind(this),touchEndEvent:this._mouseUpEvent.bind(this),mouseDoubleClickEvent:this._mouseDoubleClickEvent.bind(this),doubleTapEvent:this._mouseDoubleClickEvent.bind(this),mouseEnterEvent:this._mouseEnterEvent.bind(this),mouseLeaveEvent:this._mouseLeaveEvent.bind(this)};this._mouseEventHandler=new As(this._topCanvasBinding.canvasElement,o,{treatVertTouchDragAsPageScroll:()=>!this._options.handleScroll.vertTouchDrag,treatHorzTouchDragAsPageScroll:()=>!0})}destroy(){this._mouseEventHandler.destroy(),this._topCanvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._topCanvasSuggestedBitmapSizeChangedHandler),Vs(this._topCanvasBinding.canvasElement),this._topCanvasBinding.dispose(),this._canvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._canvasSuggestedBitmapSizeChangedHandler),Vs(this._canvasBinding.canvasElement),this._canvasBinding.dispose(),null!==this._priceScale&&this._priceScale.onMarksChanged().unsubscribeAll(this),this._priceScale=null}getElement(){return this._cell}fontSize(){return this._layoutOptions.fontSize}rendererOptions(){const e=this._rendererOptionsProvider.options();return this._font!==e.font&&(this._widthCache.reset(),this._font=e.font),e}optimalWidth(){if(null===this._priceScale)return 0;let e=0;const t=this.rendererOptions(),i=_(this._canvasBinding.canvasElement.getContext("2d"));i.save();const s=this._priceScale.marks();i.font=this._baseFont(),s.length>0&&(e=Math.max(this._widthCache.measureText(i,s[0].label),this._widthCache.measureText(i,s[s.length-1].label)));const a=this._backLabels();for(let o=a.length;o--;){const t=this._widthCache.measureText(i,a[o].text());t>e&&(e=t)}const r=this._priceScale.firstValue();if(null!==r&&null!==this._size){const t=this._priceScale.coordinateToPrice(1,r),s=this._priceScale.coordinateToPrice(this._size.height-2,r);e=Math.max(e,this._widthCache.measureText(i,this._priceScale.formatPrice(Math.floor(Math.min(t,s))+.11111111111111,r)),this._widthCache.measureText(i,this._priceScale.formatPrice(Math.ceil(Math.max(t,s))-.11111111111111,r)))}i.restore();const n=e||34;return bs(Math.ceil(t.borderSize+t.tickLength+t.paddingInner+t.paddingOuter+5+n))}setSize(e){null!==this._size&&(0,s.zE)(this._size,e)||(this._size=e,this._isSettingSize=!0,this._canvasBinding.resizeCanvasElement(e),this._topCanvasBinding.resizeCanvasElement(e),this._isSettingSize=!1,this._cell.style.width=`${e.width}px`,this._cell.style.height=`${e.height}px`)}getWidth(){return _(this._size).width}setPriceScale(e){this._priceScale!==e&&(null!==this._priceScale&&this._priceScale.onMarksChanged().unsubscribeAll(this),this._priceScale=e,e.onMarksChanged().subscribe(this._onMarksChanged.bind(this),this))}priceScale(){return this._priceScale}reset(){const e=this._pane.state();this._pane.chart().model().resetPriceScale(e,_(this.priceScale()))}paint(e){if(null===this._size)return;if(1!==e){this._alignLabels(),this._canvasBinding.applySuggestedBitmapSize();const e=(0,s.vb)(this._canvasBinding);null!==e&&(e.useBitmapCoordinateSpace((e=>{this._drawBackground(e),this._drawBorder(e)})),this._pane.drawAdditionalSources(e,this._sourceBottomPaneViews),this._drawTickMarks(e),this._pane.drawAdditionalSources(e,this._sourcePaneViews),this._drawBackLabels(e))}this._topCanvasBinding.applySuggestedBitmapSize();const t=(0,s.vb)(this._topCanvasBinding);null!==t&&(t.useBitmapCoordinateSpace((({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)})),this._drawCrosshairLabel(t),this._pane.drawAdditionalSources(t,this._sourceTopPaneViews))}getBitmapSize(){return this._canvasBinding.bitmapSize}drawBitmap(e,t,i){const s=this.getBitmapSize();s.width>0&&s.height>0&&e.drawImage(this._canvasBinding.canvasElement,t,i)}update(){var e;null===(e=this._priceScale)||void 0===e||e.marks()}_mouseDownEvent(e){if(null===this._priceScale||this._priceScale.isEmpty()||!this._options.handleScale.axisPressedMouseMove.price)return;const t=this._pane.chart().model(),i=this._pane.state();this._mousedown=!0,t.startScalePrice(i,this._priceScale,e.localY)}_pressedMouseMoveEvent(e){if(null===this._priceScale||!this._options.handleScale.axisPressedMouseMove.price)return;const t=this._pane.chart().model(),i=this._pane.state(),s=this._priceScale;t.scalePriceTo(i,s,e.localY)}_mouseDownOutsideEvent(){if(null===this._priceScale||!this._options.handleScale.axisPressedMouseMove.price)return;const e=this._pane.chart().model(),t=this._pane.state(),i=this._priceScale;this._mousedown&&(this._mousedown=!1,e.endScalePrice(t,i))}_mouseUpEvent(e){if(null===this._priceScale||!this._options.handleScale.axisPressedMouseMove.price)return;const t=this._pane.chart().model(),i=this._pane.state();this._mousedown=!1,t.endScalePrice(i,this._priceScale)}_mouseDoubleClickEvent(e){this._options.handleScale.axisDoubleClickReset.price&&this.reset()}_mouseEnterEvent(e){null!==this._priceScale&&(!this._pane.chart().model().options().handleScale.axisPressedMouseMove.price||this._priceScale.isPercentage()||this._priceScale.isIndexedTo100()||this._setCursor(1))}_mouseLeaveEvent(e){this._setCursor(0)}_backLabels(){const e=[],t=null===this._priceScale?void 0:this._priceScale;return(i=>{for(let s=0;s<i.length;++s){const a=i[s].priceAxisViews(this._pane.state(),t);for(let t=0;t<a.length;t++)e.push(a[t])}})(this._pane.state().orderedSources()),e}_drawBackground({context:e,bitmapSize:t}){const{width:i,height:s}=t,a=this._pane.state().model(),r=a.backgroundTopColor(),n=a.backgroundBottomColor();r===n?J(e,0,0,i,s,r):te(e,0,0,i,s,r,n)}_drawBorder({context:e,bitmapSize:t,horizontalPixelRatio:i}){if(null===this._size||null===this._priceScale||!this._priceScale.options().borderVisible)return;e.fillStyle=this._priceScale.options().borderColor;const s=Math.max(1,Math.floor(this.rendererOptions().borderSize*i));let a;a=this._isLeft?t.width-s:0,e.fillRect(a,0,s,t.height)}_drawTickMarks(e){if(null===this._size||null===this._priceScale)return;const t=this._priceScale.marks(),i=this._priceScale.options(),s=this.rendererOptions(),a=this._isLeft?this._size.width-s.tickLength:0;i.borderVisible&&i.ticksVisible&&e.useBitmapCoordinateSpace((({context:e,horizontalPixelRatio:r,verticalPixelRatio:n})=>{e.fillStyle=i.borderColor;const o=Math.max(1,Math.floor(n)),l=Math.floor(.5*n),c=Math.round(s.tickLength*r);e.beginPath();for(const i of t)e.rect(Math.floor(a*r),Math.round(i.coord*n)-l,c,o);e.fill()})),e.useMediaCoordinateSpace((({context:e})=>{var r;e.font=this._baseFont(),e.fillStyle=null!==(r=i.textColor)&&void 0!==r?r:this._layoutOptions.textColor,e.textAlign=this._isLeft?"right":"left",e.textBaseline="middle";const n=this._isLeft?Math.round(a-s.paddingInner):Math.round(a+s.tickLength+s.paddingInner),o=t.map((t=>this._widthCache.yMidCorrection(e,t.label)));for(let i=t.length;i--;){const s=t[i];e.fillText(s.label,n,s.coord+o[i])}}))}_alignLabels(){if(null===this._size||null===this._priceScale)return;let e=this._size.height/2;const t=[],i=this._priceScale.orderedSources().slice(),s=this._pane.state(),a=this.rendererOptions();this._priceScale===s.defaultVisiblePriceScale()&&this._pane.state().orderedSources().forEach((e=>{s.isOverlay(e)&&i.push(e)}));const r=this._priceScale.dataSources()[0],n=this._priceScale;i.forEach((i=>{const a=i.priceAxisViews(s,n);a.forEach((e=>{e.setFixedCoordinate(null),e.isVisible()&&t.push(e)})),r===i&&a.length>0&&(e=a[0].coordinate())})),t.forEach((e=>e.setFixedCoordinate(e.coordinate()))),this._priceScale.options().alignLabels&&this._fixLabelOverlap(t,a,e)}_fixLabelOverlap(e,t,i){if(null===this._size)return;const s=e.filter((e=>e.coordinate()<=i)),a=e.filter((e=>e.coordinate()>i));s.sort(((e,t)=>t.coordinate()-e.coordinate())),s.length&&a.length&&a.push(s[0]),a.sort(((e,t)=>e.coordinate()-t.coordinate()));for(const r of e){const e=Math.floor(r.height(t)/2),i=r.coordinate();i>-e&&i<e&&r.setFixedCoordinate(e),i>this._size.height-e&&i<this._size.height+e&&r.setFixedCoordinate(this._size.height-e)}for(let r=1;r<s.length;r++){const e=s[r],i=s[r-1],a=i.height(t,!1),n=e.coordinate(),o=i.getFixedCoordinate();n>o-a&&e.setFixedCoordinate(o-a)}for(let r=1;r<a.length;r++){const e=a[r],i=a[r-1],s=i.height(t,!0),n=e.coordinate(),o=i.getFixedCoordinate();n<o+s&&e.setFixedCoordinate(o+s)}}_drawBackLabels(e){if(null===this._size)return;const t=this._backLabels(),i=this.rendererOptions(),s=this._isLeft?"right":"left";t.forEach((t=>{t.isAxisLabelVisible()&&t.renderer(_(this._priceScale)).draw(e,i,this._widthCache,s)}))}_drawCrosshairLabel(e){if(null===this._size||null===this._priceScale)return;const t=this._pane.chart().model(),i=[],s=this._pane.state(),a=t.crosshairSource().priceAxisViews(s,this._priceScale);a.length&&i.push(a);const r=this.rendererOptions(),n=this._isLeft?"right":"left";i.forEach((t=>{t.forEach((t=>{t.renderer(_(this._priceScale)).draw(e,r,this._widthCache,n)}))}))}_setCursor(e){this._cell.style.cursor=1===e?"ns-resize":"default"}_onMarksChanged(){const e=this.optimalWidth();this._prevOptimalWidth<e&&this._pane.chart().model().fullUpdate(),this._prevOptimalWidth=e}_baseFont(){return O(this._layoutOptions.fontSize,this._layoutOptions.fontFamily)}}function Xs(e,t){var i,s;return null!==(s=null===(i=e.bottomPaneViews)||void 0===i?void 0:i.call(e,t))&&void 0!==s?s:[]}function $s(e,t){var i,s;return null!==(s=null===(i=e.paneViews)||void 0===i?void 0:i.call(e,t))&&void 0!==s?s:[]}function Qs(e,t){var i,s;return null!==(s=null===(i=e.labelPaneViews)||void 0===i?void 0:i.call(e,t))&&void 0!==s?s:[]}function Ks(e,t){var i,s;return null!==(s=null===(i=e.topPaneViews)||void 0===i?void 0:i.call(e,t))&&void 0!==s?s:[]}!function(e){e[e.MinScrollSpeed=.2]="MinScrollSpeed",e[e.MaxScrollSpeed=7]="MaxScrollSpeed",e[e.DumpingCoeff=.997]="DumpingCoeff",e[e.ScrollMinMove=15]="ScrollMinMove"}(Cs||(Cs={}));class Gs{constructor(e,t){this._size=(0,s.Ej)({width:0,height:0}),this._leftPriceAxisWidget=null,this._rightPriceAxisWidget=null,this._startScrollingPos=null,this._isScrolling=!1,this._prevPinchScale=0,this._clicked=new L,this._dblClicked=new L,this._longTap=!1,this._startTrackPoint=null,this._exitTrackingModeOnNextTry=!1,this._initCrosshairPosition=null,this._scrollXAnimation=null,this._isSettingSize=!1,this._canvasSuggestedBitmapSizeChangedHandler=()=>{this._isSettingSize||null===this._state||this._model().lightUpdate()},this._topCanvasSuggestedBitmapSizeChangedHandler=()=>{this._isSettingSize||null===this._state||this._model().lightUpdate()},this._chart=e,this._state=t,this._state.onDestroyed().subscribe(this._onStateDestroyed.bind(this),this,!0),this._paneCell=document.createElement("td"),this._paneCell.style.padding="0",this._paneCell.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this._leftAxisCell=document.createElement("td"),this._leftAxisCell.style.padding="0",this._rightAxisCell=document.createElement("td"),this._rightAxisCell.style.padding="0",this._paneCell.appendChild(i),this._canvasBinding=zs(i,(0,s.Ej)({width:16,height:16})),this._canvasBinding.subscribeSuggestedBitmapSizeChanged(this._canvasSuggestedBitmapSizeChangedHandler);const a=this._canvasBinding.canvasElement;a.style.position="absolute",a.style.zIndex="1",a.style.left="0",a.style.top="0",this._topCanvasBinding=zs(i,(0,s.Ej)({width:16,height:16})),this._topCanvasBinding.subscribeSuggestedBitmapSizeChanged(this._topCanvasSuggestedBitmapSizeChangedHandler);const r=this._topCanvasBinding.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this._rowElement=document.createElement("tr"),this._rowElement.appendChild(this._leftAxisCell),this._rowElement.appendChild(this._paneCell),this._rowElement.appendChild(this._rightAxisCell),this.updatePriceAxisWidgetsStates(),this._mouseEventHandler=new As(this._topCanvasBinding.canvasElement,this,{treatVertTouchDragAsPageScroll:()=>null===this._startTrackPoint&&!this._chart.options().handleScroll.vertTouchDrag,treatHorzTouchDragAsPageScroll:()=>null===this._startTrackPoint&&!this._chart.options().handleScroll.horzTouchDrag})}destroy(){null!==this._leftPriceAxisWidget&&this._leftPriceAxisWidget.destroy(),null!==this._rightPriceAxisWidget&&this._rightPriceAxisWidget.destroy(),this._topCanvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._topCanvasSuggestedBitmapSizeChangedHandler),Vs(this._topCanvasBinding.canvasElement),this._topCanvasBinding.dispose(),this._canvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._canvasSuggestedBitmapSizeChangedHandler),Vs(this._canvasBinding.canvasElement),this._canvasBinding.dispose(),null!==this._state&&this._state.onDestroyed().unsubscribeAll(this),this._mouseEventHandler.destroy()}state(){return _(this._state)}setState(e){null!==this._state&&this._state.onDestroyed().unsubscribeAll(this),this._state=e,null!==this._state&&this._state.onDestroyed().subscribe(Gs.prototype._onStateDestroyed.bind(this),this,!0),this.updatePriceAxisWidgetsStates()}chart(){return this._chart}getElement(){return this._rowElement}updatePriceAxisWidgetsStates(){if(null!==this._state&&(this._recreatePriceAxisWidgets(),0!==this._model().serieses().length)){if(null!==this._leftPriceAxisWidget){const e=this._state.leftPriceScale();this._leftPriceAxisWidget.setPriceScale(_(e))}if(null!==this._rightPriceAxisWidget){const e=this._state.rightPriceScale();this._rightPriceAxisWidget.setPriceScale(_(e))}}}updatePriceAxisWidgets(){null!==this._leftPriceAxisWidget&&this._leftPriceAxisWidget.update(),null!==this._rightPriceAxisWidget&&this._rightPriceAxisWidget.update()}stretchFactor(){return null!==this._state?this._state.stretchFactor():0}setStretchFactor(e){this._state&&this._state.setStretchFactor(e)}mouseEnterEvent(e){if(!this._state)return;this._onMouseEvent();const t=e.localX,i=e.localY;this._setCrosshairPosition(t,i,e)}mouseDownEvent(e){this._onMouseEvent(),this._mouseTouchDownEvent(),this._setCrosshairPosition(e.localX,e.localY,e)}mouseMoveEvent(e){var t;if(!this._state)return;this._onMouseEvent();const i=e.localX,s=e.localY;this._setCrosshairPosition(i,s,e);const a=this.hitTest(i,s);this._chart.setCursorStyle(null!==(t=null==a?void 0:a.cursorStyle)&&void 0!==t?t:null),this._model().setHoveredSource(a&&{source:a.source,object:a.object})}mouseClickEvent(e){null!==this._state&&(this._onMouseEvent(),this._fireClickedDelegate(e))}mouseDoubleClickEvent(e){null!==this._state&&this._fireMouseClickDelegate(this._dblClicked,e)}doubleTapEvent(e){this.mouseDoubleClickEvent(e)}pressedMouseMoveEvent(e){this._onMouseEvent(),this._pressedMouseTouchMoveEvent(e),this._setCrosshairPosition(e.localX,e.localY,e)}mouseUpEvent(e){null!==this._state&&(this._onMouseEvent(),this._longTap=!1,this._endScroll(e))}tapEvent(e){null!==this._state&&this._fireClickedDelegate(e)}longTapEvent(e){if(this._longTap=!0,null===this._startTrackPoint){const t={x:e.localX,y:e.localY};this._startTrackingMode(t,t,e)}}mouseLeaveEvent(e){null!==this._state&&(this._onMouseEvent(),this._state.model().setHoveredSource(null),this._clearCrosshairPosition())}clicked(){return this._clicked}dblClicked(){return this._dblClicked}pinchStartEvent(){this._prevPinchScale=1,this._model().stopTimeScaleAnimation()}pinchEvent(e,t){if(!this._chart.options().handleScale.pinch)return;const i=5*(t-this._prevPinchScale);this._prevPinchScale=t,this._model().zoomTime(e.x,i)}touchStartEvent(e){this._longTap=!1,this._exitTrackingModeOnNextTry=null!==this._startTrackPoint,this._mouseTouchDownEvent();const t=this._model().crosshairSource();null!==this._startTrackPoint&&t.visible()&&(this._initCrosshairPosition={x:t.appliedX(),y:t.appliedY()},this._startTrackPoint={x:e.localX,y:e.localY})}touchMoveEvent(e){if(null===this._state)return;const t=e.localX,i=e.localY;if(null===this._startTrackPoint)this._pressedMouseTouchMoveEvent(e);else{this._exitTrackingModeOnNextTry=!1;const s=_(this._initCrosshairPosition),a=s.x+(t-this._startTrackPoint.x),r=s.y+(i-this._startTrackPoint.y);this._setCrosshairPosition(a,r,e)}}touchEndEvent(e){0===this.chart().options().trackingMode.exitMode&&(this._exitTrackingModeOnNextTry=!0),this._tryExitTrackingMode(),this._endScroll(e)}hitTest(e,t){const i=this._state;return null===i?null:function(e,t,i){const s=e.orderedSources(),a=function(e,t,i){var s,a;let r,n;for(const c of e){const e=null!==(a=null===(s=c.primitiveHitTest)||void 0===s?void 0:s.call(c,t,i))&&void 0!==a?a:[];for(const t of e)o=t.zOrder,(!(l=null==r?void 0:r.zOrder)||"top"===o&&"top"!==l||"normal"===o&&"bottom"===l)&&(r=t,n=c)}var o,l;return r&&n?{hit:r,source:n}:null}(s,t,i);if("top"===(null==a?void 0:a.hit.zOrder))return js(a);for(const r of s){if(a&&a.source===r&&"bottom"!==a.hit.zOrder&&!a.hit.isBackground)return js(a);const s=Us(r.paneViews(e),t,i,e);if(null!==s)return{source:r,view:s.view,object:s.object};if(a&&a.source===r&&"bottom"!==a.hit.zOrder&&a.hit.isBackground)return js(a)}return(null==a?void 0:a.hit)?js(a):null}(i,e,t)}setPriceAxisSize(e,t){_("left"===t?this._leftPriceAxisWidget:this._rightPriceAxisWidget).setSize((0,s.Ej)({width:e,height:this._size.height}))}getSize(){return this._size}setSize(e){(0,s.zE)(this._size,e)||(this._size=e,this._isSettingSize=!0,this._canvasBinding.resizeCanvasElement(e),this._topCanvasBinding.resizeCanvasElement(e),this._isSettingSize=!1,this._paneCell.style.width=e.width+"px",this._paneCell.style.height=e.height+"px")}recalculatePriceScales(){const e=_(this._state);e.recalculatePriceScale(e.leftPriceScale()),e.recalculatePriceScale(e.rightPriceScale());for(const t of e.dataSources())if(e.isOverlay(t)){const i=t.priceScale();null!==i&&e.recalculatePriceScale(i),t.updateAllViews()}}getBitmapSize(){return this._canvasBinding.bitmapSize}drawBitmap(e,t,i){const s=this.getBitmapSize();s.width>0&&s.height>0&&e.drawImage(this._canvasBinding.canvasElement,t,i)}paint(e){if(0===e)return;if(null===this._state)return;if(e>1&&this.recalculatePriceScales(),null!==this._leftPriceAxisWidget&&this._leftPriceAxisWidget.paint(e),null!==this._rightPriceAxisWidget&&this._rightPriceAxisWidget.paint(e),1!==e){this._canvasBinding.applySuggestedBitmapSize();const e=(0,s.vb)(this._canvasBinding);null!==e&&(e.useBitmapCoordinateSpace((e=>{this._drawBackground(e)})),this._state&&(this._drawSources(e,Xs),this._drawGrid(e),this._drawWatermark(e),this._drawSources(e,$s),this._drawSources(e,Qs)))}this._topCanvasBinding.applySuggestedBitmapSize();const t=(0,s.vb)(this._topCanvasBinding);null!==t&&(t.useBitmapCoordinateSpace((({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)})),this._drawCrosshair(t),this._drawSources(t,Ks))}leftPriceAxisWidget(){return this._leftPriceAxisWidget}getPaneCell(){return this._paneCell}rightPriceAxisWidget(){return this._rightPriceAxisWidget}drawAdditionalSources(e,t){this._drawSources(e,t)}_onStateDestroyed(){null!==this._state&&this._state.onDestroyed().unsubscribeAll(this),this._state=null}_fireClickedDelegate(e){this._fireMouseClickDelegate(this._clicked,e)}_fireMouseClickDelegate(e,t){const i=t.localX,s=t.localY;if(this._clicked.hasListeners()){const e=this._model().getPaneIndex(_(this._state));this._clicked.fire(this._model().timeScale().coordinateToIndex(i),{x:i,y:s,paneIndex:e},t)}}_drawBackground({context:e,bitmapSize:t}){const{width:i,height:s}=t,a=this._model(),r=a.backgroundTopColor(),n=a.backgroundBottomColor();r===n?J(e,0,0,i,s,n):te(e,0,0,i,s,r,n)}_drawGrid(e){const t=_(this._state),i=t.grid().paneView().renderer(t);null!==i&&i.draw(e,!1)}_drawWatermark(e){const t=this._model().watermarkSource();this._drawSourceImpl(e,$s,Os,t),this._drawSourceImpl(e,$s,Ws,t)}_drawCrosshair(e){this._drawSourceImpl(e,$s,Ws,this._model().crosshairSource())}_drawSources(e,t){const i=_(this._state).orderedSources();for(const s of i)this._drawSourceImpl(e,t,Os,s);for(const s of i)this._drawSourceImpl(e,t,Ws,s)}_drawSourceImpl(e,t,i,s){const a=_(this._state),r=t(s,a),n=a.model().hoveredSource(),o=null!==n&&n.source===s,l=null!==n&&o&&void 0!==n.object?n.object.hitTestData:void 0;for(const c of r){const t=c.renderer(a);null!==t&&i(t,e,o,l)}}_recreatePriceAxisWidgets(){if(null===this._state)return;const e=this._chart,t=this._state.leftPriceScale().options().visible,i=this._state.rightPriceScale().options().visible;t||null===this._leftPriceAxisWidget||(this._leftAxisCell.removeChild(this._leftPriceAxisWidget.getElement()),this._leftPriceAxisWidget.destroy(),this._leftPriceAxisWidget=null),i||null===this._rightPriceAxisWidget||(this._rightAxisCell.removeChild(this._rightPriceAxisWidget.getElement()),this._rightPriceAxisWidget.destroy(),this._rightPriceAxisWidget=null);const s=e.model().rendererOptionsProvider();t&&null===this._leftPriceAxisWidget&&(this._leftPriceAxisWidget=new Hs(this,e.options(),s,"left"),this._leftAxisCell.appendChild(this._leftPriceAxisWidget.getElement())),i&&null===this._rightPriceAxisWidget&&(this._rightPriceAxisWidget=new Hs(this,e.options(),s,"right"),this._rightAxisCell.appendChild(this._rightPriceAxisWidget.getElement()))}_preventScroll(e){return e.isTouch&&this._longTap||null!==this._startTrackPoint}_correctXCoord(e){return Math.max(0,Math.min(e,this._size.width-1))}_correctYCoord(e){return Math.max(0,Math.min(e,this._size.height-1))}_setCrosshairPosition(e,t,i){this._model().setAndSaveCurrentPosition(this._correctXCoord(e),this._correctYCoord(t),i,_(this._state))}_clearCrosshairPosition(){this._model().clearCurrentPosition()}_tryExitTrackingMode(){this._exitTrackingModeOnNextTry&&(this._startTrackPoint=null,this._clearCrosshairPosition())}_startTrackingMode(e,t,i){this._startTrackPoint=e,this._exitTrackingModeOnNextTry=!1,this._setCrosshairPosition(t.x,t.y,i);const s=this._model().crosshairSource();this._initCrosshairPosition={x:s.appliedX(),y:s.appliedY()}}_model(){return this._chart.model()}_endScroll(e){if(!this._isScrolling)return;const t=this._model(),i=this.state();if(t.endScrollPrice(i,i.defaultPriceScale()),this._startScrollingPos=null,this._isScrolling=!1,t.endScrollTime(),null!==this._scrollXAnimation){const e=performance.now(),i=t.timeScale();this._scrollXAnimation.start(i.rightOffset(),e),this._scrollXAnimation.finished(e)||t.setTimeScaleAnimation(this._scrollXAnimation)}}_onMouseEvent(){this._startTrackPoint=null}_mouseTouchDownEvent(){if(this._state){if(this._model().stopTimeScaleAnimation(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)_(document.activeElement).blur();else{const e=document.getSelection();null!==e&&e.removeAllRanges()}!this._state.defaultPriceScale().isEmpty()&&this._model().timeScale().isEmpty()}}_pressedMouseTouchMoveEvent(e){if(null===this._state)return;const t=this._model(),i=t.timeScale();if(i.isEmpty())return;const s=this._chart.options(),a=s.handleScroll,r=s.kineticScroll;if((!a.pressedMouseMove||e.isTouch)&&(!a.horzTouchDrag&&!a.vertTouchDrag||!e.isTouch))return;const n=this._state.defaultPriceScale(),o=performance.now();if(null!==this._startScrollingPos||this._preventScroll(e)||(this._startScrollingPos={x:e.clientX,y:e.clientY,timestamp:o,localX:e.localX,localY:e.localY}),null!==this._startScrollingPos&&!this._isScrolling&&(this._startScrollingPos.x!==e.clientX||this._startScrollingPos.y!==e.clientY)){if(e.isTouch&&r.touch||!e.isTouch&&r.mouse){const e=i.barSpacing();this._scrollXAnimation=new Bs(.2/e,7/e,.997,15/e),this._scrollXAnimation.addPosition(i.rightOffset(),this._startScrollingPos.timestamp)}else this._scrollXAnimation=null;n.isEmpty()||t.startScrollPrice(this._state,n,e.localY),t.startScrollTime(e.localX),this._isScrolling=!0}this._isScrolling&&(n.isEmpty()||t.scrollPriceTo(this._state,n,e.localY),t.scrollTimeTo(e.localX),null!==this._scrollXAnimation&&this._scrollXAnimation.addPosition(i.rightOffset(),o))}}class Js{constructor(e,t,i,a,r){this._invalidated=!0,this._size=(0,s.Ej)({width:0,height:0}),this._canvasSuggestedBitmapSizeChangedHandler=()=>this.paint(3),this._isLeft="left"===e,this._rendererOptionsProvider=i.rendererOptionsProvider,this._options=t,this._borderVisible=a,this._bottomColor=r,this._cell=document.createElement("div"),this._cell.style.width="25px",this._cell.style.height="100%",this._cell.style.overflow="hidden",this._canvasBinding=zs(this._cell,(0,s.Ej)({width:16,height:16})),this._canvasBinding.subscribeSuggestedBitmapSizeChanged(this._canvasSuggestedBitmapSizeChangedHandler)}destroy(){this._canvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._canvasSuggestedBitmapSizeChangedHandler),Vs(this._canvasBinding.canvasElement),this._canvasBinding.dispose()}getElement(){return this._cell}getSize(){return this._size}setSize(e){(0,s.zE)(this._size,e)||(this._size=e,this._canvasBinding.resizeCanvasElement(e),this._cell.style.width=`${e.width}px`,this._cell.style.height=`${e.height}px`,this._invalidated=!0)}paint(e){if(e<3&&!this._invalidated)return;if(0===this._size.width||0===this._size.height)return;this._invalidated=!1,this._canvasBinding.applySuggestedBitmapSize();const t=(0,s.vb)(this._canvasBinding);null!==t&&t.useBitmapCoordinateSpace((e=>{this._drawBackground(e),this._drawBorder(e)}))}getBitmapSize(){return this._canvasBinding.bitmapSize}drawBitmap(e,t,i){const s=this.getBitmapSize();s.width>0&&s.height>0&&e.drawImage(this._canvasBinding.canvasElement,t,i)}_drawBorder({context:e,bitmapSize:t,horizontalPixelRatio:i,verticalPixelRatio:s}){if(!this._borderVisible())return;e.fillStyle=this._options.timeScale.borderColor;const a=Math.floor(this._rendererOptionsProvider.options().borderSize*i),r=Math.floor(this._rendererOptionsProvider.options().borderSize*s),n=this._isLeft?t.width-a:0;e.fillRect(n,0,a,r)}_drawBackground({context:e,bitmapSize:t}){J(e,0,0,t.width,t.height,this._bottomColor())}}function Ys(e){return t=>{var i,s;return null!==(s=null===(i=t.timePaneViews)||void 0===i?void 0:i.call(t,e))&&void 0!==s?s:[]}}!function(e){e[e.BorderSize=1]="BorderSize",e[e.TickLength=5]="TickLength"}(Ss||(Ss={})),function(e){e[e.Default=0]="Default",e[e.EwResize=1]="EwResize"}(Ts||(Ts={}));const Zs=Ys("normal"),ea=Ys("top"),ta=Ys("bottom");class ia{constructor(e,t){this._leftStub=null,this._rightStub=null,this._rendererOptions=null,this._mouseDown=!1,this._size=(0,s.Ej)({width:0,height:0}),this._sizeChanged=new L,this._widthCache=new ot(5),this._isSettingSize=!1,this._canvasSuggestedBitmapSizeChangedHandler=()=>{this._isSettingSize||this._chart.model().lightUpdate()},this._topCanvasSuggestedBitmapSizeChangedHandler=()=>{this._isSettingSize||this._chart.model().lightUpdate()},this._chart=e,this._horzScaleBehavior=t,this._options=e.options().layout,this._element=document.createElement("tr"),this._leftStubCell=document.createElement("td"),this._leftStubCell.style.padding="0",this._rightStubCell=document.createElement("td"),this._rightStubCell.style.padding="0",this._cell=document.createElement("td"),this._cell.style.height="25px",this._cell.style.padding="0",this._dv=document.createElement("div"),this._dv.style.width="100%",this._dv.style.height="100%",this._dv.style.position="relative",this._dv.style.overflow="hidden",this._cell.appendChild(this._dv),this._canvasBinding=zs(this._dv,(0,s.Ej)({width:16,height:16})),this._canvasBinding.subscribeSuggestedBitmapSizeChanged(this._canvasSuggestedBitmapSizeChangedHandler);const i=this._canvasBinding.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this._topCanvasBinding=zs(this._dv,(0,s.Ej)({width:16,height:16})),this._topCanvasBinding.subscribeSuggestedBitmapSizeChanged(this._topCanvasSuggestedBitmapSizeChangedHandler);const a=this._topCanvasBinding.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0",this._element.appendChild(this._leftStubCell),this._element.appendChild(this._cell),this._element.appendChild(this._rightStubCell),this._recreateStubs(),this._chart.model().priceScalesOptionsChanged().subscribe(this._recreateStubs.bind(this),this),this._mouseEventHandler=new As(this._topCanvasBinding.canvasElement,this,{treatVertTouchDragAsPageScroll:()=>!0,treatHorzTouchDragAsPageScroll:()=>!this._chart.options().handleScroll.horzTouchDrag})}destroy(){this._mouseEventHandler.destroy(),null!==this._leftStub&&this._leftStub.destroy(),null!==this._rightStub&&this._rightStub.destroy(),this._topCanvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._topCanvasSuggestedBitmapSizeChangedHandler),Vs(this._topCanvasBinding.canvasElement),this._topCanvasBinding.dispose(),this._canvasBinding.unsubscribeSuggestedBitmapSizeChanged(this._canvasSuggestedBitmapSizeChangedHandler),Vs(this._canvasBinding.canvasElement),this._canvasBinding.dispose()}getElement(){return this._element}leftStub(){return this._leftStub}rightStub(){return this._rightStub}mouseDownEvent(e){if(this._mouseDown)return;this._mouseDown=!0;const t=this._chart.model();!t.timeScale().isEmpty()&&this._chart.options().handleScale.axisPressedMouseMove.time&&t.startScaleTime(e.localX)}touchStartEvent(e){this.mouseDownEvent(e)}mouseDownOutsideEvent(){const e=this._chart.model();!e.timeScale().isEmpty()&&this._mouseDown&&(this._mouseDown=!1,this._chart.options().handleScale.axisPressedMouseMove.time&&e.endScaleTime())}pressedMouseMoveEvent(e){const t=this._chart.model();!t.timeScale().isEmpty()&&this._chart.options().handleScale.axisPressedMouseMove.time&&t.scaleTimeTo(e.localX)}touchMoveEvent(e){this.pressedMouseMoveEvent(e)}mouseUpEvent(){this._mouseDown=!1;const e=this._chart.model();e.timeScale().isEmpty()&&!this._chart.options().handleScale.axisPressedMouseMove.time||e.endScaleTime()}touchEndEvent(){this.mouseUpEvent()}mouseDoubleClickEvent(){this._chart.options().handleScale.axisDoubleClickReset.time&&this._chart.model().resetTimeScale()}doubleTapEvent(){this.mouseDoubleClickEvent()}mouseEnterEvent(){this._chart.model().options().handleScale.axisPressedMouseMove.time&&this._setCursor(1)}mouseLeaveEvent(){this._setCursor(0)}getSize(){return this._size}sizeChanged(){return this._sizeChanged}setSizes(e,t,i){(0,s.zE)(this._size,e)||(this._size=e,this._isSettingSize=!0,this._canvasBinding.resizeCanvasElement(e),this._topCanvasBinding.resizeCanvasElement(e),this._isSettingSize=!1,this._cell.style.width=`${e.width}px`,this._cell.style.height=`${e.height}px`,this._sizeChanged.fire(e)),null!==this._leftStub&&this._leftStub.setSize((0,s.Ej)({width:t,height:e.height})),null!==this._rightStub&&this._rightStub.setSize((0,s.Ej)({width:i,height:e.height}))}optimalHeight(){const e=this._getRendererOptions();return Math.ceil(e.borderSize+e.tickLength+e.fontSize+e.paddingTop+e.paddingBottom+e.labelBottomOffset)}update(){this._chart.model().timeScale().marks()}getBitmapSize(){return this._canvasBinding.bitmapSize}drawBitmap(e,t,i){const s=this.getBitmapSize();s.width>0&&s.height>0&&e.drawImage(this._canvasBinding.canvasElement,t,i)}paint(e){if(0===e)return;if(1!==e){this._canvasBinding.applySuggestedBitmapSize();const t=(0,s.vb)(this._canvasBinding);null!==t&&(t.useBitmapCoordinateSpace((e=>{this._drawBackground(e),this._drawBorder(e),this._drawAdditionalSources(t,ta)})),this._drawTickMarks(t),this._drawAdditionalSources(t,Zs)),null!==this._leftStub&&this._leftStub.paint(e),null!==this._rightStub&&this._rightStub.paint(e)}this._topCanvasBinding.applySuggestedBitmapSize();const t=(0,s.vb)(this._topCanvasBinding);null!==t&&(t.useBitmapCoordinateSpace((({context:e,bitmapSize:t})=>{e.clearRect(0,0,t.width,t.height)})),this._drawLabels([...this._chart.model().serieses(),this._chart.model().crosshairSource()],t),this._drawAdditionalSources(t,ea))}_drawAdditionalSources(e,t){const i=this._chart.model().serieses();for(const s of i)qs(t,(t=>Os(t,e,!1,void 0)),s,void 0);for(const s of i)qs(t,(t=>Ws(t,e,!1,void 0)),s,void 0)}_drawBackground({context:e,bitmapSize:t}){J(e,0,0,t.width,t.height,this._chart.model().backgroundBottomColor())}_drawBorder({context:e,bitmapSize:t,verticalPixelRatio:i}){if(this._chart.options().timeScale.borderVisible){e.fillStyle=this._lineColor();const s=Math.max(1,Math.floor(this._getRendererOptions().borderSize*i));e.fillRect(0,0,t.width,s)}}_drawTickMarks(e){const t=this._chart.model().timeScale(),i=t.marks();if(!i||0===i.length)return;const s=this._horzScaleBehavior.maxTickMarkWeight(i),a=this._getRendererOptions(),r=t.options();r.borderVisible&&r.ticksVisible&&e.useBitmapCoordinateSpace((({context:e,horizontalPixelRatio:t,verticalPixelRatio:s})=>{e.strokeStyle=this._lineColor(),e.fillStyle=this._lineColor();const r=Math.max(1,Math.floor(t)),n=Math.floor(.5*t);e.beginPath();const o=Math.round(a.tickLength*s);for(let a=i.length;a--;){const s=Math.round(i[a].coord*t);e.rect(s-n,0,r,o)}e.fill()})),e.useMediaCoordinateSpace((({context:e})=>{const t=a.borderSize+a.tickLength+a.paddingTop+a.fontSize/2;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this._textColor(),e.font=this._baseFont();for(const a of i)if(a.weight<s){const i=a.needAlignCoordinate?this._alignTickMarkLabelCoordinate(e,a.coord,a.label):a.coord;e.fillText(a.label,i,t)}this._chart.options().timeScale.allowBoldLabels&&(e.font=this._baseBoldFont());for(const a of i)if(a.weight>=s){const i=a.needAlignCoordinate?this._alignTickMarkLabelCoordinate(e,a.coord,a.label):a.coord;e.fillText(a.label,i,t)}}))}_alignTickMarkLabelCoordinate(e,t,i){const s=this._widthCache.measureText(e,i),a=s/2,r=Math.floor(t-a)+.5;return r<0?t+=Math.abs(0-r):r+s>this._size.width&&(t-=Math.abs(this._size.width-(r+s))),t}_drawLabels(e,t){const i=this._getRendererOptions();for(const s of e)for(const e of s.timeAxisViews())e.renderer().draw(t,i)}_lineColor(){return this._chart.options().timeScale.borderColor}_textColor(){return this._options.textColor}_fontSize(){return this._options.fontSize}_baseFont(){return O(this._fontSize(),this._options.fontFamily)}_baseBoldFont(){return O(this._fontSize(),this._options.fontFamily,"bold")}_getRendererOptions(){null===this._rendererOptions&&(this._rendererOptions={borderSize:1,baselineOffset:NaN,paddingTop:NaN,paddingBottom:NaN,paddingHorizontal:NaN,tickLength:5,fontSize:NaN,font:"",widthCache:new ot,labelBottomOffset:0});const e=this._rendererOptions,t=this._baseFont();if(e.font!==t){const i=this._fontSize();e.fontSize=i,e.font=t,e.paddingTop=3*i/12,e.paddingBottom=3*i/12,e.paddingHorizontal=9*i/12,e.baselineOffset=0,e.labelBottomOffset=4*i/12,e.widthCache.reset()}return this._rendererOptions}_setCursor(e){this._cell.style.cursor=1===e?"ew-resize":"default"}_recreateStubs(){const e=this._chart.model(),t=e.options();t.leftPriceScale.visible||null===this._leftStub||(this._leftStubCell.removeChild(this._leftStub.getElement()),this._leftStub.destroy(),this._leftStub=null),t.rightPriceScale.visible||null===this._rightStub||(this._rightStubCell.removeChild(this._rightStub.getElement()),this._rightStub.destroy(),this._rightStub=null);const i={rendererOptionsProvider:this._chart.model().rendererOptionsProvider()},s=()=>t.leftPriceScale.borderVisible&&e.timeScale().options().borderVisible,a=()=>e.backgroundBottomColor();t.leftPriceScale.visible&&null===this._leftStub&&(this._leftStub=new Js("left",t,i,s,a),this._leftStubCell.appendChild(this._leftStub.getElement())),t.rightPriceScale.visible&&null===this._rightStub&&(this._rightStub=new Js("right",t,i,s,a),this._rightStubCell.appendChild(this._rightStub.getElement()))}}const sa=!!ms&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((e=>e.brand.includes("Chromium")))&&!!ms&&((null===(aa=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===aa?void 0:aa.platform)?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);var aa;class ra{constructor(e,t,i){var s;this._paneWidgets=[],this._paneSeparators=[],this._drawRafId=0,this._height=0,this._width=0,this._leftPriceAxisWidth=0,this._rightPriceAxisWidth=0,this._invalidateMask=null,this._drawPlanned=!1,this._clicked=new L,this._dblClicked=new L,this._crosshairMoved=new L,this._observer=null,this._cursorStyleOverride=null,this._container=e,this._options=t,this._horzScaleBehavior=i,this._element=document.createElement("div"),this._element.classList.add("tv-lightweight-charts"),this._element.style.overflow="hidden",this._element.style.direction="ltr",this._element.style.width="100%",this._element.style.height="100%",(s=this._element).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this._tableElement=document.createElement("table"),this._tableElement.setAttribute("cellspacing","0"),this._element.appendChild(this._tableElement),this._onWheelBound=this._onMousewheel.bind(this),na(this._options)&&this._setMouseWheelEventListener(!0),this._model=new Ki(this._invalidateHandler.bind(this),this._options,i),this.model().crosshairMoved().subscribe(this._onPaneWidgetCrosshairMoved.bind(this),this),this._timeAxisWidget=new ia(this,this._horzScaleBehavior),this._tableElement.appendChild(this._timeAxisWidget.getElement());const a=t.autoSize&&this._installObserver();let r=this._options.width,n=this._options.height;if(a||0===r||0===n){const t=e.getBoundingClientRect();r=r||t.width,n=n||t.height}this.resize(r,n),this._syncGuiWithModel(),e.appendChild(this._element),this._updateTimeAxisVisibility(),this._model.timeScale().optionsApplied().subscribe(this._model.fullUpdate.bind(this._model),this),this._model.priceScalesOptionsChanged().subscribe(this._model.fullUpdate.bind(this._model),this)}model(){return this._model}options(){return this._options}paneWidgets(){return this._paneWidgets}timeAxisWidget(){return this._timeAxisWidget}destroy(){this._setMouseWheelEventListener(!1),0!==this._drawRafId&&window.cancelAnimationFrame(this._drawRafId),this._model.crosshairMoved().unsubscribeAll(this),this._model.timeScale().optionsApplied().unsubscribeAll(this),this._model.priceScalesOptionsChanged().unsubscribeAll(this),this._model.destroy();for(const e of this._paneWidgets)this._tableElement.removeChild(e.getElement()),e.clicked().unsubscribeAll(this),e.dblClicked().unsubscribeAll(this),e.destroy();this._paneWidgets=[];for(const e of this._paneSeparators)this._destroySeparator(e);this._paneSeparators=[],_(this._timeAxisWidget).destroy(),null!==this._element.parentElement&&this._element.parentElement.removeChild(this._element),this._crosshairMoved.destroy(),this._clicked.destroy(),this._dblClicked.destroy(),this._uninstallObserver()}resize(e,t,i=!1){if(this._height===t&&this._width===e)return;const a=function(e){const t=Math.floor(e.width),i=Math.floor(e.height);return(0,s.Ej)({width:t-t%2,height:i-i%2})}((0,s.Ej)({width:e,height:t}));this._height=a.height,this._width=a.width;const r=this._height+"px",n=this._width+"px";_(this._element).style.height=r,_(this._element).style.width=n,this._tableElement.style.height=r,this._tableElement.style.width=n,i?this._drawImpl(ge.full(),performance.now()):this._model.fullUpdate()}paint(e){void 0===e&&(e=ge.full());for(let t=0;t<this._paneWidgets.length;t++)this._paneWidgets[t].paint(e.invalidateForPane(t).level);this._options.timeScale.visible&&this._timeAxisWidget.paint(e.fullInvalidation())}applyOptions(e){const t=na(this._options);this._model.applyOptions(e);const i=na(this._options);i!==t&&this._setMouseWheelEventListener(i),this._updateTimeAxisVisibility(),this._applyAutoSizeOptions(e)}clicked(){return this._clicked}dblClicked(){return this._dblClicked}crosshairMoved(){return this._crosshairMoved}takeScreenshot(){null!==this._invalidateMask&&(this._drawImpl(this._invalidateMask,performance.now()),this._invalidateMask=null);const e=this._traverseLayout(null),t=document.createElement("canvas");t.width=e.width,t.height=e.height;const i=_(t.getContext("2d"));return this._traverseLayout(i),t}getPriceAxisWidth(e){return("left"!==e||this._isLeftAxisVisible())&&("right"!==e||this._isRightAxisVisible())?0===this._paneWidgets.length?0:_("left"===e?this._paneWidgets[0].leftPriceAxisWidget():this._paneWidgets[0].rightPriceAxisWidget()).getWidth():0}autoSizeActive(){return this._options.autoSize&&null!==this._observer}element(){return this._element}setCursorStyle(e){this._cursorStyleOverride=e,this._cursorStyleOverride?this.element().style.setProperty("cursor",e):this.element().style.removeProperty("cursor")}getCursorOverrideStyle(){return this._cursorStyleOverride}paneSize(){return b(this._paneWidgets[0]).getSize()}adjustSize(){this._adjustSizeImpl()}_applyAutoSizeOptions(e){(void 0!==e.autoSize||!this._observer||void 0===e.width&&void 0===e.height)&&(e.autoSize&&!this._observer&&this._installObserver(),!1===e.autoSize&&null!==this._observer&&this._uninstallObserver(),e.autoSize||void 0===e.width&&void 0===e.height||this.resize(e.width||this._width,e.height||this._height))}_traverseLayout(e){let t=0,i=0;const a=this._paneWidgets[0],r=(t,i)=>{let s=0;for(let a=0;a<this._paneWidgets.length;a++){const r=this._paneWidgets[a],n=_("left"===t?r.leftPriceAxisWidget():r.rightPriceAxisWidget()),o=n.getBitmapSize();null!==e&&n.drawBitmap(e,i,s),s+=o.height}};this._isLeftAxisVisible()&&(r("left",0),t+=_(a.leftPriceAxisWidget()).getBitmapSize().width);for(let s=0;s<this._paneWidgets.length;s++){const a=this._paneWidgets[s],r=a.getBitmapSize();null!==e&&a.drawBitmap(e,t,i),i+=r.height}t+=a.getBitmapSize().width,this._isRightAxisVisible()&&(r("right",t),t+=_(a.rightPriceAxisWidget()).getBitmapSize().width);const n=(t,i,s)=>{_("left"===t?this._timeAxisWidget.leftStub():this._timeAxisWidget.rightStub()).drawBitmap(_(e),i,s)};if(this._options.timeScale.visible){const t=this._timeAxisWidget.getBitmapSize();if(null!==e){let s=0;this._isLeftAxisVisible()&&(n("left",s,i),s=_(a.leftPriceAxisWidget()).getBitmapSize().width),this._timeAxisWidget.drawBitmap(e,s,i),s+=t.width,this._isRightAxisVisible()&&n("right",s,i)}i+=t.height}return(0,s.Ej)({width:t,height:i})}_adjustSizeImpl(){var e;let t=0,i=0,a=0;for(const s of this._paneWidgets)this._isLeftAxisVisible()&&(i=Math.max(i,_(s.leftPriceAxisWidget()).optimalWidth(),this._options.leftPriceScale.minimumWidth)),this._isRightAxisVisible()&&(a=Math.max(a,_(s.rightPriceAxisWidget()).optimalWidth(),this._options.rightPriceScale.minimumWidth)),t+=s.stretchFactor();i=bs(i),a=bs(a);const r=this._width,n=this._height,o=Math.max(r-i-a,0),l=1*this._paneSeparators.length,c=this._options.timeScale.visible;let d=c?Math.max(this._timeAxisWidget.optimalHeight(),this._options.timeScale.minimumHeight):0;var h;d=(h=d)+h%2;const u=l+d,p=n<u?0:n-u,m=p/t;let g=0;const f=(null===(e=document.body.ownerDocument.defaultView)||void 0===e?void 0:e.devicePixelRatio)||1;for(let b=0;b<this._paneWidgets.length;++b){const e=this._paneWidgets[b];e.setState(this._model.panes()[b]);let t=0,r=0;r=b===this._paneWidgets.length-1?Math.ceil((p-g)*f)/f:Math.round(e.stretchFactor()*m*f)/f,t=Math.max(r,2),g+=t,e.setSize((0,s.Ej)({width:o,height:t})),this._isLeftAxisVisible()&&e.setPriceAxisSize(i,"left"),this._isRightAxisVisible()&&e.setPriceAxisSize(a,"right"),e.state()&&this._model.setPaneHeight(e.state(),t)}this._timeAxisWidget.setSizes((0,s.Ej)({width:c?o:0,height:d}),c?i:0,c?a:0),this._model.setWidth(o),this._leftPriceAxisWidth!==i&&(this._leftPriceAxisWidth=i),this._rightPriceAxisWidth!==a&&(this._rightPriceAxisWidth=a)}_setMouseWheelEventListener(e){e?this._element.addEventListener("wheel",this._onWheelBound,{passive:!1}):this._element.removeEventListener("wheel",this._onWheelBound)}_determineWheelSpeedAdjustment(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return sa?1/window.devicePixelRatio:1}_onMousewheel(e){if(!(0!==e.deltaX&&this._options.handleScroll.mouseWheel||0!==e.deltaY&&this._options.handleScale.mouseWheel))return;const t=this._determineWheelSpeedAdjustment(e),i=t*e.deltaX/100,s=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),0!==s&&this._options.handleScale.mouseWheel){const t=Math.sign(s)*Math.min(1,Math.abs(s)),i=e.clientX-this._element.getBoundingClientRect().left;this.model().zoomTime(i,t)}0!==i&&this._options.handleScroll.mouseWheel&&this.model().scrollChart(-80*i)}_drawImpl(e,t){var i;const s=e.fullInvalidation();3===s&&this._updateGui(),3!==s&&2!==s||(this._applyMomentaryAutoScale(e),this._applyTimeScaleInvalidations(e,t),this._timeAxisWidget.update(),this._paneWidgets.forEach((e=>{e.updatePriceAxisWidgets()})),3===(null===(i=this._invalidateMask)||void 0===i?void 0:i.fullInvalidation())&&(this._invalidateMask.merge(e),this._updateGui(),this._applyMomentaryAutoScale(this._invalidateMask),this._applyTimeScaleInvalidations(this._invalidateMask,t),e=this._invalidateMask,this._invalidateMask=null)),this.paint(e)}_applyTimeScaleInvalidations(e,t){for(const i of e.timeScaleInvalidations())this._applyTimeScaleInvalidation(i,t)}_applyMomentaryAutoScale(e){const t=this._model.panes();for(let i=0;i<t.length;i++)e.invalidateForPane(i).autoScale&&t[i].momentaryAutoScale()}_applyTimeScaleInvalidation(e,t){const i=this._model.timeScale();switch(e.type){case 0:i.fitContent();break;case 1:i.setLogicalRange(e.value);break;case 2:i.setBarSpacing(e.value);break;case 3:i.setRightOffset(e.value);break;case 4:i.restoreDefault();break;case 5:e.value.finished(t)||i.setRightOffset(e.value.getPosition(t))}}_invalidateHandler(e){null!==this._invalidateMask?this._invalidateMask.merge(e):this._invalidateMask=e,this._drawPlanned||(this._drawPlanned=!0,this._drawRafId=window.requestAnimationFrame((e=>{if(this._drawPlanned=!1,this._drawRafId=0,null!==this._invalidateMask){const t=this._invalidateMask;this._invalidateMask=null,this._drawImpl(t,e);for(const i of t.timeScaleInvalidations())if(5===i.type&&!i.value.finished(e)){this.model().setTimeScaleAnimation(i.value);break}}})))}_updateGui(){this._syncGuiWithModel()}_destroySeparator(e){this._tableElement.removeChild(e.getElement()),e.destroy()}_syncGuiWithModel(){const e=this._model.panes(),t=e.length,i=this._paneWidgets.length;for(let s=t;s<i;s++){const e=b(this._paneWidgets.pop());this._tableElement.removeChild(e.getElement()),e.clicked().unsubscribeAll(this),e.dblClicked().unsubscribeAll(this),e.destroy();const t=this._paneSeparators.pop();void 0!==t&&this._destroySeparator(t)}for(let s=i;s<t;s++){const t=new Gs(this,e[s]);if(t.clicked().subscribe(this._onPaneWidgetClicked.bind(this),this),t.dblClicked().subscribe(this._onPaneWidgetDblClicked.bind(this),this),this._paneWidgets.push(t),s>0){const e=new Ps(this,s-1,s,!1);this._paneSeparators.push(e),this._tableElement.insertBefore(e.getElement(),this._timeAxisWidget.getElement())}this._tableElement.insertBefore(t.getElement(),this._timeAxisWidget.getElement())}for(let s=0;s<t;s++){const t=e[s],i=this._paneWidgets[s];i.state()!==t?i.setState(t):i.updatePriceAxisWidgetsStates()}this._updateTimeAxisVisibility(),this._adjustSizeImpl()}_getMouseEventParamsImpl(e,t,i){var s,a;const r=new Map;let n;if(null!==e&&this._model.serieses().forEach((t=>{const i=t.bars().search(e);null!==i&&r.set(t,i)})),null!==e){const t=null===(s=this._model.timeScale().indexToTimeScalePoint(e))||void 0===s?void 0:s.originalTime;void 0!==t&&(n=t)}const o=this.model().hoveredSource(),l=null!==o&&o.source instanceof ri?o.source:void 0,c=null!==o&&void 0!==o.object?o.object.externalId:void 0;return{originalTime:n,index:null!=e?e:void 0,point:null!=t?t:void 0,paneIndex:null!==(a=null==t?void 0:t.paneIndex)&&void 0!==a?a:void 0,hoveredSeries:l,seriesData:r,hoveredObject:c,touchMouseEventData:null!=i?i:void 0}}_onPaneWidgetClicked(e,t,i){this._clicked.fire((()=>this._getMouseEventParamsImpl(e,t,i)))}_onPaneWidgetDblClicked(e,t,i){this._dblClicked.fire((()=>this._getMouseEventParamsImpl(e,t,i)))}_onPaneWidgetCrosshairMoved(e,t,i){this._crosshairMoved.fire((()=>this._getMouseEventParamsImpl(e,t,i)))}_updateTimeAxisVisibility(){const e=this._options.timeScale.visible?"":"none";this._timeAxisWidget.getElement().style.display=e}_isLeftAxisVisible(){return this._paneWidgets[0].state().leftPriceScale().options().visible}_isRightAxisVisible(){return this._paneWidgets[0].state().rightPriceScale().options().visible}_installObserver(){return"ResizeObserver"in window&&(this._observer=new ResizeObserver((e=>{const t=e.find((e=>e.target===this._container));t&&this.resize(t.contentRect.width,t.contentRect.height)})),this._observer.observe(this._container,{box:"border-box"}),!0)}_uninstallObserver(){null!==this._observer&&this._observer.disconnect(),this._observer=null}}function na(e){return Boolean(e.handleScroll.mouseWheel||e.handleScale.mouseWheel)}function oa(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(i[s[a]]=e[s[a]])}return i}function la(e,t,i,s){const a=i.value,r={index:t,time:e,value:[a,a,a,a],originalTime:s};return void 0!==i.color&&(r.color=i.color),r}function ca(e,t,i,s){const a=i.value,r={index:t,time:e,value:[a,a,a,a],originalTime:s};return void 0!==i.lineColor&&(r.lineColor=i.lineColor),void 0!==i.topColor&&(r.topColor=i.topColor),void 0!==i.bottomColor&&(r.bottomColor=i.bottomColor),r}function da(e,t,i,s){const a=i.value,r={index:t,time:e,value:[a,a,a,a],originalTime:s};return void 0!==i.topLineColor&&(r.topLineColor=i.topLineColor),void 0!==i.bottomLineColor&&(r.bottomLineColor=i.bottomLineColor),void 0!==i.topFillColor1&&(r.topFillColor1=i.topFillColor1),void 0!==i.topFillColor2&&(r.topFillColor2=i.topFillColor2),void 0!==i.bottomFillColor1&&(r.bottomFillColor1=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(r.bottomFillColor2=i.bottomFillColor2),r}function ha(e,t,i,s){const a={index:t,time:e,value:[i.open,i.high,i.low,i.close],originalTime:s};return void 0!==i.color&&(a.color=i.color),a}function ua(e,t,i,s){const a={index:t,time:e,value:[i.open,i.high,i.low,i.close],originalTime:s};return void 0!==i.color&&(a.color=i.color),void 0!==i.borderColor&&(a.borderColor=i.borderColor),void 0!==i.wickColor&&(a.wickColor=i.wickColor),a}function pa(e,t,i,s,a){const r=b(a)(i),n=Math.max(...r),o=Math.min(...r),l=r[r.length-1],c=[l,n,o,l],d=i,{time:h,color:u}=d;return{index:t,time:e,value:c,originalTime:s,data:oa(d,["time","color"]),color:u}}function ma(e){return void 0!==e.value}function ga(e,t){return void 0!==t.customValues&&(e.customValues=t.customValues),e}function fa(e){return(t,i,s,a,r,n)=>function(e,t){return t?t(e):void 0===(i=e).open&&void 0===i.value;var i}(s,n)?ga({time:t,index:i,originalTime:a},s):ga(e(t,i,s,a,r),s)}function ba(e){return{Candlestick:fa(ua),Bar:fa(ha),Area:fa(ca),Baseline:fa(da),Histogram:fa(la),Line:fa(la),Custom:fa(pa)}[e]}function _a(e){return{index:0,mapping:new Map,timePoint:e}}function va(e,t){if(void 0!==e&&0!==e.length)return{firstTime:t.key(e[0].time),lastTime:t.key(e[e.length-1].time)}}function ya(e){let t;return e.forEach((e=>{void 0===t&&(t=e.originalTime)})),b(t)}class xa{constructor(e){this._pointDataByTimePoint=new Map,this._seriesRowsBySeries=new Map,this._seriesLastTimePoint=new Map,this._sortedTimePoints=[],this._horzScaleBehavior=e}destroy(){this._pointDataByTimePoint.clear(),this._seriesRowsBySeries.clear(),this._seriesLastTimePoint.clear(),this._sortedTimePoints=[]}setSeriesData(e,t){let i=0!==this._pointDataByTimePoint.size,s=!1;const a=this._seriesRowsBySeries.get(e);if(void 0!==a)if(1===this._seriesRowsBySeries.size)i=!1,s=!0,this._pointDataByTimePoint.clear();else for(const o of this._sortedTimePoints)o.pointData.mapping.delete(e)&&(s=!0);let r=[];if(0!==t.length){const i=t.map((e=>e.time)),a=this._horzScaleBehavior.createConverterToInternalObj(t),n=ba(e.seriesType()),o=e.customSeriesPlotValuesBuilder(),l=e.customSeriesWhitespaceCheck();r=t.map(((t,r)=>{const c=a(t.time),d=this._horzScaleBehavior.key(c);let h=this._pointDataByTimePoint.get(d);void 0===h&&(h=_a(c),this._pointDataByTimePoint.set(d,h),s=!0);const u=n(c,h.index,t,i[r],o,l);return h.mapping.set(e,u),u}))}i&&this._cleanupPointsData(),this._setRowsToSeries(e,r);let n=-1;if(s){const e=[];this._pointDataByTimePoint.forEach((t=>{e.push({timeWeight:0,time:t.timePoint,pointData:t,originalTime:ya(t.mapping)})})),e.sort(((e,t)=>this._horzScaleBehavior.key(e.time)-this._horzScaleBehavior.key(t.time))),n=this._replaceTimeScalePoints(e)}return this._getUpdateResponse(e,n,function(e,t,i){const s=va(e,i),a=va(t,i);if(void 0!==s&&void 0!==a)return{lastBarUpdatedOrNewBarsAddedToTheRight:s.lastTime>=a.lastTime&&s.firstTime>=a.firstTime}}(this._seriesRowsBySeries.get(e),a,this._horzScaleBehavior))}removeSeries(e){return this.setSeriesData(e,[])}updateSeriesData(e,t){const i=t;!function(e){void 0===e.originalTime&&(e.originalTime=e.time)}(i),this._horzScaleBehavior.preprocessData(t);const s=this._horzScaleBehavior.createConverterToInternalObj([t])(t.time),a=this._seriesLastTimePoint.get(e);if(void 0!==a&&this._horzScaleBehavior.key(s)<this._horzScaleBehavior.key(a))throw new Error(`Cannot update oldest data, last time=${a}, new time=${s}`);let r=this._pointDataByTimePoint.get(this._horzScaleBehavior.key(s));const n=void 0===r;void 0===r&&(r=_a(s),this._pointDataByTimePoint.set(this._horzScaleBehavior.key(s),r));const o=ba(e.seriesType()),l=e.customSeriesPlotValuesBuilder(),c=e.customSeriesWhitespaceCheck(),d=o(s,r.index,t,i.originalTime,l,c);r.mapping.set(e,d),this._updateLastSeriesRow(e,d);const h={lastBarUpdatedOrNewBarsAddedToTheRight:ma(d)};if(!n)return this._getUpdateResponse(e,-1,h);const u={timeWeight:0,time:r.timePoint,pointData:r,originalTime:ya(r.mapping)},p=ze(this._sortedTimePoints,this._horzScaleBehavior.key(u.time),((e,t)=>this._horzScaleBehavior.key(e.time)<t));this._sortedTimePoints.splice(p,0,u);for(let m=p;m<this._sortedTimePoints.length;++m)wa(this._sortedTimePoints[m].pointData,m);return this._horzScaleBehavior.fillWeightsForPoints(this._sortedTimePoints,p),this._getUpdateResponse(e,p,h)}_updateLastSeriesRow(e,t){let i=this._seriesRowsBySeries.get(e);void 0===i&&(i=[],this._seriesRowsBySeries.set(e,i));const s=0!==i.length?i[i.length-1]:null;null===s||this._horzScaleBehavior.key(t.time)>this._horzScaleBehavior.key(s.time)?ma(t)&&i.push(t):ma(t)?i[i.length-1]=t:i.splice(-1,1),this._seriesLastTimePoint.set(e,t.time)}_setRowsToSeries(e,t){0!==t.length?(this._seriesRowsBySeries.set(e,t.filter(ma)),this._seriesLastTimePoint.set(e,t[t.length-1].time)):(this._seriesRowsBySeries.delete(e),this._seriesLastTimePoint.delete(e))}_cleanupPointsData(){for(const e of this._sortedTimePoints)0===e.pointData.mapping.size&&this._pointDataByTimePoint.delete(this._horzScaleBehavior.key(e.time))}_replaceTimeScalePoints(e){let t=-1;for(let i=0;i<this._sortedTimePoints.length&&i<e.length;++i){const s=this._sortedTimePoints[i],a=e[i];if(this._horzScaleBehavior.key(s.time)!==this._horzScaleBehavior.key(a.time)){t=i;break}a.timeWeight=s.timeWeight,wa(a.pointData,i)}if(-1===t&&this._sortedTimePoints.length!==e.length&&(t=Math.min(this._sortedTimePoints.length,e.length)),-1===t)return-1;for(let i=t;i<e.length;++i)wa(e[i].pointData,i);return this._horzScaleBehavior.fillWeightsForPoints(e,t),this._sortedTimePoints=e,t}_getBaseIndex(){if(0===this._seriesRowsBySeries.size)return null;let e=0;return this._seriesRowsBySeries.forEach((t=>{0!==t.length&&(e=Math.max(e,t[t.length-1].index))})),e}_getUpdateResponse(e,t,i){const s={series:new Map,timeScale:{baseIndex:this._getBaseIndex()}};if(-1!==t)this._seriesRowsBySeries.forEach(((t,a)=>{s.series.set(a,{data:t,info:a===e?i:void 0})})),this._seriesRowsBySeries.has(e)||s.series.set(e,{data:[],info:i}),s.timeScale.points=this._sortedTimePoints,s.timeScale.firstChangedPointIndex=t;else{const t=this._seriesRowsBySeries.get(e);s.series.set(e,{data:t||[],info:i})}return s}}function wa(e,t){e.index=t,e.mapping.forEach((e=>{e.index=t}))}function ka(e){const t={value:e.value[3],time:e.originalTime};return void 0!==e.customValues&&(t.customValues=e.customValues),t}function Ca(e){const t=ka(e);return void 0!==e.color&&(t.color=e.color),t}function Sa(e){const t=ka(e);return void 0!==e.lineColor&&(t.lineColor=e.lineColor),void 0!==e.topColor&&(t.topColor=e.topColor),void 0!==e.bottomColor&&(t.bottomColor=e.bottomColor),t}function Ta(e){const t=ka(e);return void 0!==e.topLineColor&&(t.topLineColor=e.topLineColor),void 0!==e.bottomLineColor&&(t.bottomLineColor=e.bottomLineColor),void 0!==e.topFillColor1&&(t.topFillColor1=e.topFillColor1),void 0!==e.topFillColor2&&(t.topFillColor2=e.topFillColor2),void 0!==e.bottomFillColor1&&(t.bottomFillColor1=e.bottomFillColor1),void 0!==e.bottomFillColor2&&(t.bottomFillColor2=e.bottomFillColor2),t}function Aa(e){const t={open:e.value[0],high:e.value[1],low:e.value[2],close:e.value[3],time:e.originalTime};return void 0!==e.customValues&&(t.customValues=e.customValues),t}function Ma(e){const t=Aa(e);return void 0!==e.color&&(t.color=e.color),t}function La(e){const t=Aa(e),{color:i,borderColor:s,wickColor:a}=e;return void 0!==i&&(t.color=i),void 0!==s&&(t.borderColor=s),void 0!==a&&(t.wickColor=a),t}function Ra(e){return{Area:Sa,Line:Ca,Baseline:Ta,Histogram:Ca,Bar:Ma,Candlestick:La,Custom:Ea}[e]}function Ea(e){const t=e.originalTime;return Object.assign(Object.assign({},e.data),{time:t})}const Ia={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},Pa={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},Fa={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:V},Da={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},Ba={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},za={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:V,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function Va(){return{width:0,height:0,autoSize:!1,layout:Fa,crosshair:Ia,grid:Pa,overlayPriceScales:Object.assign({},Da),leftPriceScale:Object.assign(Object.assign({},Da),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},Da),{visible:!0}),nonPrimaryPriceScale:Object.assign(Object.assign({},Da),{visible:!0}),timeScale:Ba,watermark:za,localization:{locale:ms?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Oa{constructor(e,t){this._chartWidget=e,this._priceScaleId=t}applyOptions(e){this._chartWidget.model().applyPriceScaleOptions(this._priceScaleId,e)}options(){return this._priceScale().options()}width(){return me(this._priceScaleId)?this._chartWidget.getPriceAxisWidth(this._priceScaleId):0}_priceScale(){return _(this._chartWidget.model().findPriceScale(this._priceScaleId)).priceScale}}function Wa(e,t,i){const s=oa(e,["time","originalTime"]),a=Object.assign({time:t},s);return void 0!==i&&(a.originalTime=i),a}const qa={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class ja{constructor(e){this._priceLine=e}applyOptions(e){this._priceLine.applyOptions(e)}options(){return this._priceLine.options()}priceLine(){return this._priceLine}}class Ua{constructor(e,t,i,s,a){this._dataChangedDelegate=new L,this._series=e,this._dataUpdatesConsumer=t,this._priceScaleApiProvider=i,this._horzScaleBehavior=a,this._chartApi=s}destroy(){this._dataChangedDelegate.destroy()}priceFormatter(){return this._series.formatter()}priceToCoordinate(e){const t=this._series.firstValue();return null===t?null:this._series.priceScale().priceToCoordinate(e,t.value)}coordinateToPrice(e){const t=this._series.firstValue();return null===t?null:this._series.priceScale().coordinateToPrice(e,t.value)}barsInLogicalRange(e){if(null===e)return null;const t=new Pi(new Ri(e.from,e.to)).strictRange(),i=this._series.bars();if(i.isEmpty())return null;const s=i.search(t.left(),1),a=i.search(t.right(),-1),r=_(i.firstIndex()),n=_(i.lastIndex());if(null!==s&&null!==a&&s.index>a.index)return{barsBefore:e.from-r,barsAfter:n-e.to};const o={barsBefore:null===s||s.index===r?e.from-r:s.index-r,barsAfter:null===a||a.index===n?n-e.to:n-a.index};return null!==s&&null!==a&&(o.from=s.originalTime,o.to=a.originalTime),o}setData(e){this._horzScaleBehavior,this._series.seriesType(),this._dataUpdatesConsumer.applyNewData(this._series,e),this._onDataChanged("full")}update(e){this._series.seriesType(),this._dataUpdatesConsumer.updateData(this._series,e),this._onDataChanged("update")}dataByIndex(e,t){const i=this._series.bars().search(e,t);return null===i?null:Ra(this.seriesType())(i)}data(){const e=Ra(this.seriesType());return this._series.bars().rows().map((t=>e(t)))}subscribeDataChanged(e){this._dataChangedDelegate.subscribe(e)}unsubscribeDataChanged(e){this._dataChangedDelegate.unsubscribe(e)}setMarkers(e){this._horzScaleBehavior;const t=e.map((e=>Wa(e,this._horzScaleBehavior.convertHorzItemToInternal(e.time),e.time)));this._series.setMarkers(t)}markers(){return this._series.markers().map((e=>Wa(e,e.originalTime,void 0)))}applyOptions(e){this._series.applyOptions(e)}options(){return D(this._series.options())}priceScale(){return this._priceScaleApiProvider.priceScale(this._series.priceScale().id())}createPriceLine(e){const t=R(D(qa),e),i=this._series.createPriceLine(t);return new ja(i)}removePriceLine(e){this._series.removePriceLine(e.priceLine())}seriesType(){return this._series.seriesType()}attachPrimitive(e){this._series.attachPrimitive(e),e.attached&&e.attached({chart:this._chartApi,series:this,requestUpdate:()=>this._series.model().fullUpdate()})}detachPrimitive(e){this._series.detachPrimitive(e),e.detached&&e.detached()}_onDataChanged(e){this._dataChangedDelegate.hasListeners()&&this._dataChangedDelegate.fire(e)}}var Na;!function(e){e[e.AnimationDurationMs=1e3]="AnimationDurationMs"}(Na||(Na={}));class Ha{constructor(e,t,i){this._timeRangeChanged=new L,this._logicalRangeChanged=new L,this._sizeChanged=new L,this._model=e,this._timeScale=e.timeScale(),this._timeAxisWidget=t,this._timeScale.visibleBarsChanged().subscribe(this._onVisibleBarsChanged.bind(this)),this._timeScale.logicalRangeChanged().subscribe(this._onVisibleLogicalRangeChanged.bind(this)),this._timeAxisWidget.sizeChanged().subscribe(this._onSizeChanged.bind(this)),this._horzScaleBehavior=i}destroy(){this._timeScale.visibleBarsChanged().unsubscribeAll(this),this._timeScale.logicalRangeChanged().unsubscribeAll(this),this._timeAxisWidget.sizeChanged().unsubscribeAll(this),this._timeRangeChanged.destroy(),this._logicalRangeChanged.destroy(),this._sizeChanged.destroy()}scrollPosition(){return this._timeScale.rightOffset()}scrollToPosition(e,t){t?this._timeScale.scrollToOffsetAnimated(e,1e3):this._model.setRightOffset(e)}scrollToRealTime(){this._timeScale.scrollToRealTime()}getVisibleRange(){const e=this._timeScale.visibleTimeRange();return null===e?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const t={from:this._horzScaleBehavior.convertHorzItemToInternal(e.from),to:this._horzScaleBehavior.convertHorzItemToInternal(e.to)},i=this._timeScale.logicalRangeForTimeRange(t);this._model.setTargetLogicalRange(i)}getVisibleLogicalRange(){const e=this._timeScale.visibleLogicalRange();return null===e?null:{from:e.left(),to:e.right()}}setVisibleLogicalRange(e){f(e.from<=e.to,"The from index cannot be after the to index."),this._model.setTargetLogicalRange(e)}resetTimeScale(){this._model.resetTimeScale()}fitContent(){this._model.fitContent()}logicalToCoordinate(e){const t=this._model.timeScale();return t.isEmpty()?null:t.indexToCoordinate(e)}coordinateToLogical(e){return this._timeScale.isEmpty()?null:this._timeScale.coordinateToIndex(e)}timeToCoordinate(e){const t=this._horzScaleBehavior.convertHorzItemToInternal(e),i=this._timeScale.timeToIndex(t,!1);return null===i?null:this._timeScale.indexToCoordinate(i)}coordinateToTime(e){const t=this._model.timeScale(),i=t.coordinateToIndex(e),s=t.indexToTimeScalePoint(i);return null===s?null:s.originalTime}width(){return this._timeAxisWidget.getSize().width}height(){return this._timeAxisWidget.getSize().height}subscribeVisibleTimeRangeChange(e){this._timeRangeChanged.subscribe(e)}unsubscribeVisibleTimeRangeChange(e){this._timeRangeChanged.unsubscribe(e)}subscribeVisibleLogicalRangeChange(e){this._logicalRangeChanged.subscribe(e)}unsubscribeVisibleLogicalRangeChange(e){this._logicalRangeChanged.unsubscribe(e)}subscribeSizeChange(e){this._sizeChanged.subscribe(e)}unsubscribeSizeChange(e){this._sizeChanged.unsubscribe(e)}applyOptions(e){this._timeScale.applyOptions(e)}options(){return Object.assign(Object.assign({},D(this._timeScale.options())),{barSpacing:this._timeScale.barSpacing()})}_onVisibleBarsChanged(){this._timeRangeChanged.hasListeners()&&this._timeRangeChanged.fire(this.getVisibleRange())}_onVisibleLogicalRangeChanged(){this._logicalRangeChanged.hasListeners()&&this._logicalRangeChanged.fire(this.getVisibleLogicalRange())}_onSizeChanged(e){this._sizeChanged.fire(e.width,e.height)}}function Xa(e){if(void 0===e||"custom"===e.type)return;const t=e;void 0!==t.minMove&&void 0===t.precision&&(t.precision=function(e){if(e>=1)return 0;let t=0;for(;t<8;t++){const i=Math.round(e);if(Math.abs(i-e)<1e-8)return t;e*=10}return t}(t.minMove))}function $a(e){return function(e){if(F(e.handleScale)){const t=e.handleScale;e.handleScale={axisDoubleClickReset:{time:t,price:t},axisPressedMouseMove:{time:t,price:t},mouseWheel:t,pinch:t}}else if(void 0!==e.handleScale){const{axisPressedMouseMove:t,axisDoubleClickReset:i}=e.handleScale;F(t)&&(e.handleScale.axisPressedMouseMove={time:t,price:t}),F(i)&&(e.handleScale.axisDoubleClickReset={time:i,price:i})}const t=e.handleScroll;F(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})}(e),e}class Qa{constructor(e,t,i){this._seriesMap=new Map,this._seriesMapReversed=new Map,this._clickedDelegate=new L,this._dblClickedDelegate=new L,this._crosshairMovedDelegate=new L,this._dataLayer=new xa(t);const s=void 0===i?D(Va()):R(D(Va()),$a(i));this._horzScaleBehavior=t,this._chartWidget=new ra(e,s,t),this._chartWidget.clicked().subscribe((e=>{this._clickedDelegate.hasListeners()&&this._clickedDelegate.fire(this._convertMouseParams(e()))}),this),this._chartWidget.dblClicked().subscribe((e=>{this._dblClickedDelegate.hasListeners()&&this._dblClickedDelegate.fire(this._convertMouseParams(e()))}),this),this._chartWidget.crosshairMoved().subscribe((e=>{this._crosshairMovedDelegate.hasListeners()&&this._crosshairMovedDelegate.fire(this._convertMouseParams(e()))}),this);const a=this._chartWidget.model();this._timeScaleApi=new Ha(a,this._chartWidget.timeAxisWidget(),this._horzScaleBehavior)}remove(){this._chartWidget.clicked().unsubscribeAll(this),this._chartWidget.dblClicked().unsubscribeAll(this),this._chartWidget.crosshairMoved().unsubscribeAll(this),this._timeScaleApi.destroy(),this._chartWidget.destroy(),this._seriesMap.clear(),this._seriesMapReversed.clear(),this._clickedDelegate.destroy(),this._dblClickedDelegate.destroy(),this._crosshairMovedDelegate.destroy(),this._dataLayer.destroy()}resize(e,t,i){this.autoSizeActive()||this._chartWidget.resize(e,t,i)}addCustomSeries(e,t){const i=v(e),s=Object.assign(Object.assign({},d),i.defaultOptions());return this._addSeriesImpl("Custom",s,t,i)}addAreaSeries(e){return this._addSeriesImpl("Area",o,e)}addBaselineSeries(e){return this._addSeriesImpl("Baseline",l,e)}addBarSeries(e){return this._addSeriesImpl("Bar",r,e)}addCandlestickSeries(e={}){return function(e){void 0!==e.borderColor&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),void 0!==e.wickColor&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(e),this._addSeriesImpl("Candlestick",a,e)}addHistogramSeries(e){return this._addSeriesImpl("Histogram",c,e)}addLineSeries(e){return this._addSeriesImpl("Line",n,e)}removeSeries(e){const t=b(this._seriesMap.get(e)),i=this._dataLayer.removeSeries(t);this._chartWidget.model().removeSeries(t),this._sendUpdateToChart(i),this._seriesMap.delete(e),this._seriesMapReversed.delete(t)}applyNewData(e,t){this._sendUpdateToChart(this._dataLayer.setSeriesData(e,t))}updateData(e,t){this._sendUpdateToChart(this._dataLayer.updateSeriesData(e,t))}subscribeClick(e){this._clickedDelegate.subscribe(e)}unsubscribeClick(e){this._clickedDelegate.unsubscribe(e)}subscribeCrosshairMove(e){this._crosshairMovedDelegate.subscribe(e)}unsubscribeCrosshairMove(e){this._crosshairMovedDelegate.unsubscribe(e)}subscribeDblClick(e){this._dblClickedDelegate.subscribe(e)}unsubscribeDblClick(e){this._dblClickedDelegate.unsubscribe(e)}priceScale(e){return new Oa(this._chartWidget,e)}timeScale(){return this._timeScaleApi}applyOptions(e){this._chartWidget.applyOptions($a(e))}options(){return this._chartWidget.options()}takeScreenshot(){return this._chartWidget.takeScreenshot()}removePane(e){this._chartWidget.model().removePane(e)}swapPane(e,t){this._chartWidget.model().swapPane(e,t)}getPaneElements(){return this._chartWidget.paneWidgets().map((e=>e.getPaneCell()))}autoSizeActive(){return this._chartWidget.autoSizeActive()}chartElement(){return this._chartWidget.element()}paneSize(){const e=this._chartWidget.paneSize();return{height:e.height,width:e.width}}setCrosshairPosition(e,t,i){const s=this._seriesMap.get(i);if(void 0===s)return;const a=this._chartWidget.model().paneForSource(s);null!==a&&this._chartWidget.model().setAndSaveSyntheticPosition(e,t,a)}clearCrosshairPosition(){this._chartWidget.model().clearCurrentPosition(!0)}_addSeriesImpl(e,t,i={},s){Xa(i.priceFormat);const a=R(D(h),D(t),i),r=this._chartWidget.model().createSeries(e,a,s),n=new Ua(r,this,this,this,this._horzScaleBehavior);return this._seriesMap.set(n,r),this._seriesMapReversed.set(r,n),n}_sendUpdateToChart(e){const t=this._chartWidget.model();t.updateTimeScale(e.timeScale.baseIndex,e.timeScale.points,e.timeScale.firstChangedPointIndex),e.series.forEach(((e,t)=>t.setData(e.data,e.info))),t.recalculateAllPanes()}_mapSeriesToApi(e){return b(this._seriesMapReversed.get(e))}_convertMouseParams(e){const t=new Map;e.seriesData.forEach(((e,i)=>{const s=i.seriesType(),a=Ra(s)(e);if("Custom"!==s)f(function(e){return void 0!==e.open||void 0!==e.value}(a));else{const e=i.customSeriesWhitespaceCheck();f(!e||!1===e(a))}t.set(this._mapSeriesToApi(i),a)}));const i=void 0===e.hoveredSeries?void 0:this._mapSeriesToApi(e.hoveredSeries);return{time:e.originalTime,logical:e.index,point:e.point,paneIndex:e.paneIndex,hoveredSeries:i,hoveredObjectId:e.hoveredObject,seriesData:t,sourceEvent:e.touchMouseEventData}}}function Ka(e,t,i){let s;if(P(e)){const t=document.getElementById(e);f(null!==t,`Cannot find element in DOM with id=${e}`),s=t}else s=e;const a=new Qa(s,t,i);return t.setOptions(a.options()),a}function Ga(e,t){return Ka(e,new ps,ps.applyDefaults(t))}Object.assign(Object.assign({},h),d)}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=e,(()=>{i.amdO={}})(),(()=>{var e=[];i.O=(t,s,a,r)=>{if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],r=e[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&r||n>=r)&&Object.keys(i.O).every((e=>i.O[e](s[l])))?s.splice(l--,1):(o=!1,r<n&&(n=r));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,a,r]}})(),(()=>{i.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return i.d(t,{a:t}),t}})(),(()=>{i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,s)=>(i.f[s](e,t),t)),[]))})(),(()=>{i.u=e=>"js/"+e+"."+{198:"c33d102f",205:"22c1e9e7",398:"9c14c520",494:"793437f0",558:"7415269d",946:"1c6ae9dd",968:"1bef8fca",970:"583ccee1",1118:"78ea819b",1122:"b27a41da",1282:"97f0696c",1420:"d54844e4",1438:"496510b1",1446:"cc3fc904",1560:"7b7757be",1710:"4843a921",1740:"d08e22ef",1888:"fa3d2a35",1914:"d8016f98",2077:"f1379fbb",2094:"953bedb2",2244:"84c14398",2278:"2ee87362",2398:"3e8e4f48",2586:"c95a87e0",2658:"e47387f4",2686:"73392b6a",2692:"7fbb3818",2745:"33a63d06",2962:"60546df9",3042:"9b93a50a",3062:"bd0e4f92",3096:"7b387b0e",3182:"6ff1be88",3622:"90fa278e",3726:"2ed56bdc",4114:"3de41b0d",4120:"6bf39806",4334:"7299b634",4630:"56a798eb",4680:"ca7339e9",4698:"2d0ef7b0",4839:"c3b46996",4958:"59bb7b56",4962:"bffabde3",5130:"ce147c41",5196:"6207ce8f",5364:"b6685be6",5550:"b1661ae3",5618:"78926a2d",5786:"ff633145",5966:"9a019d8b",6018:"bd5c9fb9",6134:"50ac5a75",6185:"4f831ec1",6302:"09f6dbd3",6414:"2d3b1850",6446:"40df606f",6590:"cf64b846",6830:"0bb1489f",6940:"490b577b",6990:"a8a21c15",7048:"7b315541",7200:"b0c6997a",7246:"6c589f36",7466:"845a4539",7836:"74e8b97c",7886:"e4471136",8230:"9cde2713",8332:"8d7a976d",8334:"b4ffc6a1",8390:"03c53a9e",8494:"ea5f76b7",8542:"08eb2155",8566:"d36fa04c",8902:"a3320fc9",8990:"761c86dd",9034:"8de3ef85",9038:"556bb6ac",9150:"f473acd9",9355:"a2f840c9",9390:"872085aa",9510:"e490c057",9838:"e0ba417f"}[e]+".js"})(),(()=>{i.miniCssF=e=>{}})(),(()=>{i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="jesse-dashboard:";i.l=(s,a,r,n)=>{if(e[s])e[s].push(a);else{var o,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var h=c[d];if(h.getAttribute("src")==s||h.getAttribute("data-webpack")==t+r){o=h;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",t+r),o.src=s),e[s]=[a];var u=(t,i)=>{o.onerror=o.onload=null,clearTimeout(p);var a=e[s];if(delete e[s],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(i))),t)return t(i)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),(()=>{i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{i.p="/"})(),(()=>{var e={3524:0};i.f.j=(t,s)=>{var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)s.push(a[2]);else{var r=new Promise(((i,s)=>a=e[t]=[i,s]));s.push(a[2]=r);var n=i.p+i.u(t),o=new Error,l=s=>{if(i.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var r=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",o.name="ChunkLoadError",o.type=r,o.request=n,a[1](o)}};i.l(n,l,"chunk-"+t,t)}},i.O.j=t=>0===e[t];var t=(t,s)=>{var a,r,n=s[0],o=s[1],l=s[2],c=0;if(n.some((t=>0!==e[t]))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(l)var d=l(i)}for(t&&t(s);c<n.length;c++)r=n[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},s=self["webpackChunkjesse_dashboard"]=self["webpackChunkjesse_dashboard"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=i.O(void 0,[504],(()=>i(86875)));s=i.O(s)})();
//# sourceMappingURL=app.beaa76da.js.map